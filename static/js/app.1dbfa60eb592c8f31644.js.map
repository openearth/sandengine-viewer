{"version":3,"sources":["webpack:///static/js/app.1dbfa60eb592c8f31644.js","webpack:///./src/components/LayerControl.vue","webpack:///./src/components/MorphologyCanvas.vue","webpack:///./src/components/TimeSlider.vue","webpack:///./src/components/map-draw.js","webpack:///./src/components/jetski.js","webpack:///./src/components/lidar.js","webpack:///./src/components/adcp.js","webpack:///./src/components/aeolian.js","webpack:///./src/components/drifters.js","webpack:///./src/components/meteo.js","webpack:///./src/components/morphology.js","webpack:///./src/App.vue","webpack:///./src/event-bus.js","webpack:///./src/components/layer-control.js","webpack:///./src/components/LayerControl.vue?aefb","webpack:///./src/components/morphology-canvas.js","webpack:///./src/components/MorphologyCanvas.vue?5143","webpack:///./src/components/time-slider.js","webpack:///./src/components/TimeSlider.vue?e73b","webpack:///./src/app.js","webpack:///./src/App.vue?8fb7","webpack:///./src/main.js","webpack:///./node_modules/moment/locale ^\\.\\/.*$"],"names":["webpackJsonp","5W1q","module","exports","5h6Y","7zck","93FX","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","MorphologyCanvas_injectStyle","TimeSlider_injectStyle","DrawControls","map","plots","dataset","layers","draw","mapbox_gl_draw","displayControlsDefault","controls","line_string","trash","addControl","on","region","getAll","div_id","stringify_default","push","bus","$emit","download_raster_profile","features","length","geometry","scale","begin_date","end_date","data","polyline","Headers","console","log","fetch","SERVER_URL","method","body","mode","headers","Content-Type","then","res","json","profile_data","bokehplot","div","document","getElementById","innerHTML","plt","Bokeh","Plotting","source","GeoJSONDataSource","geojson","plot","figure","title","tools","width","height","background_fill_color","x_axis_label","y_axis_label","line","Line","x","field","y","line_color","line_width","add_glyph","doc","Document","add_root","embed","add_document_standalone","updateJetski","arguments","undefined","begin","moment_default","end","diff","get_images_urls","step","interval","unit","json_data","image_data","updateLayers","urls","jetski","find","item","name","active","icon","type","id","range","css","info","_","each","old","removeLayer","url","mapid","token","mapUrl","getTileUrl","layer","layout","visibility","tiles","tileSize","addLayer","mapId","join","AddLidar","lidar_get_images_urls","AddLayers","grouplayer","lidar_getTileUrl","paint","ShowADCPData","point","locationID","properties","location_ID","timeEnd","a","unix","parseFloat","timeStart","resp","timeseries","format","adcp_bokehplot","catch","reason","warn","_legend","location","AddAeolian","layer_json","cursor","circle-radius","base","stops","circle-color","filterAeolianBy","timeExtent","tstart","tend","filters","setFilter","ShowAeolianData","deploymentName","aeolian_bokehplot","keys","keys_default","time","slice","event","Date","x_axis_type","locationIDdata","heights","colors","i","filterFunction","value","index","array","toString","xwithoutzero","filter","ywithoutzero","ColumnDataSource","legend","AddDrifters","line-color","line-width","filterDrifterBy","AddMeteo","addCanvas","windsock","ShowMeteoData","ids","meteo_bokehplot","jsondata","lat","lon","animate","canvas","coordinates","direc","aspeed","t","ctx","getContext","c","clearRect","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","beginPath","arc","Math","PI","fillStyle","fill","closePath","moveTo","bh","lineTo","bw","stroke","bands","selectedBands","band","speed","rect","translate","w","h","rotate","requestAnimationFrame","meteodata","NaN","ylabels","AddMorphology","property","default","circle-stroke-width","App_injectStyle","Object","defineProperty","vue_esm","vuetify","vuetify_default","n","object_keys","lodash","lodash_default","layer_control","props","Array","required","mounted","watch","handler","this","toggleLayers","deep","methods","_this","isNil","vis","sublayer","setLayoutProperty","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","attrs","dense","pt-0","model","callback","$$v","$set","expression","_v","_s","style","_e","domProps","staticRenderFns","esExports","LayerControl","normalizeComponent","__vue_styles__","Component","components_LayerControl","slicedToArray","slicedToArray_default","morphology_canvas","baseUrl","meta","nextTick","selector","el","$el","querySelector","children","_children","video","dest","ctxSrc","ctxDest","extent","publishLayers","deferredMountedTo","drawImage","nPixels","frame","getImageData","putImageData","_this2","MorphologyCanvas_render","src","mp4","autoplay","loop","crossorigin","MorphologyCanvas_staticRenderFns","MorphologyCanvas_esExports","MorphologyCanvas","MorphologyCanvas_normalizeComponent","MorphologyCanvas___vue_styles__","MorphologyCanvas_Component","jquery","jquery_default","moment","time_slider","showPlay","Boolean","now","configDialog","startDateMenu","endDateMenu","startDate","endDate","loopDuration","maxFps","last","state","slider","input","ionRangeSlider","drag_interval","min","max","grid","hide_min_max","onFinish","val","currentExtent","onUpdate","prettify","dateFormat","dragging","update","from","to","pause","play","performance","elapsed","frac","clamp","result","dateByFraction","fraction","start","clone","add","computed","currentTime","allowedDates","TimeSlider_render","color","floating","role","mandatory","flat","click","$event","stopPropagation","max-width","ref","lazy","close-on-content-click","transition","offset-y","full-width","return-value","update:returnValue","slot","label","prepend-icon","readonly","allowed-dates","no-title","scrollable","scopedSlots","_u","fn","save","cancel","TimeSlider_staticRenderFns","TimeSlider_esExports","TimeSlider","TimeSlider_normalizeComponent","TimeSlider___vue_styles__","TimeSlider_Component","components_TimeSlider","stringify","vue2mapbox_gl","vue2mapbox_gl_default","use","app","drawer","fixed","showSettings","items","msg","$on","set","target","$refs","timeslider","activeLayers","indexOf","x_range","e","getCanvas","queryRenderedFeatures","click_lon","lngLat","lng","click_lat","getLayer","meteo","lon_min","lon_max","lat_min","lat_max","params","p","removePlot","splice","components","layer-control","time-slider","App_render","light","clipped-left","large","size","tile","alt","fluid","fill-height","row","wrap","justify-space-between","sm12","mb-2","access-token","map-style","center","zoom","pitch","bearing","min-zoom","show-play","App_staticRenderFns","App_esExports","App","App_normalizeComponent","App___vue_styles__","App_Component","src_App","config","productionTip","template","TPDC","Zn8a","hkda","uTBe","uslO","webpackContext","req","webpackContextResolve","Error","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","resolve"],"mappings":"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OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,QAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OAWAjP,GAAA1U,KAAA,WACA,MAAA8E,QAAA9E,KAAA/J,IAEAye,EAAAkP,QAAAhP,EACAxf,EAAAC,QAAAqf,EACAA,EAAAxY,GAAA,UvB0pDG","file":"static/js/app.1dbfa60eb592c8f31644.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"5W1q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"5h6Y\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"7zck\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"93FX\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/dist/vuetify.js\nvar vuetify = __webpack_require__(\"3EgV\");\nvar vuetify_default = /*#__PURE__*/__webpack_require__.n(vuetify);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/keys.js\nvar object_keys = __webpack_require__(\"fZjL\");\nvar keys_default = /*#__PURE__*/__webpack_require__.n(object_keys);\n\n// CONCATENATED MODULE: ./src/event-bus.js\n\nvar bus = new vue_esm[\"a\" /* default */]();\n// EXTERNAL MODULE: ./node_modules/material-design-icons/iconfont/material-icons.css\nvar material_icons = __webpack_require__(\"uTBe\");\nvar material_icons_default = /*#__PURE__*/__webpack_require__.n(material_icons);\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"M4fF\");\nvar lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/components/layer-control.js\n\n\n/* harmony default export */ var layer_control = ({\n  name: 'layer-control',\n  props: {\n    layers: {\n      type: Array,\n      required: true\n    },\n    map: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {};\n  },\n  mounted: function mounted() {},\n\n  watch: {\n    // Watch \"layers\". This is a switch, which can toggle a layer on or off\n    // When toggled, this watcher will activate the toggleLayers function.\n    layers: {\n      handler: function handler(layers) {\n        this.toggleLayers();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    toggleLayers: function toggleLayers() {\n      var _this = this;\n\n      if (lodash_default.a.isNil(this.map)) {\n        return;\n      }\n      // Function to toggle the visibility of the layers.\n      lodash_default.a.each(this.layers, function (layer) {\n        var vis = \"none\";\n        if (layer.active) {\n          vis = \"visible\";\n        }\n\n        if (layer.type === 'group') {\n          lodash_default.a.each(layer.data, function (sublayer) {\n            _this.map.setLayoutProperty(sublayer.id, \"visibility\", vis);\n          });\n        } else {\n          _this.map.setLayoutProperty(layer.id, \"visibility\", vis);\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ddcb93a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LayerControl.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-control\"},_vm._l((_vm.layers),function(layer){return _c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(layer.name))]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var LayerControl = (esExports);\n// CONCATENATED MODULE: ./src/components/LayerControl.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"hkda\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ddcb93a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  layer_control,\n  LayerControl,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_LayerControl = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(\"d7EF\");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/components/morphology-canvas.js\n\n\n\n\n\n/* harmony default export */ var morphology_canvas = ({\n  name: 'morphology-canvas',\n  data: function data() {\n    return {\n      baseUrl: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/morphology/jetski',\n      meta: null,\n      map: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    fetch(this.baseUrl + '/meta.json').then(function (resp) {\n      return resp.json();\n    }).then(function (json) {\n      _this.meta = json;\n      vue_esm[\"a\" /* default */].nextTick(function () {\n        // after we render everything lookup all elements\n        lodash_default.a.each(_this.meta, function (item, i) {\n\n          var selector = '#morphology-' + i;\n          var el = _this.$el.querySelector(selector);\n          var children = el.children;\n\n          var _children = slicedToArray_default()(children, 3),\n              video = _children[0],\n              source = _children[1],\n              dest = _children[2];\n\n          item.width = 500;\n          item.height = 625;\n          item.video = video;\n          item.source = source;\n          item.dest = dest;\n          item.ctxSrc = source.getContext('2d');\n          item.ctxDest = dest.getContext('2d');\n\n          item.id = 'morphology-canvas-' + i;\n\n          var layer = {\n            name: \"Jetski-\" + i,\n            active: false,\n            visibility: \"none\",\n            id: item.id,\n            type: 'raster',\n            icon: 'filter_drama',\n            source: {\n              type: 'canvas',\n              animate: true,\n              canvas: item.id,\n              coordinates: [[item.extent[0], item.extent[1]], [item.extent[2], item.extent[1]], [item.extent[2], item.extent[3]], [item.extent[0], item.extent[3]]]\n            },\n            paint: {}\n          };\n          item.layer = layer;\n          console.log('layer', layer);\n          _this.publishLayers();\n        });\n        _this.animate();\n      });\n    });\n  },\n\n  methods: {\n    deferredMountedTo: function deferredMountedTo(map) {\n      this.map = map;\n      this.publishLayers();\n    },\n    animate: function animate() {\n      requestAnimationFrame(this.animate);\n      lodash_default.a.each(this.meta, function (item) {\n        // render to canvas\n        item.ctxSrc.drawImage(item.video, 0, 0, item.width, item.height * 2);\n        // get frame into memory\n        var nPixels = item.width * item.height;\n        var frame = item.ctxSrc.getImageData(0, 0, item.width, item.height * 2);\n        for (var i = 0; i < nPixels; i++) {\n          var r = frame.data[i * 4 + 0];\n          var g = frame.data[i * 4 + 1];\n          var b = frame.data[i * 4 + 2];\n          var a = frame.data[i * 4 + nPixels * 4] > 100 ? 0 : 255;\n          frame.data[i * 4 + 3] = a;\n        };\n        item.ctxDest.putImageData(frame, 0, 0);\n      });\n    },\n    publishLayers: function publishLayers() {\n      var _this2 = this;\n\n      if (this.map == null) {\n        // map is not set yet\n        return;\n      }\n      lodash_default.a.each(this.meta, function (item) {\n        _this2.map.addLayer(item.layer);\n        bus.$emit('add-layer', item.layer);\n      });\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e38d90c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MorphologyCanvas.vue\nvar MorphologyCanvas_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"},_vm._l((_vm.meta),function(item,index){return _c('div',{attrs:{\"id\":'morphology-' + index}},[_c('video',{staticClass:\"hidden\",attrs:{\"width\":500,\"height\":1250,\"src\":_vm.baseUrl + '/' + item.mp4,\"autoplay\":\"\",\"loop\":\"\",\"crossorigin\":\"anonymous\"}}),_vm._v(\" \"),_c('canvas',{staticClass:\"source hidden\",attrs:{\"width\":500,\"height\":1250}}),_vm._v(\" \"),_c('canvas',{staticClass:\"dest\",attrs:{\"width\":500,\"height\":625,\"id\":'morphology-canvas-' + index}})])}))}\nvar MorphologyCanvas_staticRenderFns = []\nvar MorphologyCanvas_esExports = { render: MorphologyCanvas_render, staticRenderFns: MorphologyCanvas_staticRenderFns }\n/* harmony default export */ var MorphologyCanvas = (MorphologyCanvas_esExports);\n// CONCATENATED MODULE: ./src/components/MorphologyCanvas.vue\nfunction MorphologyCanvas_injectStyle (ssrContext) {\n  __webpack_require__(\"Zn8a\")\n}\nvar MorphologyCanvas_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar MorphologyCanvas___vue_template_functional__ = false\n/* styles */\nvar MorphologyCanvas___vue_styles__ = MorphologyCanvas_injectStyle\n/* scopeId */\nvar MorphologyCanvas___vue_scopeId__ = \"data-v-e38d90c0\"\n/* moduleIdentifier (server only) */\nvar MorphologyCanvas___vue_module_identifier__ = null\nvar MorphologyCanvas_Component = MorphologyCanvas_normalizeComponent(\n  morphology_canvas,\n  MorphologyCanvas,\n  MorphologyCanvas___vue_template_functional__,\n  MorphologyCanvas___vue_styles__,\n  MorphologyCanvas___vue_scopeId__,\n  MorphologyCanvas___vue_module_identifier__\n)\n\n/* harmony default export */ var components_MorphologyCanvas = (MorphologyCanvas_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(\"7t+N\");\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"PJh5\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./node_modules/ion-rangeslider/js/ion.rangeSlider.js\nvar ion_rangeSlider = __webpack_require__(\"w+/p\");\nvar ion_rangeSlider_default = /*#__PURE__*/__webpack_require__.n(ion_rangeSlider);\n\n// EXTERNAL MODULE: ./node_modules/font-awesome/css/font-awesome.css\nvar font_awesome = __webpack_require__(\"5W1q\");\nvar font_awesome_default = /*#__PURE__*/__webpack_require__.n(font_awesome);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/components/time-slider.js\n\n\n\n\n\n\n\nvar DAY_FORMAT = 'Y-MM-DD';\n\n/* harmony default export */ var time_slider = ({\n  name: \"time-slider\",\n  props: {\n    showPlay: {\n      type: Boolean,\n      default: true\n    },\n    // the maximum extent for this slider\n    extent: {\n      type: Array,\n      default: function _default() {\n        var now = moment_default()();\n        var then = moment_default()(\"20110301\", \"YYYYMMDD\");\n        return [then, now];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      configDialog: false,\n      startDateMenu: false,\n      endDateMenu: false,\n      // by default use the full extent\n      startDate: this.extent[0].format(DAY_FORMAT),\n      endDate: this.extent[1].format(DAY_FORMAT),\n      // duration of a loop\n      loopDuration: 20,\n      maxFps: 10,\n      // last timestep (for syncing rate)\n      last: null,\n      loop: true,\n      state: 'paused',\n      slider: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    vue_esm[\"a\" /* default */].nextTick(function () {\n      var input = _this.$el.querySelector(\"input.slider\");\n      jquery_default()(input).ionRangeSlider({\n        type: \"double\",\n        drag_interval: true,\n        min: 0,\n        max: 1,\n        // not sure how to avoid steps, now use 1000 steps\n        step: 0.001,\n        grid: false,\n        hide_min_max: true,\n        onFinish: function onFinish(val) {\n          _this.$emit('time-extent-update', _this.currentExtent);\n        },\n        onUpdate: function onUpdate(val) {\n          _this.$emit('time-extent-update', _this.currentExtent);\n        },\n        prettify: function prettify(val) {\n          return _this.dateFormat(val);\n        }\n      });\n      _this.slider = jquery_default()(input).data(\"ionRangeSlider\");\n      _this.step();\n    });\n  },\n\n  watch: {\n    extent: function extent(val) {\n      if (this.slider.dragging) {\n        return;\n      }\n      // always slide from 0 to 1\n      this.slider.update({\n        from: 0,\n        to: 1\n      });\n    }\n  },\n  methods: {\n    pause: function pause() {\n      this.state = 'paused';\n    },\n    play: function play() {\n      this.last = performance.now();\n      this.state = 'playing';\n    },\n    step: function step(now) {\n      // request the next step (yes you can call this function now, does not matter)\n      requestAnimationFrame(this.step);\n      // first update, when this.last is still null, set value and return\n      if (!this.last) {\n        this.last = now;\n        return;\n      }\n      // now we can just return if we are not playing (will result in a regular poll for playing)\n      if (this.state !== 'playing') {\n        return;\n      }\n      // elapsed time in seconds\n      var elapsed = (now - this.last) / 1000;\n      // seconds per frame did not elapse, we're done\n      if (elapsed < 1 / this.maxFps) {\n        // this keeps the number of events low (otherwise you get 60 events per second)\n        return;\n      }\n      // elapsed fraction\n      var frac = elapsed / this.loopDuration;\n      // update with fraction\n      var val = {\n        from: lodash_default.a.clamp(this.slider.result.from + frac, 0, 1),\n        to: lodash_default.a.clamp(this.slider.result.to + frac, 0, 1)\n        // TODO: google earth uses a smarter loop,\n        // it keeps track of the diff somehow\n        // we reached the end, loop\n      };if (val.to == 1) {\n        if (this.loop) {\n          val.to = val.to - val.from;\n          val.from = 0;\n        } else {\n          // stop updating\n          return;\n        }\n      }\n      // apply it to the slider (fires update event)\n      this.slider.update(val);\n      // remember current time\n      this.last = now;\n    },\n    dateByFraction: function dateByFraction(fraction) {\n      // miliseconds diff\n      var start = moment_default()(this.startDate);\n      var end = moment_default()(this.endDate);\n      // positive number of miliseconds\n      var diff = end.diff(start);\n      var time = start.clone().add(diff * fraction, 'ms');\n      return time;\n    },\n    dateFormat: function dateFormat(fraction) {\n      return this.dateByFraction(fraction).format(DAY_FORMAT);\n    },\n    deferredMountedTo: function deferredMountedTo(map) {\n      // Used when nested in a Leaflet or Mapbox\n    }\n  },\n  computed: {\n    currentTime: function currentTime() {\n      return this.dateByFraction(this.slider.result.to);\n    },\n    currentExtent: function currentExtent() {\n      return [this.dateByFraction(this.slider.result.from), this.dateByFraction(this.slider.result.to)];\n    },\n    allowedDates: function allowedDates() {\n      // return allowed dates, based on extent\n      return {\n        min: this.extent[0].format(DAY_FORMAT),\n        max: this.extent[1].format(DAY_FORMAT)\n      };\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e8fddb0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TimeSlider.vue\nvar TimeSlider_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"time-slider\",attrs:{\"color\":\"white\",\"floating\":\"\",\"dense\":\"\",\"role\":\"slider\"}},[_c('div',{staticClass:\"time-slider-wrapper\"},[_c('input',{staticClass:\"slider\",attrs:{\"type\":\"text\",\"name\":\"slider\",\"value\":\"\"}})]),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}},[_c('v-btn',{attrs:{\"value\":\"playing\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.play($event)}}},[_c('v-icon',[_vm._v(\"fa-play\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"value\":\"paused\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.pause($event)}}},[_c('v-icon',[_vm._v(\"fa-pause\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{model:{value:(_vm.loop),callback:function ($$v) {_vm.loop=$$v},expression:\"loop\"}},[_c('v-btn',{attrs:{\"value\":true,\"flat\":\"\"}},[_c('v-icon',[_vm._v(\"fa-repeat\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog = true}}},[_c('v-icon',[_vm._v(\"fa-gear\")])],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.configDialog),callback:function ($$v) {_vm.configDialog=$$v},expression:\"configDialog\"}},[_c('v-card',[_c('v-card-text',[_c('v-menu',{ref:\"startDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.startDate},on:{\"update:returnValue\":function($event){_vm.startDate=$event}},model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_vm._v(\" \"),_c('v-menu',{ref:\"endDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.endDate},on:{\"update:returnValue\":function($event){_vm.endDate=$event}},model:{value:(_vm.endDateMenu),callback:function ($$v) {_vm.endDateMenu=$$v},expression:\"endDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog=false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar TimeSlider_staticRenderFns = []\nvar TimeSlider_esExports = { render: TimeSlider_render, staticRenderFns: TimeSlider_staticRenderFns }\n/* harmony default export */ var TimeSlider = (TimeSlider_esExports);\n// CONCATENATED MODULE: ./src/components/TimeSlider.vue\nfunction TimeSlider_injectStyle (ssrContext) {\n  __webpack_require__(\"TPDC\")\n}\nvar TimeSlider_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar TimeSlider___vue_template_functional__ = false\n/* styles */\nvar TimeSlider___vue_styles__ = TimeSlider_injectStyle\n/* scopeId */\nvar TimeSlider___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TimeSlider___vue_module_identifier__ = null\nvar TimeSlider_Component = TimeSlider_normalizeComponent(\n  time_slider,\n  TimeSlider,\n  TimeSlider___vue_template_functional__,\n  TimeSlider___vue_styles__,\n  TimeSlider___vue_scopeId__,\n  TimeSlider___vue_module_identifier__\n)\n\n/* harmony default export */ var components_TimeSlider = (TimeSlider_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"mvHQ\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./node_modules/vue2mapbox-gl/dist/vue2mapbox-gl.js\nvar vue2mapbox_gl = __webpack_require__(\"5BM0\");\nvar vue2mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(vue2mapbox_gl);\n\n// EXTERNAL MODULE: ./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js\nvar mapbox_gl_draw = __webpack_require__(\"uZ0T\");\nvar mapbox_gl_draw_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl_draw);\n\n// EXTERNAL MODULE: ./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css\nvar dist_mapbox_gl_draw = __webpack_require__(\"5h6Y\");\nvar dist_mapbox_gl_draw_default = /*#__PURE__*/__webpack_require__.n(dist_mapbox_gl_draw);\n\n// CONCATENATED MODULE: ./src/components/map-draw.js\n\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue2mapbox_gl_default.a);\n\nfunction DrawControls(map, plots, dataset, layers) {\n  var draw = new mapbox_gl_draw({\n    displayControlsDefault: false,\n    controls: {\n      line_string: true,\n      trash: true\n    }\n  });\n  map.addControl(draw);\n  map.on('draw.create', function () {\n    // if (layers..active) {\n    var region = draw.getAll();\n    var begin_date = \"2011-08-02\";\n    var end_date = \"2011-09-02\";\n    var dataset = \"bathymetry_jetski\";\n    var div_id = stringify_default()(region);\n    plots.push(div_id);\n    bus.$emit('click-plots', plots);\n    var profile = download_raster_profile(region.features[region.features.length - 1].geometry, dataset, 20, begin_date, end_date, div_id);\n    // }\n  });\n}\n\nfunction download_raster_profile(region, dataset, scale, begin_date, end_date, div_id) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com';\n  // var SERVER_URL = 'http://localhost:8080'\n  var data = {\n    'polyline': region,\n    \"dataset\": dataset,\n    \"begin_date\": begin_date,\n    \"end_date\": end_date,\n    'scale': scale\n  };\n\n  var myHeaders = new Headers();\n  console.log(dataset, stringify_default()(data));\n  var profile = fetch(SERVER_URL + '/get_raster_profile', {\n    method: \"POST\",\n    body: stringify_default()(data),\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n      // 'Access-Control-Allow-Origin': '*'\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (profile_data) {\n    bokehplot(profile_data, data, div_id);\n    return profile_data;\n  });\n  return profile;\n};\n\nfunction bokehplot(profile_data, data, div_id) {\n  var div = document.getElementById(\"plot_\" + div_id);\n\n  div.innerHTML = \"\"; // clear div\n\n  // console.log('profile_data', JSON.stringify(profile_data), profile_data.type)\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  var begin = data.begin_date;\n  var end = data.end_date;\n  var source = new Bokeh.GeoJSONDataSource({\n    geojson: stringify_default()(profile_data)\n  });\n\n  // var y = meteodata[data].data.slice(begin, end)\n  // y = _.map(y, function(i) {\n  //   if (i >= 9.969209968386869e+36) {\n  //     return NaN\n  //   } else {\n  //     return i\n  //   }\n  // })\n  // var x = []\n  // _.each(meteodata.time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  // var source = new Bokeh.ColumnDataSource({\n  //   data: {\n  //     x: x,\n  //     y: y\n  //   }\n  // });\n  var plot = new plt.figure({\n    title: data.dataset,\n    tools: tools,\n    width: 800,\n    height: 350,\n    background_fill_color: \"#F2F2F7\",\n    x_axis_label: 'Distance w.r.t. first coordinate [m]',\n    y_axis_label: 'Elevation [m, NAP]'\n  });\n  var line = new Bokeh.Line({\n    x: {\n      field: \"distance\"\n    },\n    y: {\n      field: \"b1_mean\"\n    },\n    line_color: \"#666699\",\n    line_width: 2\n  });\n  plot.add_glyph(line, source);\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/jetski.js\n\n\n\n\n\nfunction updateJetski(map, layers) {\n  var begin_date = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"2010-01-01\";\n  var end_date = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"2018-01-01\";\n\n  var begin = moment_default()(begin_date);\n  var end = moment_default()(end_date);\n  var diff = end.diff(begin, 'day');\n  var json_data = {\n    \"dataset\": \"bathymetry_jetski\",\n    \"begin_date\": begin,\n    \"end_date\": end,\n    \"step\": diff,\n    \"interval\": diff,\n    \"unit\": \"day\"\n  };\n  get_images_urls(json_data, map, layers);\n}\n\nfunction get_images_urls(json_data, map, layers) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com';\n  // var SERVER_URL = 'http://localhost:8080'\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\n    method: \"POST\",\n    body: stringify_default()(json_data),\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (image_data) {\n    updateLayers(image_data, map, layers);\n\n    return image_data;\n  });\n  return image_urls;\n}\n\nfunction updateLayers(urls, map, layers) {\n  var jetski = layers.find(function (item) {\n    return item.name === \"Jetski\";\n  });\n  if (jetski === undefined) {\n    var jetski = {\n      \"name\": \"Jetski\",\n      \"active\": false,\n      \"icon\": \"landscape\",\n      \"data\": [],\n      \"type\": \"group\",\n      \"id\": \"Jetski\",\n      \"range\": \"-12 7\",\n      \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\n          #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\n          #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\n          #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\n          #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\n          #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\n          #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\n          #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\n          #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\n          #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\n          #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\n          #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\n          #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\n          #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\n          #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\n      \"info\": \"Zandmotor bathymetric and topographic survey, gridded on 20m grid. <a href='https://data.4tu.nl/repository/uuid:c40da555-3eff-4c3c-89d6-136994a07120'>Data link</a>\"\n\n    };\n    layers.push(jetski);\n  } else {\n    _.each(jetski.data, function (old) {\n      map.removeLayer(old.id);\n    });\n    jetski.data = [];\n  }\n  _.each(urls, function (url) {\n    var mapid = url.mapid;\n    var token = url.token;\n    var mapUrl = getTileUrl(mapid, token);\n    var layer = {\n      id: mapid,\n      name: \"jetski\",\n      type: \"raster\",\n      layout: {\n        visibility: \"none\"\n      },\n      source: {\n        type: \"raster\",\n        tiles: [mapUrl],\n        tileSize: 256\n      }\n    };\n    map.addLayer(layer);\n    jetski.data.push(layer);\n  });\n  bus.$emit('select-layers', layers);\n}\n\nfunction getTileUrl(mapId, token) {\n  var baseUrl = \"https://earthengine.googleapis.com/map\";\n  var url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\n  url += \"?token=\" + token;\n  return url;\n}\n\n\n// CONCATENATED MODULE: ./src/components/lidar.js\n\n\n\nfunction AddLidar(map, layers) {\n  var json_data = {\n    \"dataset\": \"bathymetry_lidar\",\n    \"begin_date\": \"2010-08-01\",\n    \"end_date\": \"2012-09-01\",\n    \"step\": 30,\n    \"interval\": 30,\n    \"unit\": \"day\"\n  };\n  lidar_get_images_urls(json_data, map, layers);\n}\n\nfunction lidar_get_images_urls(json_data, map, layers) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com';\n  // var SERVER_URL = 'http://localhost:8080'\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\n    method: \"POST\",\n    body: stringify_default()(json_data),\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (image_data) {\n    AddLayers(image_data, map, layers);\n    return image_data;\n  });\n  return image_urls;\n}\n\nfunction AddLayers(urls, map, layers) {\n  var grouplayer = {\n    \"name\": \"LiDAR elevation [m, NAP]\",\n    \"active\": false,\n    \"icon\": \"fa-plane\",\n    \"data\": [],\n    \"type\": \"group\",\n    \"range\": \"-12 7\",\n    \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\n        #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\n        #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\n        #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\n        #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\n        #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\n        #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\n        #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\n        #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\n        #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\n        #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\n        #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\n        #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\n        #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\n        #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\n    \"info\": \"Elevation measurements of the dutch coast done with LIDAR. <a href='https://data.4tu.nl/repository/uuid:8a8a91bc-e520-4d19-a127-5fd2232cc58e'>Data link</a>\"\n\n  };\n\n  _.each(urls, function (url) {\n    var mapid = url.mapid;\n    var token = url.token;\n    var mapUrl = lidar_getTileUrl(mapid, token);\n    var layer = {\n      id: mapid,\n      name: \"lidar\",\n      type: \"raster\",\n      active: true,\n      layout: {\n        visibility: \"visible\"\n      },\n      source: {\n        type: \"raster\",\n        tiles: [mapUrl],\n        tileSize: 256\n      },\n      paint: {}\n    };\n    map.addLayer(layer);\n    grouplayer.data.push(layer);\n  });\n  layers.push(grouplayer);\n  bus.$emit('select-layers', layers);\n}\n\nfunction lidar_getTileUrl(mapId, token) {\n  var baseUrl = \"https://earthengine.googleapis.com/map\";\n  var url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\n  url += \"?token=\" + token;\n  return url;\n}\n\n\n// CONCATENATED MODULE: ./src/components/adcp.js\n\n\n\n\nfunction AddADCP(map, layers) {\n  var layer_json = {\n    id: 'adcp-layer',\n    active: true,\n    visibility: \"visible\",\n    name: 'ADCP',\n    type: 'circle',\n    icon: 'grain',\n    'icon-image': '/static/adcp.png',\n    source: {\n      type: 'geojson',\n      data: {\n        \"geometry\": {\n          \"coordinates\": [4.217663764953613, 52.080467224121094],\n          \"type\": \"Point\"\n        },\n        \"id\": \"adcp-f\",\n        \"properties\": {},\n        \"type\": \"Feature\"\n      }\n    },\n    paint: {\n      // make circles larger as the user zooms from z12 to z22\n      'circle-radius': 30,\n      'circle-color': 'pink'\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction ShowADCPData(point, div_id) {\n  // todo check if multiple are selected; for now just select first\n  var locationID = point.properties.location_ID;\n  var timeEnd = moment_default.a.unix(parseFloat(point.properties.timeEnd));\n  var timeStart = moment_default.a.unix(parseFloat(point.properties.timeStart));\n\n  fetch(\"/static/adcp_data_1000.json\").then(function (resp) {\n    return resp.json();\n  }).then(function (timeseries) {\n    locationID = locationID;\n    timeseries = timeseries;\n    timeEnd = timeEnd.format('L');\n    timeStart = timeStart.format('L');\n    adcp_bokehplot(locationID, timeseries, timeEnd, timeStart, point, div_id);\n  }).catch(function (reason) {\n    console.warn(reason);\n  });\n}\n\nfunction adcp_bokehplot(locationID, timeseries, timeEnd, timeStart, point, div_id) {\n  console.log('adcp', timeseries);\n  // Check if timeseries is set\n  if (timeseries == null) {\n    console.log('No timeseries defined');\n    return -1;\n  }\n\n  var div = document.getElementById(div_id);\n  div.innerHTML = \"\"; // clear div\n\n  // General Bokeh settings\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n\n  // Get time slice\n  // var data = timeseries[deploymentName];\n  // var keys = Object.keys(data);\n  //\n  // var time = data[keys[0]];\n  // var begin = 0;\n  // var end = time.length;\n  //\n  // var x = []\n  // _.each(time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  //\n  // var plot = new plt.figure({\n  //   title: \"Deployment: \" + deploymentName + \" Location: \" + locationID + \"\\n Start deployment: \" + timeStart + \" End deployment: \" + timeEnd,\n  //   tools: tools,\n  //   width: 1000,\n  //   height: 350,\n  //   x_axis_type: 'datetime',\n  //   x_axis_label: 'Time',\n  //   y_axis_label: 'Number of particles [-]',\n  //   background_fill_color: \"#F2F2F7\"\n  // });\n  //\n  // // output linesegment per height\n  // var locationIDdata = data[locationID];\n  // var heights = Object.keys(locationIDdata);\n  // var colors = [\"#666699\", \"#66ff66\", \"#ff6666\"];\n  //\n  // for (var i = 0; i < heights.length; i++) {\n  //   var height = 'height ' + locationIDdata[heights[i]]['height'].toString() + ' m';\n  //   var y = data[locationID][heights[i]]['particle_counts'];\n  //   y = y.slice(begin, end);\n  //\n  //   // remove 0 values\n  //   function filterFunction(value, index, array) {\n  //     return y[index] > 0;\n  //   }\n  //   var xwithoutzero = x.filter(filterFunction);\n  //   var ywithoutzero = y.filter(filterFunction);\n  //\n  //   var source = new Bokeh.ColumnDataSource({\n  //     data: {\n  //       x: xwithoutzero,\n  //       y: ywithoutzero\n  //     }\n  //   });\n  //\n  //   var line = plot.line({\n  //     field: 'x'\n  //   }, {\n  //     field: 'y'\n  //   }, {\n  //     source: source,\n  //     legend: height,\n  //     line_color: colors[i],\n  //     line_width: 2\n  //   })\n  // }\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/aeolian.js\n\n\n\n\n\nfunction AddAeolian(map, layers) {\n  var layer_json = {\n    id: 'aeolian-layer',\n    active: true,\n    visibility: \"visible\",\n    name: 'Aeolian transport',\n    type: 'circle',\n    cursor: 'pointer',\n    icon: 'grain',\n    source: {\n      type: 'geojson',\n      data: '/static/aeolian_data.geojson'\n    },\n    \"info\": \"Processed data on aeolian sediment transport from the 6-week MegaPeX field campaign at the Sand Motor mega nourishment. <a href='https://data.4tu.nl/repository/uuid:3bc3591b-9d9e-4600-8705-5b7eba6aa3ed'>Data link</a>\",\n    paint: {\n      // make circles larger as the user zooms from z12 to z22\n      'circle-radius': {\n        'base': 1.75,\n        'stops': [[12, 2], [22, 180]]\n      },\n      'circle-color': ['match', ['get', 'deploymentName'], 'dn1', '#fbb03b', 'dn2', '#223b53', 'dn3', '#e55e5e', 'dn4', '#3bb2d0', 'dn5', '#956a37', 'dn6', '#8a5f2c', 'dn7', '#815726', 'dn8', '#724c20', 'dn9', '#66451f', 'dn10', '#2f1b02', 'dn11', '#201503', 'dn67', '#453c09',\n      /* other */\n      '#ccc']\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterAeolianBy(timeExtent, map) {\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n  var filters = [\"all\", ['>=', 'tStart', tstart], ['<=', 'tEnd', tend]];\n  map.setFilter('aeolian-layer', filters);\n}\n\nfunction ShowAeolianData(point, div_id) {\n  // todo check if multiple are selected; for now just select first\n  var deploymentName = point.properties.deploymentName;\n  var locationID = point.properties.location_ID;\n  var timeEnd = moment_default.a.unix(parseFloat(point.properties.timeEnd));\n  var timeStart = moment_default.a.unix(parseFloat(point.properties.timeStart));\n\n  fetch(\"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/aeolian/aeolian_data_\" + deploymentName + \".json\").then(function (resp) {\n    return resp.json();\n  }).then(function (timeseries) {\n    locationID = locationID;\n    deploymentName = deploymentName;\n    timeseries = timeseries;\n    timeEnd = timeEnd.format('L');\n    timeStart = timeStart.format('L');\n    aeolian_bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id);\n  }).catch(function (reason) {\n    console.warn(reason);\n  });\n}\n\nfunction aeolian_bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id) {\n\n  // Check if timeseries is set\n  if (timeseries == null) {\n    console.log('No timeseries defined');\n    return -1;\n  }\n\n  var div = document.getElementById(div_id);\n  div.innerHTML = \"\"; // clear div\n\n  // General Bokeh settings\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n\n  // Get time slice\n  var data = timeseries[deploymentName];\n  var keys = keys_default()(data);\n\n  var time = data[keys[0]];\n  var begin = 0;\n  var end = time.length;\n\n  var x = [];\n  _.each(time.slice(begin, end), function (event) {\n    x.push(new Date(event));\n  });\n\n  var plot = new plt.figure({\n    title: \"Deployment: \" + deploymentName + \" Location: \" + locationID + \"\\n Start deployment: \" + timeStart + \" End deployment: \" + timeEnd,\n    tools: tools,\n    width: 800,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: 'Number of particles [-]',\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  // output linesegment per height\n  var locationIDdata = data[locationID];\n  var heights = keys_default()(locationIDdata);\n  var colors = [\"#666699\", \"#66ff66\", \"#ff6666\"];\n\n  for (var i = 0; i < heights.length; i++) {\n\n    // remove 0 values\n    var filterFunction = function filterFunction(value, index, array) {\n      return y[index] > 0;\n    };\n\n    var height = 'height ' + locationIDdata[heights[i]]['height'].toString() + ' m';\n    var y = data[locationID][heights[i]]['particle_counts'];\n    y = y.slice(begin, end);\n    var xwithoutzero = x.filter(filterFunction);\n    var ywithoutzero = y.filter(filterFunction);\n\n    var source = new Bokeh.ColumnDataSource({\n      data: {\n        x: xwithoutzero,\n        y: ywithoutzero\n      }\n    });\n\n    var line = plot.line({ field: 'x' }, { field: 'y' }, { source: source, legend: height, line_color: colors[i], line_width: 2 });\n  }\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/drifters.js\n\n\n\n\nfunction AddDrifters(map, layers) {\n  var layer_json = {\n    active: false,\n    name: 'Drifters',\n    icon: 'explore',\n    id: 'drifter-layer',\n    visibility: \"visible\",\n    type: 'line',\n    source: {\n      type: 'geojson',\n      data: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/drifters/drifters.geojson'\n    },\n    \"info\": \"Drifter data as measured with GPS-tracked drifters during the megapex 2014 field campaign. Experiments have been done during ebb and flood and in a rip current. <a href='https://data.4tu.nl/repository/uuid:7f190c88-ae2e-43cf-959c-2b7d5c321573'>Data link</a>\",\n    paint: {\n      'line-color': ['get', 'color'],\n      'line-width': {\n        'base': 4.0,\n        'stops': [[12, 2], [22, 180]]\n      }\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterDrifterBy(timeExtent, map) {\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n  var filters = [\"all\", ['>=', 'tStart', tstart], ['<=', 'tEnd', tend]];\n  map.setFilter('drifter-layer', filters);\n}\n\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(\"1e2d\");\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// CONCATENATED MODULE: ./src/components/meteo.js\n\n\n// import * as Bokeh from 'bokehjs'\n// require.import('bokehjs') as Bokeh\n\n// require('bokehjs')\n\n\nfunction AddMeteo(map, layers) {\n  fetch('static/wind_data.json').then(function (resp) {\n    return resp.json();\n  }).then(function (json) {\n    addCanvas(json, layers, map);\n    windsock(json);\n  });\n};\n\nfunction ShowMeteoData(ids) {\n  fetch(\"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/meteo/meteo_data_test1.json\").then(function (resp) {\n    return resp.json();\n  }).then(function (json) {\n    meteo_bokehplot(\"WindSpeed_Avg\", document.getElementById(ids[0]), json);\n    meteo_bokehplot(\"RelHumidity_Avg\", document.getElementById(ids[1]), json);\n  }).catch(function (reason) {\n    console.warn(reason);\n  });\n};\n\nfunction addCanvas(jsondata, layers, map) {\n  var lat = jsondata.lat;\n  var lon = jsondata.lon;\n  var del = 0.003;\n  var layer_json = {\n    name: \"Meteo\",\n    active: false,\n    visibility: \"none\",\n    id: 'meteo-layer',\n    type: 'raster',\n    icon: 'filter_drama',\n    css: \"\",\n    range: \"\",\n    source: {\n      type: 'canvas',\n      animate: true,\n      canvas: 'windsock-canvas',\n      coordinates: [[lon - del, lat + del], [lon + del, lat + del], [lon + del, lat - del], [lon - del, lat - del]]\n    },\n    \"info\": \"Meteo measurements at the Sand Motor. Air temperature, humidity, pressure, solar radiation, precipitation, wind speed and wind direction are measured. <a href='https://data.4tu.nl/repository/uuid:b7aac156-73d4-4b62-bad4-508c95de8331'>Data link</a>\",\n    paint: {}\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n};\n\nfunction windsock(jsondata) {\n  var t = 0;\n\n  function draw() {\n    var direc = jsondata.direc;\n    var aspeed = jsondata.aspeed[t];\n    var ctx = document.getElementById('windsock-canvas').getContext('2d');\n    var w = 200;\n    var h = 200;\n    var bh = 70;\n    var bw = 80;\n    var c = 100;\n\n    ctx.clearRect(0, 0, w, h);\n\n    // shadow blur\n    ctx.shadowColor = '#333';\n    ctx.shadowBlur = 10;\n    ctx.shadowOffsetX = 5;\n    ctx.shadowOffsetY = 5;\n    ctx.beginPath();\n    ctx.arc(c, c, 10, 0, Math.PI * 2);\n    ctx.fillStyle = \"black\";\n    ctx.fill();\n\n    ctx.closePath();\n    ctx.beginPath();\n\n    ctx.moveTo(bw, bh + 10);\n    ctx.lineTo(c, c);\n    ctx.lineTo(bw + 40, bh + 10);\n    ctx.stroke();\n    ctx.closePath();\n\n    var bands = [[0, 80, bh, 40, 10, 'red'], [2, 80, bh - 10, 40, 10, 'white'], [4, 80, bh - 20, 40, 10, 'red'], [6, 80, bh - 30, 40, 10, 'white'], [8, 80, bh - 40, 40, 10, 'red']];\n    var selectedBands = _.filter(bands, function (band) {\n      var speed = band[0];\n      return aspeed > speed;\n    });\n    _.each(selectedBands, function (band) {\n      ctx.beginPath();\n      ctx.fillStyle = band[5];\n      ctx.rect(band[1], band[2], band[3], band[4]);\n      ctx.fill();\n      ctx.closePath();\n    });\n\n    ctx.translate(w / 2, h / 2);\n    ctx.rotate(-(180 - direc[t - 1]) * (2 * Math.PI / 360));\n    ctx.rotate((180 - direc[t]) * (2 * Math.PI / 360));\n    ctx.translate(-w / 2, -h / 2);\n    t += 1;\n\n    var D = new Date(jsondata.time[t]);\n    requestAnimationFrame(draw);\n  }\n  draw();\n};\n\nfunction meteo_bokehplot(data, div, meteodata) {\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  var begin = 0;\n  var end = 100000;\n  var y = meteodata[data].slice(begin, end);\n  y = _.map(y, function (i) {\n    if (i == -999) {\n      return NaN;\n    } else {\n      return i;\n    }\n  });\n  var x = [];\n  _.each(meteodata.time.slice(begin, end), function (event) {\n    x.push(new Date(event));\n  });\n  var source = new Bokeh.ColumnDataSource({\n    data: {\n      x: x,\n      y: y\n    }\n  });\n\n  // define ylabel based on source\n  var ylabels = {};\n  ylabels['RelHumidity_Avg'] = 'Relative Humidity [%]';\n  ylabels['WindSpeed_Avg'] = 'Wind speed 44 m above surface [m/s]';\n\n  var plot = new plt.figure({\n    title: meteodata[data].title,\n    tools: tools,\n    width: 1000,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: ylabels[data],\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  var line = plot.line({ field: 'x' }, { field: 'y' }, { source: source, legend: data, line_color: \"#666699\", line_width: 2 });\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/morphology.js\n\n\n\nfunction AddMorphology(map, layers) {\n  var layer_json = {\n    \"name\": \"Sediment D50 [µm]\",\n    \"active\": false,\n    \"visibility\": \"None\",\n    \"icon\": \"grain\",\n    \"id\": \"measurements\",\n    \"type\": \"circle\",\n    \"source\": {\n      \"type\": \"geojson\",\n      \"data\": \"static/sediment_data.geojson\"\n    },\n    \"range\": \"0  400\",\n    \"css\": \"background: linear-gradient(to right, \\\n      hsla(0, 100%, 50%, 0.5), \\\n      rgba(255, 255, 0, 0.5));\",\n    \"info\": \"Sediment sampling data from measurement campaign at the Sand Motor. <a href='https://data.4tu.nl/repository/uuid:598c390b-2368-4670-bc8c-d0b3ae09dd79'>Data link</a>\",\n    paint: {\n      \"circle-color\": {\n        \"base\": 1,\n        \"type\": \"exponential\",\n        \"property\": \"D50\",\n        \"stops\": [[0, \"hsla(0, 100%, 50%, 0.5)\"], [400, \"rgba(255, 255, 0, 0.5)\"]],\n        \"default\": \"hsl(0, 0%, 0%)\"\n      },\n      \"circle-stroke-width\": 0.5\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n  bus.$emit('add-legend', 'test');\n}\n\nfunction ShowMorphologyData(data) {\n  morphology_bokehplot(data, ddocument.getElementById(\"properties.id\"));\n}\n\nfunction morphology_bokehplot(data, div, meteodata) {\n  var plt = Bokeh.Plotting;\n  // var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  // var begin = 500000\n  // var end = 750000\n  // var y = meteodata[data].data.slice(begin, end)\n  // y = _.map(y, function(i) {\n  //   if (i >= 9.969209968386869e+36) {\n  //     return NaN\n  //   } else {\n  //     return i\n  //   }\n  // })\n  // var x = []\n  // _.each(meteodata.time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  // var source = new Bokeh.ColumnDataSource({\n  //   data: {\n  //     x: x,\n  //     y: y\n  //   }\n  // });\n  var plot = new plt.figure({\n    // title: meteodata[data].title,\n    tools: tools,\n    width: 400,\n    height: 200,\n    x_axis_type: 'datetime',\n    background_fill_color: \"#F2F2F7\"\n  });\n  // var line = new Bokeh.Line({\n  //   x: {\n  //     field: \"x\"\n  //   },\n  //   y: {\n  //     field: \"y\"\n  //   },\n  //   line_color: \"#666699\",\n  //   line_width: 2\n  // });\n  //\n  // plot.add_glyph(line, source);\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/app.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var app = ({\n  name: 'app',\n  data: function data() {\n    return {\n      map: null,\n      drawer: false,\n      fixed: false,\n      showSettings: false,\n      items: [{\n        icon: 'bubble_chart',\n        title: 'Inspire'\n      }],\n      layers: [],\n      jsondata: \"None\",\n      msg: \"\",\n      timeExtent: null,\n      plots: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    bus.$on('select-layers', function (layers) {\n      vue_esm[\"a\" /* default */].set(_this, 'layers', layers);\n    });\n    bus.$on('add-layer', function (layer) {\n      _this.layers.push(layer);\n    });\n    bus.$on('click-plots', function (plots) {\n      vue_esm[\"a\" /* default */].set(_this, 'plots', plots);\n    });\n\n    bus.$on('map-loaded', function (event) {\n      vue_esm[\"a\" /* default */].set(_this, 'map', event.target);\n    });\n\n    this.$refs.timeslider.$on('time-extent-update', function (event) {\n      _this.timeExtent = event;\n      // check which layers are active\n      var activeLayers = [];\n      for (var i = 0; i < _this.layers.length; i++) {\n        if (_this.layers[i].active) {\n          activeLayers.push(_this.layers[i].id);\n        }\n      };\n      // filter some map layers with filter options on time\n      if (activeLayers.indexOf(\"drifter-layer\") > -1) {\n        filterDrifterBy(_this.timeExtent, _this.$refs.map.map);\n      };\n      if (activeLayers.indexOf(\"aeolian-layer\") > -1) {\n        filterAeolianBy(_this.timeExtent, _this.$refs.map.map);\n      }\n      if (activeLayers.indexOf(\"Jetski\") > -1) {\n        updateJetski(_this.$refs.map.map, _this.layers, _this.timeExtent[0], _this.timeExtent[1]);\n      }\n\n      // filter all open Bokeh plots on TimeSlider\n      var keys = keys_default()(Bokeh.index);\n      var tstart = _this.timeExtent[0].unix() * 1000;\n      var tend = _this.timeExtent[1].unix() * 1000;\n      for (var i = 0; i < keys.length; i++) {\n        Bokeh.index[keys[i]].model.x_range.set({ \"start\": tstart, \"end\": tend });\n      }\n    });\n\n    this.$refs.map.$on('mb-load', function (event) {\n      bus.$emit('map-loaded', event);\n\n      // Add different layers (Meteo, Morphology and Aeolian)\n      DrawControls(_this.$refs.map.map, _this.plots, \"bathymetry_jetski\", _this.layers);\n      AddMeteo(_this.$refs.map.map, _this.layers);\n      AddMorphology(_this.$refs.map.map, _this.layers);\n      AddAeolian(_this.$refs.map.map, _this.layers);\n      AddDrifters(_this.$refs.map.map, _this.layers);\n      // AddJetski(this.$refs.map.map, this.layers)\n      AddLidar(_this.$refs.map.map, _this.layers);\n      // AddADCP(this.$refs.map.map, this.layers)\n      updateJetski(_this.$refs.map.map, _this.layers);\n      // TODO: Click event toevoegen\n      _this.map.on('mousemove', function (e) {\n        _this.$refs.map.map.getCanvas().style.cursor = '';\n        var features = _this.map.queryRenderedFeatures(e.point);\n        if (typeof features[0] !== 'undefined') {\n          _this.$refs.map.map.getCanvas().style.cursor = 'pointer';\n        }\n      });\n\n      _this.map.on('click', function (e) {\n        var click_lon = e.lngLat.lng;\n        var click_lat = e.lngLat.lat;\n        // WHen meteo-layer is visible and clicked on\n        if (_this.map.getLayer('meteo-layer').visibility === 'visible') {\n          var meteo = _this.layers.find(function (item) {\n            return item.id === \"meteo-layer\";\n          });\n          var lon_min = meteo.source.coordinates[0][0];\n          var lon_max = meteo.source.coordinates[1][0];\n          var lat_min = meteo.source.coordinates[2][1];\n          var lat_max = meteo.source.coordinates[0][1];\n          if (click_lon <= lon_max && click_lat <= lat_max && click_lon >= lon_min && click_lat >= lat_min) {\n            var ids = [];\n            var params = [\"Barometer_Avg\", \"WindSpeed_Avg\", \"RelHumidity_Avg\"];\n            _.each(params, function (p) {\n              _this.plots.push(p);\n              ids.push(\"plot_\" + p);\n              bus.$emit('click-plots', _this.plots);\n            });\n            ShowMeteoData(ids);\n          }\n        }\n        // When clicked on a feature of Morphology or aeolian\n        var features = _this.map.queryRenderedFeatures(e.point);\n        _.each(features, function (point) {\n          if (point.layer.id == \"Morphology\") {\n            var div_id = point.properties.id;\n            _this.plots.push(div_id);\n            bus.$emit('click-plots', _this.plots);\n            // ShowMorphologyData(point.properties, \"plot_\" + div_id)\n          } else if (point.layer.id == \"aeolian-layer\") {\n            var div_id = \"Particle_\" + point.properties.location_ID;\n            _this.plots.push(div_id);\n            bus.$emit('click-plots', _this.plots);\n            ShowAeolianData(point, \"plot_\" + div_id);\n          } else if (point.layer.id == \"adcp-layer\") {\n            var div_id = point.properties.location_ID;\n            _this.plots.push(div_id);\n            bus.$emit('click-plots', _this.plots);\n            ShowADCPData(point, \"plot_\" + div_id);\n          }\n        });\n      });\n    });\n  },\n\n  methods: {\n    removePlot: function removePlot(e) {\n      var index = this.plots.indexOf(e);\n      this.plots.splice(index, 1);\n      bus.$emit('click-plots', this.plots);\n    }\n  },\n  components: {\n    'layer-control': components_LayerControl,\n    'time-slider': components_TimeSlider\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5482bc58\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar App_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',{staticClass:\"title\"},[_vm._v(\"\\n            Layers\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('layer-control',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"light\":\"\",\"app\":\"\",\"clipped-left\":\"\",\"fixed\":\"\"}},[_c('v-toolbar-title',{staticClass:\"ml-0 pl-3\"},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\"\\n      Zandmotor data\\n    \")],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\"}},[_c('v-avatar',{attrs:{\"size\":\"32px\",\"tile\":\"\"}},[_c('img',{attrs:{\"src\":\"http://www.dezandmotor.nl/assets/images/logo-de-zandmotor.png\",\"alt\":\"Logo\"}})])],1)],1),_vm._v(\" \"),_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"fluid\":\"\",\"row\":\"\",\"wrap\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"mb-2\":\"\"}},[_c('v-card',{attrs:{\"id\":\"map\"}},[_c('v-card-text',[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA\",\"map-style\":\"mapbox://styles/mapbox/satellite-streets-v10\",\"center\":[4.186, 52.050],\"zoom\":13.16,\"pitch\":5.00,\"bearing\":-0,\"min-zoom\":5,\"id\":\"map\"}},[_c('canvas',{attrs:{\"id\":\"windsock-canvas\",\"width\":\"200\",\"height\":\"200\"}}),_vm._v(\" \"),_c('time-slider',{ref:\"timeslider\",attrs:{\"show-play\":false}})],1)],1)],1)],1),_vm._v(\" \"),_vm._l((_vm.plots),function(plot){return _c('v-card',{key:plot,staticClass:\"mb-1 mr-1\",attrs:{\"id\":'card_'+ plot}},[_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.removePlot(plot, $event)}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_vm._v(\" \"),_c('v-card-text',[_c('div',{staticClass:\"plot-container bk-root\",attrs:{\"id\":'plot_'+ plot}})])],1)})],2)],1)],1)],1)}\nvar App_staticRenderFns = []\nvar App_esExports = { render: App_render, staticRenderFns: App_staticRenderFns }\n/* harmony default export */ var App = (App_esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction App_injectStyle (ssrContext) {\n  __webpack_require__(\"93FX\")\n}\nvar App_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar App___vue_template_functional__ = false\n/* styles */\nvar App___vue_styles__ = App_injectStyle\n/* scopeId */\nvar App___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar App___vue_module_identifier__ = null\nvar App_Component = App_normalizeComponent(\n  app,\n  App,\n  App___vue_template_functional__,\n  App___vue_styles__,\n  App___vue_scopeId__,\n  App___vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (App_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vuetify/dist/vuetify.min.css\nvar vuetify_min = __webpack_require__(\"7zck\");\nvar vuetify_min_default = /*#__PURE__*/__webpack_require__.n(vuetify_min);\n\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue2mapbox_gl_default.a);\nvue_esm[\"a\" /* default */].use(vuetify_default.a);\n\n\n\nvue_esm[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"TPDC\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Zn8a\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"hkda\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"uTBe\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"uslO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./af\": \"3CJN\",\n\t\"./af.js\": \"3CJN\",\n\t\"./ar\": \"3MVc\",\n\t\"./ar-dz\": \"tkWw\",\n\t\"./ar-dz.js\": \"tkWw\",\n\t\"./ar-kw\": \"j8cJ\",\n\t\"./ar-kw.js\": \"j8cJ\",\n\t\"./ar-ly\": \"wPpW\",\n\t\"./ar-ly.js\": \"wPpW\",\n\t\"./ar-ma\": \"dURR\",\n\t\"./ar-ma.js\": \"dURR\",\n\t\"./ar-sa\": \"7OnE\",\n\t\"./ar-sa.js\": \"7OnE\",\n\t\"./ar-tn\": \"BEem\",\n\t\"./ar-tn.js\": \"BEem\",\n\t\"./ar.js\": \"3MVc\",\n\t\"./az\": \"eHwN\",\n\t\"./az.js\": \"eHwN\",\n\t\"./be\": \"3hfc\",\n\t\"./be.js\": \"3hfc\",\n\t\"./bg\": \"lOED\",\n\t\"./bg.js\": \"lOED\",\n\t\"./bm\": \"hng5\",\n\t\"./bm.js\": \"hng5\",\n\t\"./bn\": \"aM0x\",\n\t\"./bn.js\": \"aM0x\",\n\t\"./bo\": \"w2Hs\",\n\t\"./bo.js\": \"w2Hs\",\n\t\"./br\": \"OSsP\",\n\t\"./br.js\": \"OSsP\",\n\t\"./bs\": \"aqvp\",\n\t\"./bs.js\": \"aqvp\",\n\t\"./ca\": \"wIgY\",\n\t\"./ca.js\": \"wIgY\",\n\t\"./cs\": \"ssxj\",\n\t\"./cs.js\": \"ssxj\",\n\t\"./cv\": \"N3vo\",\n\t\"./cv.js\": \"N3vo\",\n\t\"./cy\": \"ZFGz\",\n\t\"./cy.js\": \"ZFGz\",\n\t\"./da\": \"YBA/\",\n\t\"./da.js\": \"YBA/\",\n\t\"./de\": \"DOkx\",\n\t\"./de-at\": \"8v14\",\n\t\"./de-at.js\": \"8v14\",\n\t\"./de-ch\": \"Frex\",\n\t\"./de-ch.js\": \"Frex\",\n\t\"./de.js\": \"DOkx\",\n\t\"./dv\": \"rIuo\",\n\t\"./dv.js\": \"rIuo\",\n\t\"./el\": \"CFqe\",\n\t\"./el.js\": \"CFqe\",\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\",\n\t\"./eo\": \"Nd3h\",\n\t\"./eo.js\": \"Nd3h\",\n\t\"./es\": \"LT9G\",\n\t\"./es-do\": \"7MHZ\",\n\t\"./es-do.js\": \"7MHZ\",\n\t\"./es-us\": \"INcR\",\n\t\"./es-us.js\": \"INcR\",\n\t\"./es.js\": \"LT9G\",\n\t\"./et\": \"XlWM\",\n\t\"./et.js\": \"XlWM\",\n\t\"./eu\": \"sqLM\",\n\t\"./eu.js\": \"sqLM\",\n\t\"./fa\": \"2pmY\",\n\t\"./fa.js\": \"2pmY\",\n\t\"./fi\": \"nS2h\",\n\t\"./fi.js\": \"nS2h\",\n\t\"./fo\": \"OVPi\",\n\t\"./fo.js\": \"OVPi\",\n\t\"./fr\": \"tzHd\",\n\t\"./fr-ca\": \"bXQP\",\n\t\"./fr-ca.js\": \"bXQP\",\n\t\"./fr-ch\": \"VK9h\",\n\t\"./fr-ch.js\": \"VK9h\",\n\t\"./fr.js\": \"tzHd\",\n\t\"./fy\": \"g7KF\",\n\t\"./fy.js\": \"g7KF\",\n\t\"./gd\": \"nLOz\",\n\t\"./gd.js\": \"nLOz\",\n\t\"./gl\": \"FuaP\",\n\t\"./gl.js\": \"FuaP\",\n\t\"./gom-latn\": \"+27R\",\n\t\"./gom-latn.js\": \"+27R\",\n\t\"./gu\": \"rtsW\",\n\t\"./gu.js\": \"rtsW\",\n\t\"./he\": \"Nzt2\",\n\t\"./he.js\": \"Nzt2\",\n\t\"./hi\": \"ETHv\",\n\t\"./hi.js\": \"ETHv\",\n\t\"./hr\": \"V4qH\",\n\t\"./hr.js\": \"V4qH\",\n\t\"./hu\": \"xne+\",\n\t\"./hu.js\": \"xne+\",\n\t\"./hy-am\": \"GrS7\",\n\t\"./hy-am.js\": \"GrS7\",\n\t\"./id\": \"yRTJ\",\n\t\"./id.js\": \"yRTJ\",\n\t\"./is\": \"upln\",\n\t\"./is.js\": \"upln\",\n\t\"./it\": \"FKXc\",\n\t\"./it.js\": \"FKXc\",\n\t\"./ja\": \"ORgI\",\n\t\"./ja.js\": \"ORgI\",\n\t\"./jv\": \"JwiF\",\n\t\"./jv.js\": \"JwiF\",\n\t\"./ka\": \"RnJI\",\n\t\"./ka.js\": \"RnJI\",\n\t\"./kk\": \"j+vx\",\n\t\"./kk.js\": \"j+vx\",\n\t\"./km\": \"5j66\",\n\t\"./km.js\": \"5j66\",\n\t\"./kn\": \"gEQe\",\n\t\"./kn.js\": \"gEQe\",\n\t\"./ko\": \"eBB/\",\n\t\"./ko.js\": \"eBB/\",\n\t\"./ky\": \"6cf8\",\n\t\"./ky.js\": \"6cf8\",\n\t\"./lb\": \"z3hR\",\n\t\"./lb.js\": \"z3hR\",\n\t\"./lo\": \"nE8X\",\n\t\"./lo.js\": \"nE8X\",\n\t\"./lt\": \"/6P1\",\n\t\"./lt.js\": \"/6P1\",\n\t\"./lv\": \"jxEH\",\n\t\"./lv.js\": \"jxEH\",\n\t\"./me\": \"svD2\",\n\t\"./me.js\": \"svD2\",\n\t\"./mi\": \"gEU3\",\n\t\"./mi.js\": \"gEU3\",\n\t\"./mk\": \"Ab7C\",\n\t\"./mk.js\": \"Ab7C\",\n\t\"./ml\": \"oo1B\",\n\t\"./ml.js\": \"oo1B\",\n\t\"./mr\": \"5vPg\",\n\t\"./mr.js\": \"5vPg\",\n\t\"./ms\": \"ooba\",\n\t\"./ms-my\": \"G++c\",\n\t\"./ms-my.js\": \"G++c\",\n\t\"./ms.js\": \"ooba\",\n\t\"./mt\": \"oCzW\",\n\t\"./mt.js\": \"oCzW\",\n\t\"./my\": \"F+2e\",\n\t\"./my.js\": \"F+2e\",\n\t\"./nb\": \"FlzV\",\n\t\"./nb.js\": \"FlzV\",\n\t\"./ne\": \"/mhn\",\n\t\"./ne.js\": \"/mhn\",\n\t\"./nl\": \"3K28\",\n\t\"./nl-be\": \"Bp2f\",\n\t\"./nl-be.js\": \"Bp2f\",\n\t\"./nl.js\": \"3K28\",\n\t\"./nn\": \"C7av\",\n\t\"./nn.js\": \"C7av\",\n\t\"./pa-in\": \"pfs9\",\n\t\"./pa-in.js\": \"pfs9\",\n\t\"./pl\": \"7LV+\",\n\t\"./pl.js\": \"7LV+\",\n\t\"./pt\": \"ZoSI\",\n\t\"./pt-br\": \"AoDM\",\n\t\"./pt-br.js\": \"AoDM\",\n\t\"./pt.js\": \"ZoSI\",\n\t\"./ro\": \"wT5f\",\n\t\"./ro.js\": \"wT5f\",\n\t\"./ru\": \"ulq9\",\n\t\"./ru.js\": \"ulq9\",\n\t\"./sd\": \"fW1y\",\n\t\"./sd.js\": \"fW1y\",\n\t\"./se\": \"5Omq\",\n\t\"./se.js\": \"5Omq\",\n\t\"./si\": \"Lgqo\",\n\t\"./si.js\": \"Lgqo\",\n\t\"./sk\": \"OUMt\",\n\t\"./sk.js\": \"OUMt\",\n\t\"./sl\": \"2s1U\",\n\t\"./sl.js\": \"2s1U\",\n\t\"./sq\": \"V0td\",\n\t\"./sq.js\": \"V0td\",\n\t\"./sr\": \"f4W3\",\n\t\"./sr-cyrl\": \"c1x4\",\n\t\"./sr-cyrl.js\": \"c1x4\",\n\t\"./sr.js\": \"f4W3\",\n\t\"./ss\": \"7Q8x\",\n\t\"./ss.js\": \"7Q8x\",\n\t\"./sv\": \"Fpqq\",\n\t\"./sv.js\": \"Fpqq\",\n\t\"./sw\": \"DSXN\",\n\t\"./sw.js\": \"DSXN\",\n\t\"./ta\": \"+7/x\",\n\t\"./ta.js\": \"+7/x\",\n\t\"./te\": \"Nlnz\",\n\t\"./te.js\": \"Nlnz\",\n\t\"./tet\": \"gUgh\",\n\t\"./tet.js\": \"gUgh\",\n\t\"./th\": \"XzD+\",\n\t\"./th.js\": \"XzD+\",\n\t\"./tl-ph\": \"3LKG\",\n\t\"./tl-ph.js\": \"3LKG\",\n\t\"./tlh\": \"m7yE\",\n\t\"./tlh.js\": \"m7yE\",\n\t\"./tr\": \"k+5o\",\n\t\"./tr.js\": \"k+5o\",\n\t\"./tzl\": \"iNtv\",\n\t\"./tzl.js\": \"iNtv\",\n\t\"./tzm\": \"FRPF\",\n\t\"./tzm-latn\": \"krPU\",\n\t\"./tzm-latn.js\": \"krPU\",\n\t\"./tzm.js\": \"FRPF\",\n\t\"./uk\": \"ntHu\",\n\t\"./uk.js\": \"ntHu\",\n\t\"./ur\": \"uSe8\",\n\t\"./ur.js\": \"uSe8\",\n\t\"./uz\": \"XU1s\",\n\t\"./uz-latn\": \"/bsm\",\n\t\"./uz-latn.js\": \"/bsm\",\n\t\"./uz.js\": \"XU1s\",\n\t\"./vi\": \"0X8Q\",\n\t\"./vi.js\": \"0X8Q\",\n\t\"./x-pseudo\": \"e/KL\",\n\t\"./x-pseudo.js\": \"e/KL\",\n\t\"./yo\": \"YXlc\",\n\t\"./yo.js\": \"YXlc\",\n\t\"./zh-cn\": \"Vz2w\",\n\t\"./zh-cn.js\": \"Vz2w\",\n\t\"./zh-hk\": \"ZUyn\",\n\t\"./zh-hk.js\": \"ZUyn\",\n\t\"./zh-tw\": \"BbgG\",\n\t\"./zh-tw.js\": \"BbgG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"uslO\";\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.1dbfa60eb592c8f31644.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ddcb93a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LayerControl.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./layer-control.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ddcb93a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LayerControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ddcb93a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e38d90c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MorphologyCanvas.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./morphology-canvas.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e38d90c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MorphologyCanvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e38d90c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MorphologyCanvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e8fddb0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./time-slider.css\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./time-slider.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e8fddb0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TimeSlider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TimeSlider.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Vue2MapboxGL from 'vue2mapbox-gl';\nimport {\n  bus\n} from '@/event-bus.js';\nimport * as MapboxDraw from '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\n\nVue.use(Vue2MapboxGL);\n\nfunction DrawControls(map, plots, dataset, layers) {\n  var draw = new MapboxDraw({\n    displayControlsDefault: false,\n    controls: {\n      line_string: true,\n      trash: true\n    }\n  });\n  map.addControl(draw);\n  map.on('draw.create', () => {\n    // if (layers..active) {\n      var region = draw.getAll()\n      var begin_date = \"2011-08-02\"\n      var end_date = \"2011-09-02\"\n      var dataset = \"bathymetry_jetski\"\n      var div_id = JSON.stringify(region)\n      plots.push(div_id)\n      bus.$emit('click-plots', plots);\n      var profile = download_raster_profile(region.features[region.features.length-1].geometry, dataset, 20, begin_date, end_date, div_id)\n    // }\n  })\n\n}\n\n\nfunction download_raster_profile(region, dataset, scale, begin_date, end_date, div_id) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com'\n  // var SERVER_URL = 'http://localhost:8080'\n  var data = {\n    'polyline': region,\n    \"dataset\": dataset,\n    \"begin_date\": begin_date,\n    \"end_date\": end_date,\n    'scale': scale\n  }\n\n  var myHeaders = new Headers();\n  console.log(dataset, JSON.stringify(data))\n  var profile = fetch(SERVER_URL + '/get_raster_profile', {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n        // 'Access-Control-Allow-Origin': '*'\n      }\n    })\n\n    .then((res) => {\n      return res.json();\n    })\n    .then((profile_data) => {\n      bokehplot(profile_data, data, div_id)\n      return profile_data\n    })\n  return profile\n};\n\nfunction bokehplot(profile_data, data, div_id) {\n  var div = document.getElementById(\"plot_\" + div_id);\n\n  div.innerHTML = \"\"; // clear div\n\n  // console.log('profile_data', JSON.stringify(profile_data), profile_data.type)\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  var begin = data.begin_date\n  var end = data.end_date\n  var source = new Bokeh.GeoJSONDataSource({\n    geojson: JSON.stringify(profile_data)\n  })\n\n  // var y = meteodata[data].data.slice(begin, end)\n  // y = _.map(y, function(i) {\n  //   if (i >= 9.969209968386869e+36) {\n  //     return NaN\n  //   } else {\n  //     return i\n  //   }\n  // })\n  // var x = []\n  // _.each(meteodata.time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  // var source = new Bokeh.ColumnDataSource({\n  //   data: {\n  //     x: x,\n  //     y: y\n  //   }\n  // });\n  var plot = new plt.figure({\n    title: data.dataset,\n    tools: tools,\n    width: 800,\n    height: 350,\n    background_fill_color: \"#F2F2F7\",\n    x_axis_label: 'Distance w.r.t. first coordinate [m]',\n    y_axis_label: 'Elevation [m, NAP]',\n  });\n  var line = new Bokeh.Line({\n    x: {\n      field: \"distance\"\n    },\n    y: {\n      field: \"b1_mean\"\n    },\n    line_color: \"#666699\",\n    line_width: 2\n  });\n  plot.add_glyph(line, source);\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\nexport {\n  DrawControls\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map-draw.js","import {\n  bus\n} from '@/event-bus.js';\n\nimport moment from 'moment';\n\nfunction updateJetski(map, layers, begin_date=\"2010-01-01\", end_date=\"2018-01-01\") {\n  var begin = moment(begin_date)\n  var end = moment(end_date)\n  var diff = end.diff(begin, 'day')\n  var json_data = {\n    \"dataset\": \"bathymetry_jetski\",\n    \"begin_date\": begin,\n    \"end_date\": end,\n    \"step\": diff,\n    \"interval\": diff,\n    \"unit\": \"day\"\n  }\n  get_images_urls(json_data, map, layers)\n}\n\nfunction get_images_urls(json_data, map, layers) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com'\n  // var SERVER_URL = 'http://localhost:8080'\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\n      method: \"POST\",\n      body: JSON.stringify(json_data),\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n\n    .then((res) => {\n      return res.json();\n    })\n    .then((image_data) =>  {\n        updateLayers(image_data, map, layers)\n\n      return image_data\n    })\n  return image_urls\n}\n\nfunction updateLayers(urls, map, layers) {\n  var jetski = layers.find(item => item.name === \"Jetski\")\n  if (jetski === undefined) {\n    var jetski = {\n      \"name\": \"Jetski\",\n      \"active\": false,\n      \"icon\": \"landscape\",\n      \"data\": [],\n      \"type\": \"group\",\n      \"id\": \"Jetski\",\n      \"range\": \"-12 7\",\n      \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\n          #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\n          #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\n          #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\n          #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\n          #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\n          #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\n          #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\n          #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\n          #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\n          #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\n          #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\n          #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\n          #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\n          #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\n          \"info\": \"Zandmotor bathymetric and topographic survey, gridded on 20m grid. <a href='https://data.4tu.nl/repository/uuid:c40da555-3eff-4c3c-89d6-136994a07120'>Data link</a>\"\n\n    }\n    layers.push(jetski);\n  }\n  else {\n    _.each(jetski.data, (old) =>{\n      map.removeLayer(old.id)\n    })\n    jetski.data = []\n  }\n  _.each(urls, (url) => {\n    var mapid = url.mapid\n    var token = url.token\n    let mapUrl = getTileUrl(mapid, token);\n    let layer = {\n      id: mapid,\n      name: \"jetski\",\n      type: \"raster\",\n      layout: {\n        visibility: \"none\"\n      },\n      source: {\n        type: \"raster\",\n        tiles: [mapUrl],\n        tileSize: 256\n      }\n    };\n    map.addLayer(layer)\n    jetski.data.push(layer)\n  });\n  bus.$emit('select-layers', layers);\n}\n\nfunction getTileUrl(mapId, token) {\n  let baseUrl = \"https://earthengine.googleapis.com/map\";\n  let url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\n  url += \"?token=\" + token;\n  return url;\n}\n\nexport {\n  updateJetski\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jetski.js","import {\n  bus\n} from '@/event-bus.js';\n\nfunction AddLidar(map, layers) {\n  var json_data = {\n    \"dataset\": \"bathymetry_lidar\",\n    \"begin_date\": \"2010-08-01\",\n    \"end_date\": \"2012-09-01\",\n    \"step\": 30,\n    \"interval\": 30,\n    \"unit\": \"day\"\n  }\n  get_images_urls(json_data, map, layers)\n}\n\nfunction get_images_urls(json_data, map, layers) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com'\n  // var SERVER_URL = 'http://localhost:8080'\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\n      method: \"POST\",\n      body: JSON.stringify(json_data),\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n\n    .then((res) => {\n      return res.json();\n    })\n    .then((image_data) => {\n      AddLayers(image_data, map, layers)\n      return image_data\n    })\n  return image_urls\n}\n\nfunction AddLayers(urls, map, layers){\n  var grouplayer = {\n    \"name\": \"LiDAR elevation [m, NAP]\",\n    \"active\": false,\n    \"icon\":\"fa-plane\",\n    \"data\": [],\n    \"type\": \"group\",\n    \"range\": \"-12 7\",\n    \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\n        #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\n        #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\n        #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\n        #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\n        #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\n        #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\n        #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\n        #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\n        #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\n        #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\n        #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\n        #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\n        #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\n        #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\n        \"info\": \"Elevation measurements of the dutch coast done with LIDAR. <a href='https://data.4tu.nl/repository/uuid:8a8a91bc-e520-4d19-a127-5fd2232cc58e'>Data link</a>\"\n\n  }\n\n  _.each(urls, (url) => {\n    var mapid = url.mapid\n    var token = url.token\n    let mapUrl = getTileUrl(mapid, token);\n    let layer = {\n      id: mapid,\n      name: \"lidar\",\n      type: \"raster\",\n      active: true,\n      layout: {\n        visibility: \"visible\"\n      },\n      source: {\n        type: \"raster\",\n        tiles: [mapUrl],\n        tileSize: 256\n      },\n      paint: {\n\n      }\n    };\n    map.addLayer(layer)\n    grouplayer.data.push(layer)\n  });\n  layers.push(grouplayer);\n  bus.$emit('select-layers', layers);\n}\n\nfunction getTileUrl(mapId, token) {\n  let baseUrl = \"https://earthengine.googleapis.com/map\";\n  let url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\n  url += \"?token=\" + token;\n  return url;\n}\n\nexport {\n  AddLidar\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/lidar.js","import {\n  bus\n} from '@/event-bus.js';\nimport moment from 'moment';\nimport $ from 'jquery';\n\nfunction AddADCP(map, layers) {\n  var layer_json = {\n    id: 'adcp-layer',\n    active: true,\n    visibility: \"visible\",\n    name: 'ADCP',\n    type: 'circle',\n    icon: 'grain',\n    'icon-image': '/static/adcp.png',\n    source: {\n      type: 'geojson',\n      data: {\n        \"geometry\": {\n          \"coordinates\": [4.217663764953613, 52.080467224121094],\n          \"type\": \"Point\"\n        },\n        \"id\": \"adcp-f\",\n        \"properties\": {},\n        \"type\": \"Feature\"\n      }\n    },\n    paint: {\n      // make circles larger as the user zooms from z12 to z22\n      'circle-radius': 30,\n      'circle-color': 'pink'\n    }\n  }\n  map.addLayer(layer_json);\n  layers.push(layer_json)\n  bus.$emit('select-layers', layers);\n}\n\nfunction ShowADCPData(point, div_id) {\n  // todo check if multiple are selected; for now just select first\n  var locationID = point.properties.location_ID;\n  var timeEnd = moment.unix(parseFloat(point.properties.timeEnd));\n  var timeStart = moment.unix(parseFloat(point.properties.timeStart));\n\n  fetch(\"/static/adcp_data_1000.json\")\n    .then((resp) => {\n      return resp.json();\n    })\n    .then((timeseries) => {\n      locationID = locationID;\n      timeseries = timeseries;\n      timeEnd = timeEnd.format('L')\n      timeStart = timeStart.format('L')\n      bokehplot(locationID, timeseries, timeEnd, timeStart, point, div_id);\n    })\n    .catch((reason) => {\n      console.warn(reason)\n    })\n}\n\nfunction bokehplot(locationID, timeseries, timeEnd, timeStart, point, div_id) {\n  console.log('adcp', timeseries)\n  // Check if timeseries is set\n  if (timeseries == null) {\n    console.log('No timeseries defined');\n    return -1\n  }\n\n  var div = document.getElementById(div_id);\n  div.innerHTML = \"\"; // clear div\n\n  // General Bokeh settings\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n\n  // Get time slice\n  // var data = timeseries[deploymentName];\n  // var keys = Object.keys(data);\n  //\n  // var time = data[keys[0]];\n  // var begin = 0;\n  // var end = time.length;\n  //\n  // var x = []\n  // _.each(time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  //\n  // var plot = new plt.figure({\n  //   title: \"Deployment: \" + deploymentName + \" Location: \" + locationID + \"\\n Start deployment: \" + timeStart + \" End deployment: \" + timeEnd,\n  //   tools: tools,\n  //   width: 1000,\n  //   height: 350,\n  //   x_axis_type: 'datetime',\n  //   x_axis_label: 'Time',\n  //   y_axis_label: 'Number of particles [-]',\n  //   background_fill_color: \"#F2F2F7\"\n  // });\n  //\n  // // output linesegment per height\n  // var locationIDdata = data[locationID];\n  // var heights = Object.keys(locationIDdata);\n  // var colors = [\"#666699\", \"#66ff66\", \"#ff6666\"];\n  //\n  // for (var i = 0; i < heights.length; i++) {\n  //   var height = 'height ' + locationIDdata[heights[i]]['height'].toString() + ' m';\n  //   var y = data[locationID][heights[i]]['particle_counts'];\n  //   y = y.slice(begin, end);\n  //\n  //   // remove 0 values\n  //   function filterFunction(value, index, array) {\n  //     return y[index] > 0;\n  //   }\n  //   var xwithoutzero = x.filter(filterFunction);\n  //   var ywithoutzero = y.filter(filterFunction);\n  //\n  //   var source = new Bokeh.ColumnDataSource({\n  //     data: {\n  //       x: xwithoutzero,\n  //       y: ywithoutzero\n  //     }\n  //   });\n  //\n  //   var line = plot.line({\n  //     field: 'x'\n  //   }, {\n  //     field: 'y'\n  //   }, {\n  //     source: source,\n  //     legend: height,\n  //     line_color: colors[i],\n  //     line_width: 2\n  //   })\n  // }\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\nexport {\n  AddADCP, ShowADCPData\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/adcp.js","import {\n  bus\n} from '@/event-bus.js';\nimport moment from 'moment';\nimport $ from 'jquery';\n\nfunction AddAeolian(map, layers) {\n  var layer_json = {\n    id: 'aeolian-layer',\n    active: true,\n    visibility: \"visible\",\n    name: 'Aeolian transport',\n    type: 'circle',\n    cursor: 'pointer',\n    icon: 'grain',\n    source: {\n      type: 'geojson',\n      data: '/static/aeolian_data.geojson'\n    },\n      \"info\": \"Processed data on aeolian sediment transport from the 6-week MegaPeX field campaign at the Sand Motor mega nourishment. <a href='https://data.4tu.nl/repository/uuid:3bc3591b-9d9e-4600-8705-5b7eba6aa3ed'>Data link</a>\",\n    paint: {\n      // make circles larger as the user zooms from z12 to z22\n      'circle-radius': {\n        'base': 1.75,\n        'stops': [\n          [12, 2],\n          [22, 180]\n        ]\n      },\n      'circle-color': [\n        'match', ['get', 'deploymentName'],\n        'dn1', '#fbb03b',\n        'dn2', '#223b53',\n        'dn3', '#e55e5e',\n        'dn4', '#3bb2d0',\n        'dn5', '#956a37',\n        'dn6', '#8a5f2c',\n        'dn7', '#815726',\n        'dn8', '#724c20',\n        'dn9', '#66451f',\n        'dn10', '#2f1b02',\n        'dn11', '#201503',\n        'dn67', '#453c09',\n        /* other */\n        '#ccc'\n      ]\n    }\n  }\n  map.addLayer(layer_json);\n  layers.push(layer_json)\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterAeolianBy(timeExtent, map) {\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n  var filters = [\n    \"all\",\n    ['>=', 'tStart', tstart],\n    ['<=', 'tEnd', tend],\n  ];\n  map.setFilter('aeolian-layer', filters);\n}\n\nfunction ShowAeolianData(point, div_id) {\n  // todo check if multiple are selected; for now just select first\n  var deploymentName = point.properties.deploymentName;\n  var locationID = point.properties.location_ID;\n  var timeEnd = moment.unix(parseFloat(point.properties.timeEnd));\n  var timeStart = moment.unix(parseFloat(point.properties.timeStart));\n\n  fetch(\"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/aeolian/aeolian_data_\" + deploymentName + \".json\")\n    .then((resp) => {\n      return resp.json();\n    })\n    .then((timeseries) => {\n      locationID = locationID;\n      deploymentName = deploymentName;\n      timeseries = timeseries;\n      timeEnd = timeEnd.format('L')\n      timeStart = timeStart.format('L')\n      bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id);\n    })\n    .catch((reason) => {\n      console.warn(reason)\n    })\n}\n\nfunction bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id){\n\n  // Check if timeseries is set\n  if (timeseries == null) {\n    console.log('No timeseries defined');\n    return -1\n  }\n\n  var div = document.getElementById(div_id);\n  div.innerHTML = \"\"; // clear div\n\n  // General Bokeh settings\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n\n  // Get time slice\n  var data = timeseries[deploymentName];\n  var keys = Object.keys(data);\n\n  var time = data[keys[0]];\n  var begin = 0;\n  var end = time.length;\n\n  var x = []\n  _.each(time.slice(begin, end), function(event) {\n    x.push(new Date(event))\n  });\n\n  var plot = new plt.figure({\n    title: \"Deployment: \" + deploymentName + \" Location: \" + locationID + \"\\n Start deployment: \" + timeStart + \" End deployment: \" + timeEnd,\n    tools: tools,\n    width: 800,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: 'Number of particles [-]',\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  // output linesegment per height\n  var locationIDdata = data[locationID];\n  var heights = Object.keys(locationIDdata);\n  var colors = [\"#666699\", \"#66ff66\", \"#ff6666\"];\n\n  for (var i = 0; i < heights.length; i++) {\n    var height = 'height ' + locationIDdata[heights[i]]['height'].toString() + ' m';\n    var y = data[locationID][heights[i]]['particle_counts'];\n    y = y.slice(begin, end);\n\n    // remove 0 values\n    function filterFunction(value, index, array) {\n      return y[index] > 0;\n    }\n    var xwithoutzero = x.filter(filterFunction);\n    var ywithoutzero = y.filter(filterFunction);\n\n    var source = new Bokeh.ColumnDataSource({\n      data: {\n        x: xwithoutzero,\n        y: ywithoutzero\n      }\n    });\n\n    var line = plot.line({field: 'x'}, {field: 'y'}, {source: source, legend: height , line_color:colors[i], line_width:2})\n  }\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\nexport {AddAeolian, ShowAeolianData, filterAeolianBy};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/aeolian.js","import {\n  bus\n} from '@/event-bus.js';\nimport moment from 'moment';\nimport $ from 'jquery';\n\nfunction AddDrifters(map, layers) {\n  var layer_json = {\n    active: false,\n    name: 'Drifters',\n    icon: 'explore',\n    id: 'drifter-layer',\n    visibility: \"visible\",\n    type: 'line',\n    source: {\n      type: 'geojson',\n      data: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/drifters/drifters.geojson'\n    },\n      \"info\": \"Drifter data as measured with GPS-tracked drifters during the megapex 2014 field campaign. Experiments have been done during ebb and flood and in a rip current. <a href='https://data.4tu.nl/repository/uuid:7f190c88-ae2e-43cf-959c-2b7d5c321573'>Data link</a>\",\n    paint: {\n      'line-color': ['get', 'color'],\n      'line-width': {\n        'base': 4.0,\n        'stops': [\n          [12, 2],\n          [22, 180]\n        ]\n      },\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterDrifterBy(timeExtent, map) {\n    //timeExtent provides 2 moments\n    var tstart = timeExtent[0].unix();\n    var tend = timeExtent[1].unix();\n    var filters = [\n      \"all\",\n      ['>=', 'tStart', tstart],\n      ['<=', 'tEnd', tend],\n    ];\n    map.setFilter('drifter-layer', filters);\n}\n\nexport {AddDrifters, filterDrifterBy}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drifters.js","import $ from 'jquery';\nimport mapboxgl from 'mapbox-gl';\n// import * as Bokeh from 'bokehjs'\n// require.import('bokehjs') as Bokeh\n\n// require('bokehjs')\nimport {\n  bus\n} from '@/event-bus.js';\n\nfunction AddMeteo(map, layers) {\n  fetch('static/wind_data.json')\n    .then((resp) => {\n      return resp.json();\n    })\n    .then((json) => {\n      addCanvas(json, layers, map)\n      windsock(json)\n    });\n};\n\nfunction ShowMeteoData(ids){\n  fetch( \"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/meteo/meteo_data_test1.json\")\n    .then((resp) => {\n      return resp.json();\n    })\n    .then((json) => {\n      bokehplot(\n        \"WindSpeed_Avg\",\n        document.getElementById(ids[0]),\n        json\n      );\n      bokehplot(\n        \"RelHumidity_Avg\",\n        document.getElementById(ids[1]),\n        json\n      );\n    })\n    .catch((reason) => {\n      console.warn(reason)\n    })\n};\n\nfunction addCanvas(jsondata, layers, map) {\n  var lat = jsondata.lat;\n  var lon = jsondata.lon;\n  var del = 0.003;\n  var layer_json = {\n    name: \"Meteo\",\n    active: false,\n    visibility: \"none\",\n    id: 'meteo-layer',\n    type: 'raster',\n    icon: 'filter_drama',\n    css: \"\",\n    range: \"\",\n    source: {\n      type: 'canvas',\n      animate: true,\n      canvas: 'windsock-canvas',\n      coordinates: [\n        [lon - del, lat + del],\n        [lon + del, lat + del],\n        [lon + del, lat - del],\n        [lon - del, lat - del]\n      ]\n    },\n      \"info\": \"Meteo measurements at the Sand Motor. Air temperature, humidity, pressure, solar radiation, precipitation, wind speed and wind direction are measured. <a href='https://data.4tu.nl/repository/uuid:b7aac156-73d4-4b62-bad4-508c95de8331'>Data link</a>\",\n    paint: {}\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json)\n  bus.$emit('select-layers', layers);\n};\n\nfunction windsock(jsondata) {\n  var t = 0;\n\n  function draw() {\n    var direc = jsondata.direc;\n    var aspeed = jsondata.aspeed[t];\n    var ctx = document.getElementById('windsock-canvas').getContext('2d');\n    var w = 200;\n    var h = 200;\n    var bh = 70;\n    var bw = 80;\n    var c = 100;\n\n    ctx.clearRect(0, 0, w, h);\n\n    // shadow blur\n    ctx.shadowColor = '#333';\n    ctx.shadowBlur = 10;\n    ctx.shadowOffsetX = 5;\n    ctx.shadowOffsetY = 5;\n    ctx.beginPath();\n    ctx.arc(c, c, 10, 0, Math.PI * 2);\n    ctx.fillStyle = \"black\";\n    ctx.fill();\n\n    ctx.closePath();\n    ctx.beginPath();\n\n    ctx.moveTo(bw, bh + 10);\n    ctx.lineTo(c, c);\n    ctx.lineTo(bw + 40, bh + 10);\n    ctx.stroke();\n    ctx.closePath();\n\n    let bands = [\n      [0, 80, bh, 40, 10, 'red'],\n      [2, 80, bh - 10, 40, 10, 'white'],\n      [4, 80, bh - 20, 40, 10, 'red'],\n      [6, 80, bh - 30, 40, 10, 'white'],\n      [8, 80, bh - 40, 40, 10, 'red']\n    ];\n    let selectedBands = _.filter(bands, (band) => {\n      let speed = band[0];\n      return aspeed > speed;\n    });\n    _.each(selectedBands, (band) => {\n      ctx.beginPath();\n      ctx.fillStyle = band[5];\n      ctx.rect(band[1], band[2], band[3], band[4]);\n      ctx.fill();\n      ctx.closePath();\n    });\n\n    ctx.translate(w / 2, h / 2);\n    ctx.rotate(-(180 - direc[t - 1]) * (2 * Math.PI / 360));\n    ctx.rotate((180 - direc[t]) * (2 * Math.PI / 360));\n    ctx.translate(-w / 2, -h / 2);\n    t += 1;\n\n    var D = new Date(jsondata.time[t]);\n    requestAnimationFrame(draw);\n  }\n  draw();\n};\n\nfunction bokehplot(data, div, meteodata) {\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  var begin = 0\n  var end = 100000\n  var y = meteodata[data].slice(begin, end)\n  y = _.map(y, function(i) {\n    if (i == -999) {\n      return NaN\n    } else {\n      return i\n    }\n  })\n  var x = []\n  _.each(meteodata.time.slice(begin, end), function(event) {\n    x.push(new Date(event))\n  });\n  var source = new Bokeh.ColumnDataSource({\n    data: {\n      x: x,\n      y: y\n    }\n  });\n\n  // define ylabel based on source\n  var ylabels = {}\n  ylabels['RelHumidity_Avg'] = 'Relative Humidity [%]';\n  ylabels['WindSpeed_Avg'] = 'Wind speed 44 m above surface [m/s]';\n\n  var plot = new plt.figure({\n    title: meteodata[data].title,\n    tools: tools,\n    width: 1000,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: ylabels[data],\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  var line = plot.line({field: 'x'}, {field: 'y'}, {source: source, legend: data, line_color: \"#666699\", line_width:2})\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\nexport {AddMeteo, ShowMeteoData}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/meteo.js","import {\n  bus\n} from '@/event-bus.js';\nimport $ from 'jquery';\n\n\nfunction AddMorphology(map, layers) {\n  var layer_json = {\n    \"name\": \"Sediment D50 [µm]\",\n    \"active\": false,\n    \"visibility\": \"None\",\n    \"icon\": \"grain\",\n    \"id\": \"measurements\",\n    \"type\": \"circle\",\n    \"source\": {\n      \"type\": \"geojson\",\n      \"data\": \"static/sediment_data.geojson\"\n    },\n    \"range\": \"0  400\",\n    \"css\": \"background: linear-gradient(to right, \\\n      hsla(0, 100%, 50%, 0.5), \\\n      rgba(255, 255, 0, 0.5));\",\n    \"info\": \"Sediment sampling data from measurement campaign at the Sand Motor. <a href='https://data.4tu.nl/repository/uuid:598c390b-2368-4670-bc8c-d0b3ae09dd79'>Data link</a>\",\n    paint: {\n      \"circle-color\": {\n                    \"base\": 1,\n                    \"type\": \"exponential\",\n                    \"property\": \"D50\",\n                    \"stops\": [\n                        [\n                            0,\n                            \"hsla(0, 100%, 50%, 0.5)\"\n                        ],\n                        [\n                            400,\n                            \"rgba(255, 255, 0, 0.5)\"\n                        ]\n                    ],\n                    \"default\": \"hsl(0, 0%, 0%)\"\n                },\n      \"circle-stroke-width\": 0.5\n    }\n  }\n  map.addLayer(layer_json);\n  layers.push(layer_json)\n    bus.$emit('select-layers', layers);\n    bus.$emit('add-legend', 'test');\n}\n\nfunction ShowMorphologyData(data){\n  bokehplot(data, ddocument.getElementById(\"properties.id\"))\n}\n\nfunction bokehplot(data, div, meteodata) {\n  var plt = Bokeh.Plotting;\n  // var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  // var begin = 500000\n  // var end = 750000\n  // var y = meteodata[data].data.slice(begin, end)\n  // y = _.map(y, function(i) {\n  //   if (i >= 9.969209968386869e+36) {\n  //     return NaN\n  //   } else {\n  //     return i\n  //   }\n  // })\n  // var x = []\n  // _.each(meteodata.time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  // var source = new Bokeh.ColumnDataSource({\n  //   data: {\n  //     x: x,\n  //     y: y\n  //   }\n  // });\n  var plot = new plt.figure({\n    // title: meteodata[data].title,\n    tools: tools,\n    width: 400,\n    height: 200,\n    x_axis_type: 'datetime',\n    background_fill_color: \"#F2F2F7\"\n  });\n  // var line = new Bokeh.Line({\n  //   x: {\n  //     field: \"x\"\n  //   },\n  //   y: {\n  //     field: \"y\"\n  //   },\n  //   line_color: \"#666699\",\n  //   line_width: 2\n  // });\n  //\n  // plot.add_glyph(line, source);\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\nexport {\n  AddMorphology, ShowMorphologyData\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/morphology.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5482bc58\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./app.js\"/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5482bc58\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nexport const bus = new Vue();\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-bus.js","import _ from 'lodash';\n\nexport default {\n  name: 'layer-control',\n  props: {\n    layers: {\n      type: Array,\n      required: true\n    },\n    map: {\n      type: Object\n    }\n  },\n  data() {\n    return {};\n  },\n  mounted() {},\n  watch: {\n    // Watch \"layers\". This is a switch, which can toggle a layer on or off\n    // When toggled, this watcher will activate the toggleLayers function.\n    layers: {\n      handler: function(layers) {\n        this.toggleLayers();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    toggleLayers() {\n      if (_.isNil(this.map)) {\n        return;\n      }\n      // Function to toggle the visibility of the layers.\n      _.each(this.layers, (layer) => {\n        var vis = \"none\"\n        if (layer.active) {\n          vis = \"visible\"\n        }\n\n        if (layer.type === 'group') {\n          _.each(layer.data, (sublayer) => {\n            this.map.setLayoutProperty(sublayer.id, \"visibility\", vis);\n          })\n        } else {\n          this.map.setLayoutProperty(layer.id, \"visibility\", vis);\n        }\n      });\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layer-control.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-control\"},_vm._l((_vm.layers),function(layer){return _c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(layer.name))]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ddcb93a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","import {\n  bus\n} from '@/event-bus.js';\nimport _ from 'lodash';\nimport Vue from 'vue';\n\nexport default {\n  name: 'morphology-canvas',\n  data () {\n    return {\n      baseUrl: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/morphology/jetski',\n      meta: null,\n      map: null\n    };\n  },\n  mounted() {\n    fetch(this.baseUrl + '/meta.json')\n      .then((resp) => {\n        return resp.json();\n      })\n      .then(json => {\n        this.meta = json;\n        Vue.nextTick(() => {\n          // after we render everything lookup all elements\n          _.each(\n            this.meta,\n            (item, i) => {\n\n              const selector = '#morphology-' + i;\n              const el = this.$el.querySelector(selector)\n              const children = el.children;\n              const [video, source, dest] = children;\n              item.width = 500;\n              item.height = 625;\n              item.video = video;\n              item.source = source;\n              item.dest = dest;\n              item.ctxSrc = source.getContext('2d');\n              item.ctxDest = dest.getContext('2d');\n\n\n              item.id = 'morphology-canvas-' + i;\n\n              let layer = {\n                name: \"Jetski-\" + i,\n                active: false,\n                visibility: \"none\",\n                id: item.id,\n                type: 'raster',\n                icon: 'filter_drama',\n                source: {\n                  type: 'canvas',\n                  animate: true,\n                  canvas: item.id,\n                  coordinates: [\n                    [item.extent[0], item.extent[1]],\n                    [item.extent[2], item.extent[1]],\n                    [item.extent[2], item.extent[3]],\n                    [item.extent[0], item.extent[3]]\n                  ]\n                },\n                paint: {}\n              };\n              item.layer = layer;\n              console.log('layer', layer);\n              this.publishLayers();\n\n\n            }\n          )\n          this.animate();\n\n        });\n      })\n\n  },\n  methods: {\n    deferredMountedTo(map) {\n      this.map = map;\n      this.publishLayers();\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      _.each(this.meta, (item) => {\n        // render to canvas\n        item.ctxSrc.drawImage(item.video, 0, 0, item.width, item.height * 2);\n        // get frame into memory\n        const nPixels = (item.width * item.height);\n        let frame = item.ctxSrc.getImageData(0, 0, item.width, item.height * 2)\n        for (let i = 0; i < nPixels; i++) {\n          let r = frame.data[i * 4 + 0];\n          let g = frame.data[i * 4 + 1];\n          let b = frame.data[i * 4 + 2];\n          let a = frame.data[(i * 4) + nPixels * 4] > 100 ? 0 : 255;\n          frame.data[i * 4 + 3] = a;\n        };\n        item.ctxDest.putImageData(frame, 0, 0);\n      });\n    },\n    publishLayers() {\n      if (this.map == null) {\n        // map is not set yet\n        return;\n      }\n      _.each(this.meta, (item) => {\n        this.map.addLayer(item.layer);\n        bus.$emit('add-layer', item.layer);\n      })\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/morphology-canvas.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"},_vm._l((_vm.meta),function(item,index){return _c('div',{attrs:{\"id\":'morphology-' + index}},[_c('video',{staticClass:\"hidden\",attrs:{\"width\":500,\"height\":1250,\"src\":_vm.baseUrl + '/' + item.mp4,\"autoplay\":\"\",\"loop\":\"\",\"crossorigin\":\"anonymous\"}}),_vm._v(\" \"),_c('canvas',{staticClass:\"source hidden\",attrs:{\"width\":500,\"height\":1250}}),_vm._v(\" \"),_c('canvas',{staticClass:\"dest\",attrs:{\"width\":500,\"height\":625,\"id\":'morphology-canvas-' + index}})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e38d90c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MorphologyCanvas.vue\n// module id = null\n// module chunks = ","import $ from 'jquery';\nimport _ from 'lodash';\nimport Vue from 'vue';\nimport moment from 'moment';\nimport ionRangeslider from 'ion-rangeslider/js/ion.rangeSlider.js';\nimport 'font-awesome/css/font-awesome.css';\n\nconst DAY_FORMAT = 'Y-MM-DD'\n\nexport default {\n  name: \"time-slider\",\n  props: {\n    showPlay: {\n      type: Boolean,\n      default: true\n    },\n    // the maximum extent for this slider\n    extent: {\n      type: Array,\n      default () {\n        let now = moment()\n        let then = moment(\"20110301\", \"YYYYMMDD\")\n        return [then, now]\n      }\n    }\n  },\n  data() {\n    return {\n      configDialog: false,\n      startDateMenu: false,\n      endDateMenu: false,\n      // by default use the full extent\n      startDate: this.extent[0].format(DAY_FORMAT),\n      endDate: this.extent[1].format(DAY_FORMAT),\n      // duration of a loop\n      loopDuration: 20,\n      maxFps: 10,\n      // last timestep (for syncing rate)\n      last: null,\n      loop: true,\n      state: 'paused',\n      slider: null\n    };\n  },\n  mounted() {\n    Vue.nextTick(() => {\n      let input = this.$el.querySelector(\"input.slider\");\n      $(input).ionRangeSlider({\n        type: \"double\",\n        drag_interval: true,\n        min: 0,\n        max: 1,\n        // not sure how to avoid steps, now use 1000 steps\n        step: 0.001,\n        grid: false,\n        hide_min_max: true,\n        onFinish: (val) => {\n          this.$emit('time-extent-update', this.currentExtent)\n        },\n        onUpdate: (val) => {\n          this.$emit('time-extent-update', this.currentExtent)\n        },\n        prettify: val => this.dateFormat(val)\n      });\n      this.slider = $(input).data(\"ionRangeSlider\");\n      this.step()\n    })\n  },\n  watch: {\n    extent(val) {\n      if (this.slider.dragging) {\n        return;\n      }\n      // always slide from 0 to 1\n      this.slider.update({\n        from: 0,\n        to: 1\n      });\n    }\n\n  },\n  methods: {\n    pause() {\n      this.state = 'paused';\n    },\n    play() {\n      this.last = performance.now();\n      this.state = 'playing';\n    },\n    step(now) {\n      // request the next step (yes you can call this function now, does not matter)\n      requestAnimationFrame(this.step)\n      // first update, when this.last is still null, set value and return\n      if (!this.last) {\n        this.last = now;\n        return\n      }\n      // now we can just return if we are not playing (will result in a regular poll for playing)\n      if (this.state !== 'playing') {\n        return;\n      }\n      // elapsed time in seconds\n      const elapsed = (now - this.last)/1000;\n      // seconds per frame did not elapse, we're done\n      if (elapsed < (1/this.maxFps)) {\n        // this keeps the number of events low (otherwise you get 60 events per second)\n        return;\n      }\n      // elapsed fraction\n      const frac = elapsed / this.loopDuration;\n      // update with fraction\n      const val = {\n        from: _.clamp(this.slider.result.from + frac, 0, 1),\n        to: _.clamp(this.slider.result.to + frac, 0, 1)\n      }\n      // TODO: google earth uses a smarter loop,\n      // it keeps track of the diff somehow\n      // we reached the end, loop\n      if (val.to == 1) {\n        if (this.loop) {\n          val.to = val.to - val.from\n          val.from = 0\n        } else {\n          // stop updating\n          return;\n        }\n      }\n      // apply it to the slider (fires update event)\n      this.slider.update(val)\n      // remember current time\n      this.last = now;\n    },\n    dateByFraction (fraction) {\n      // miliseconds diff\n      const start = moment(this.startDate)\n      const end = moment(this.endDate)\n      // positive number of miliseconds\n      const diff = end.diff(start)\n      const time = start.clone().add(diff * fraction, 'ms')\n      return time\n    },\n    dateFormat (fraction) {\n      return this.dateByFraction(fraction).format(DAY_FORMAT)\n    },\n    deferredMountedTo(map) {\n      // Used when nested in a Leaflet or Mapbox\n    }\n  },\n  computed: {\n    currentTime() {\n      return this.dateByFraction(this.slider.result.to);\n    },\n    currentExtent() {\n      return [\n        this.dateByFraction(this.slider.result.from),\n        this.dateByFraction(this.slider.result.to)\n      ];\n    },\n    allowedDates() {\n      // return allowed dates, based on extent\n      return {\n        min: this.extent[0].format(DAY_FORMAT),\n        max: this.extent[1].format(DAY_FORMAT)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/time-slider.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"time-slider\",attrs:{\"color\":\"white\",\"floating\":\"\",\"dense\":\"\",\"role\":\"slider\"}},[_c('div',{staticClass:\"time-slider-wrapper\"},[_c('input',{staticClass:\"slider\",attrs:{\"type\":\"text\",\"name\":\"slider\",\"value\":\"\"}})]),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}},[_c('v-btn',{attrs:{\"value\":\"playing\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.play($event)}}},[_c('v-icon',[_vm._v(\"fa-play\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"value\":\"paused\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.pause($event)}}},[_c('v-icon',[_vm._v(\"fa-pause\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{model:{value:(_vm.loop),callback:function ($$v) {_vm.loop=$$v},expression:\"loop\"}},[_c('v-btn',{attrs:{\"value\":true,\"flat\":\"\"}},[_c('v-icon',[_vm._v(\"fa-repeat\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog = true}}},[_c('v-icon',[_vm._v(\"fa-gear\")])],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.configDialog),callback:function ($$v) {_vm.configDialog=$$v},expression:\"configDialog\"}},[_c('v-card',[_c('v-card-text',[_c('v-menu',{ref:\"startDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.startDate},on:{\"update:returnValue\":function($event){_vm.startDate=$event}},model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_vm._v(\" \"),_c('v-menu',{ref:\"endDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.endDate},on:{\"update:returnValue\":function($event){_vm.endDate=$event}},model:{value:(_vm.endDateMenu),callback:function ($$v) {_vm.endDateMenu=$$v},expression:\"endDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog=false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e8fddb0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TimeSlider.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport {\n  bus\n} from '@/event-bus.js';\nimport 'material-design-icons/iconfont/material-icons.css';\nimport LayerControl from './components/LayerControl';\nimport MorphologyCanvas from './components/MorphologyCanvas';\nimport TimeSlider from './components/TimeSlider';\nimport {\n  DrawControls\n} from './components/map-draw.js';\n\nimport {updateJetski} from './components/jetski.js'\nimport {AddLidar} from './components/lidar.js'\nimport {AddADCP, ShowADCPData} from './components/adcp.js'\nimport {\n  AddAeolian,\n  ShowAeolianData,\n  filterAeolianBy\n} from './components/aeolian.js';\nimport {\n  AddDrifters,\n  filterDrifterBy\n} from './components/drifters.js';\nimport {\n  AddMeteo,\n  ShowMeteoData\n} from './components/meteo.js'\nimport {\n  AddMorphology\n} from './components/morphology.js'\nexport default {\n  name: 'app',\n  data: function() {\n    return {\n      map: null,\n      drawer: false,\n      fixed: false,\n      showSettings: false,\n      items: [{\n        icon: 'bubble_chart',\n        title: 'Inspire'\n      }],\n      layers: [],\n      jsondata: \"None\",\n      msg: \"\",\n      timeExtent: null,\n      plots: []\n    };\n  },\n  mounted() {\n    bus.$on('select-layers', (layers) => {\n      Vue.set(this, 'layers', layers);\n    });\n    bus.$on('add-layer', (layer) => {\n      this.layers.push(layer);\n    });\n    bus.$on('click-plots', (plots) => {\n      Vue.set(this, 'plots', plots);\n    });\n\n    bus.$on('map-loaded', (event) => {\n      Vue.set(this, 'map', event.target);\n    });\n\n    this.$refs.timeslider.$on('time-extent-update', (event) => {\n      this.timeExtent = event;\n      // check which layers are active\n      var activeLayers = []\n      for (var i = 0; i < this.layers.length; i++) {\n          if (this.layers[i].active) {activeLayers.push(this.layers[i].id)}\n      };\n      // filter some map layers with filter options on time\n      if (activeLayers.indexOf(\"drifter-layer\") > -1) {\n        filterDrifterBy(this.timeExtent,this.$refs.map.map);\n      };\n      if (activeLayers.indexOf(\"aeolian-layer\") > -1) {\n        filterAeolianBy(this.timeExtent,this.$refs.map.map);\n      }\n      if (activeLayers.indexOf(\"Jetski\") > -1) {\n        updateJetski(this.$refs.map.map, this.layers, this.timeExtent[0], this.timeExtent[1]);\n      }\n\n      // filter all open Bokeh plots on TimeSlider\n      var keys = Object.keys(Bokeh.index)\n      var tstart = this.timeExtent[0].unix() * 1000;\n      var tend = this.timeExtent[1].unix() * 1000;\n      for (var i = 0; i < keys.length; i++) {\n        Bokeh.index[keys[i]].model.x_range.set({\"start\":tstart, \"end\":tend})\n      }\n    })\n\n    this.$refs.map.$on('mb-load', (event) => {\n      bus.$emit('map-loaded', event);\n\n      // Add different layers (Meteo, Morphology and Aeolian)\n      DrawControls(this.$refs.map.map, this.plots, \"bathymetry_jetski\", this.layers)\n      AddMeteo(this.$refs.map.map, this.layers)\n      AddMorphology(this.$refs.map.map, this.layers)\n      AddAeolian(this.$refs.map.map, this.layers)\n      AddDrifters(this.$refs.map.map, this.layers)\n      // AddJetski(this.$refs.map.map, this.layers)\n      AddLidar(this.$refs.map.map, this.layers)\n      // AddADCP(this.$refs.map.map, this.layers)\n      updateJetski(this.$refs.map.map, this.layers)\n      // TODO: Click event toevoegen\n      this.map.on('mousemove', (e) => {\n        this.$refs.map.map.getCanvas().style.cursor = '';\n        var features = this.map.queryRenderedFeatures(e.point);\n        if (typeof features[0] !== 'undefined') {\n          this.$refs.map.map.getCanvas().style.cursor = 'pointer';\n        }\n      })\n\n      this.map.on('click', (e) => {\n        var click_lon = e.lngLat.lng\n        var click_lat = e.lngLat.lat\n        // WHen meteo-layer is visible and clicked on\n        if (this.map.getLayer('meteo-layer').visibility === 'visible') {\n          var meteo = this.layers.find(item => item.id === \"meteo-layer\")\n          var lon_min = meteo.source.coordinates[0][0]\n          var lon_max = meteo.source.coordinates[1][0]\n          var lat_min = meteo.source.coordinates[2][1]\n          var lat_max = meteo.source.coordinates[0][1]\n          if (click_lon <= lon_max && click_lat <= lat_max &&\n            click_lon >= lon_min && click_lat >= lat_min) {\n            var ids = []\n            var params = [\"Barometer_Avg\", \"WindSpeed_Avg\", \"RelHumidity_Avg\"]\n            _.each(params, (p) => {\n              this.plots.push(p)\n              ids.push(\"plot_\" + p)\n              bus.$emit('click-plots', this.plots);\n            })\n            ShowMeteoData(ids)\n\n          }\n        }\n        // When clicked on a feature of Morphology or aeolian\n        var features = this.map.queryRenderedFeatures(e.point);\n        _.each(features, (point) => {\n          if (point.layer.id == \"Morphology\") {\n            var div_id = point.properties.id\n            this.plots.push(div_id)\n            bus.$emit('click-plots', this.plots);\n            // ShowMorphologyData(point.properties, \"plot_\" + div_id)\n          } else if (point.layer.id == \"aeolian-layer\") {\n            var div_id = \"Particle_\" + point.properties.location_ID\n            this.plots.push(div_id)\n            bus.$emit('click-plots', this.plots);\n            ShowAeolianData(point, \"plot_\" + div_id)\n        } else if (point.layer.id == \"adcp-layer\") {\n          var div_id = point.properties.location_ID\n          this.plots.push(div_id)\n          bus.$emit('click-plots', this.plots);\n          ShowADCPData(point, \"plot_\" + div_id)\n        }\n        })\n      });\n    })\n\n  },\n  methods: {\n    removePlot(e) {\n      var index = this.plots.indexOf(e);\n      this.plots.splice(index, 1);\n      bus.$emit('click-plots', this.plots);\n    }\n  },\n  components: {\n    'layer-control': LayerControl,\n    'time-slider': TimeSlider\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',{staticClass:\"title\"},[_vm._v(\"\\n            Layers\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('layer-control',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"light\":\"\",\"app\":\"\",\"clipped-left\":\"\",\"fixed\":\"\"}},[_c('v-toolbar-title',{staticClass:\"ml-0 pl-3\"},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\"\\n      Zandmotor data\\n    \")],1),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\"}},[_c('v-avatar',{attrs:{\"size\":\"32px\",\"tile\":\"\"}},[_c('img',{attrs:{\"src\":\"http://www.dezandmotor.nl/assets/images/logo-de-zandmotor.png\",\"alt\":\"Logo\"}})])],1)],1),_vm._v(\" \"),_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"fluid\":\"\",\"row\":\"\",\"wrap\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"mb-2\":\"\"}},[_c('v-card',{attrs:{\"id\":\"map\"}},[_c('v-card-text',[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA\",\"map-style\":\"mapbox://styles/mapbox/satellite-streets-v10\",\"center\":[4.186, 52.050],\"zoom\":13.16,\"pitch\":5.00,\"bearing\":-0,\"min-zoom\":5,\"id\":\"map\"}},[_c('canvas',{attrs:{\"id\":\"windsock-canvas\",\"width\":\"200\",\"height\":\"200\"}}),_vm._v(\" \"),_c('time-slider',{ref:\"timeslider\",attrs:{\"show-play\":false}})],1)],1)],1)],1),_vm._v(\" \"),_vm._l((_vm.plots),function(plot){return _c('v-card',{key:plot,staticClass:\"mb-1 mr-1\",attrs:{\"id\":'card_'+ plot}},[_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.removePlot(plot, $event)}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_vm._v(\" \"),_c('v-card-text',[_c('div',{staticClass:\"plot-container bk-root\",attrs:{\"id\":'plot_'+ plot}})])],1)})],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5482bc58\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport Vuetify from 'vuetify';\n\nimport App from './App.vue';\nimport Vue2MapboxGL from 'vue2mapbox-gl';\n\nVue.use(Vue2MapboxGL);\nVue.use(Vuetify);\n\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var map = {\n\t\"./af\": \"3CJN\",\n\t\"./af.js\": \"3CJN\",\n\t\"./ar\": \"3MVc\",\n\t\"./ar-dz\": \"tkWw\",\n\t\"./ar-dz.js\": \"tkWw\",\n\t\"./ar-kw\": \"j8cJ\",\n\t\"./ar-kw.js\": \"j8cJ\",\n\t\"./ar-ly\": \"wPpW\",\n\t\"./ar-ly.js\": \"wPpW\",\n\t\"./ar-ma\": \"dURR\",\n\t\"./ar-ma.js\": \"dURR\",\n\t\"./ar-sa\": \"7OnE\",\n\t\"./ar-sa.js\": \"7OnE\",\n\t\"./ar-tn\": \"BEem\",\n\t\"./ar-tn.js\": \"BEem\",\n\t\"./ar.js\": \"3MVc\",\n\t\"./az\": \"eHwN\",\n\t\"./az.js\": \"eHwN\",\n\t\"./be\": \"3hfc\",\n\t\"./be.js\": \"3hfc\",\n\t\"./bg\": \"lOED\",\n\t\"./bg.js\": \"lOED\",\n\t\"./bm\": \"hng5\",\n\t\"./bm.js\": \"hng5\",\n\t\"./bn\": \"aM0x\",\n\t\"./bn.js\": \"aM0x\",\n\t\"./bo\": \"w2Hs\",\n\t\"./bo.js\": \"w2Hs\",\n\t\"./br\": \"OSsP\",\n\t\"./br.js\": \"OSsP\",\n\t\"./bs\": \"aqvp\",\n\t\"./bs.js\": \"aqvp\",\n\t\"./ca\": \"wIgY\",\n\t\"./ca.js\": \"wIgY\",\n\t\"./cs\": \"ssxj\",\n\t\"./cs.js\": \"ssxj\",\n\t\"./cv\": \"N3vo\",\n\t\"./cv.js\": \"N3vo\",\n\t\"./cy\": \"ZFGz\",\n\t\"./cy.js\": \"ZFGz\",\n\t\"./da\": \"YBA/\",\n\t\"./da.js\": \"YBA/\",\n\t\"./de\": \"DOkx\",\n\t\"./de-at\": \"8v14\",\n\t\"./de-at.js\": \"8v14\",\n\t\"./de-ch\": \"Frex\",\n\t\"./de-ch.js\": \"Frex\",\n\t\"./de.js\": \"DOkx\",\n\t\"./dv\": \"rIuo\",\n\t\"./dv.js\": \"rIuo\",\n\t\"./el\": \"CFqe\",\n\t\"./el.js\": \"CFqe\",\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\",\n\t\"./eo\": \"Nd3h\",\n\t\"./eo.js\": \"Nd3h\",\n\t\"./es\": \"LT9G\",\n\t\"./es-do\": \"7MHZ\",\n\t\"./es-do.js\": \"7MHZ\",\n\t\"./es-us\": \"INcR\",\n\t\"./es-us.js\": \"INcR\",\n\t\"./es.js\": \"LT9G\",\n\t\"./et\": \"XlWM\",\n\t\"./et.js\": \"XlWM\",\n\t\"./eu\": \"sqLM\",\n\t\"./eu.js\": \"sqLM\",\n\t\"./fa\": \"2pmY\",\n\t\"./fa.js\": \"2pmY\",\n\t\"./fi\": \"nS2h\",\n\t\"./fi.js\": \"nS2h\",\n\t\"./fo\": \"OVPi\",\n\t\"./fo.js\": \"OVPi\",\n\t\"./fr\": \"tzHd\",\n\t\"./fr-ca\": \"bXQP\",\n\t\"./fr-ca.js\": \"bXQP\",\n\t\"./fr-ch\": \"VK9h\",\n\t\"./fr-ch.js\": \"VK9h\",\n\t\"./fr.js\": \"tzHd\",\n\t\"./fy\": \"g7KF\",\n\t\"./fy.js\": \"g7KF\",\n\t\"./gd\": \"nLOz\",\n\t\"./gd.js\": \"nLOz\",\n\t\"./gl\": \"FuaP\",\n\t\"./gl.js\": \"FuaP\",\n\t\"./gom-latn\": \"+27R\",\n\t\"./gom-latn.js\": \"+27R\",\n\t\"./gu\": \"rtsW\",\n\t\"./gu.js\": \"rtsW\",\n\t\"./he\": \"Nzt2\",\n\t\"./he.js\": \"Nzt2\",\n\t\"./hi\": \"ETHv\",\n\t\"./hi.js\": \"ETHv\",\n\t\"./hr\": \"V4qH\",\n\t\"./hr.js\": \"V4qH\",\n\t\"./hu\": \"xne+\",\n\t\"./hu.js\": \"xne+\",\n\t\"./hy-am\": \"GrS7\",\n\t\"./hy-am.js\": \"GrS7\",\n\t\"./id\": \"yRTJ\",\n\t\"./id.js\": \"yRTJ\",\n\t\"./is\": \"upln\",\n\t\"./is.js\": \"upln\",\n\t\"./it\": \"FKXc\",\n\t\"./it.js\": \"FKXc\",\n\t\"./ja\": \"ORgI\",\n\t\"./ja.js\": \"ORgI\",\n\t\"./jv\": \"JwiF\",\n\t\"./jv.js\": \"JwiF\",\n\t\"./ka\": \"RnJI\",\n\t\"./ka.js\": \"RnJI\",\n\t\"./kk\": \"j+vx\",\n\t\"./kk.js\": \"j+vx\",\n\t\"./km\": \"5j66\",\n\t\"./km.js\": \"5j66\",\n\t\"./kn\": \"gEQe\",\n\t\"./kn.js\": \"gEQe\",\n\t\"./ko\": \"eBB/\",\n\t\"./ko.js\": \"eBB/\",\n\t\"./ky\": \"6cf8\",\n\t\"./ky.js\": \"6cf8\",\n\t\"./lb\": \"z3hR\",\n\t\"./lb.js\": \"z3hR\",\n\t\"./lo\": \"nE8X\",\n\t\"./lo.js\": \"nE8X\",\n\t\"./lt\": \"/6P1\",\n\t\"./lt.js\": \"/6P1\",\n\t\"./lv\": \"jxEH\",\n\t\"./lv.js\": \"jxEH\",\n\t\"./me\": \"svD2\",\n\t\"./me.js\": \"svD2\",\n\t\"./mi\": \"gEU3\",\n\t\"./mi.js\": \"gEU3\",\n\t\"./mk\": \"Ab7C\",\n\t\"./mk.js\": \"Ab7C\",\n\t\"./ml\": \"oo1B\",\n\t\"./ml.js\": \"oo1B\",\n\t\"./mr\": \"5vPg\",\n\t\"./mr.js\": \"5vPg\",\n\t\"./ms\": \"ooba\",\n\t\"./ms-my\": \"G++c\",\n\t\"./ms-my.js\": \"G++c\",\n\t\"./ms.js\": \"ooba\",\n\t\"./mt\": \"oCzW\",\n\t\"./mt.js\": \"oCzW\",\n\t\"./my\": \"F+2e\",\n\t\"./my.js\": \"F+2e\",\n\t\"./nb\": \"FlzV\",\n\t\"./nb.js\": \"FlzV\",\n\t\"./ne\": \"/mhn\",\n\t\"./ne.js\": \"/mhn\",\n\t\"./nl\": \"3K28\",\n\t\"./nl-be\": \"Bp2f\",\n\t\"./nl-be.js\": \"Bp2f\",\n\t\"./nl.js\": \"3K28\",\n\t\"./nn\": \"C7av\",\n\t\"./nn.js\": \"C7av\",\n\t\"./pa-in\": \"pfs9\",\n\t\"./pa-in.js\": \"pfs9\",\n\t\"./pl\": \"7LV+\",\n\t\"./pl.js\": \"7LV+\",\n\t\"./pt\": \"ZoSI\",\n\t\"./pt-br\": \"AoDM\",\n\t\"./pt-br.js\": \"AoDM\",\n\t\"./pt.js\": \"ZoSI\",\n\t\"./ro\": \"wT5f\",\n\t\"./ro.js\": \"wT5f\",\n\t\"./ru\": \"ulq9\",\n\t\"./ru.js\": \"ulq9\",\n\t\"./sd\": \"fW1y\",\n\t\"./sd.js\": \"fW1y\",\n\t\"./se\": \"5Omq\",\n\t\"./se.js\": \"5Omq\",\n\t\"./si\": \"Lgqo\",\n\t\"./si.js\": \"Lgqo\",\n\t\"./sk\": \"OUMt\",\n\t\"./sk.js\": \"OUMt\",\n\t\"./sl\": \"2s1U\",\n\t\"./sl.js\": \"2s1U\",\n\t\"./sq\": \"V0td\",\n\t\"./sq.js\": \"V0td\",\n\t\"./sr\": \"f4W3\",\n\t\"./sr-cyrl\": \"c1x4\",\n\t\"./sr-cyrl.js\": \"c1x4\",\n\t\"./sr.js\": \"f4W3\",\n\t\"./ss\": \"7Q8x\",\n\t\"./ss.js\": \"7Q8x\",\n\t\"./sv\": \"Fpqq\",\n\t\"./sv.js\": \"Fpqq\",\n\t\"./sw\": \"DSXN\",\n\t\"./sw.js\": \"DSXN\",\n\t\"./ta\": \"+7/x\",\n\t\"./ta.js\": \"+7/x\",\n\t\"./te\": \"Nlnz\",\n\t\"./te.js\": \"Nlnz\",\n\t\"./tet\": \"gUgh\",\n\t\"./tet.js\": \"gUgh\",\n\t\"./th\": \"XzD+\",\n\t\"./th.js\": \"XzD+\",\n\t\"./tl-ph\": \"3LKG\",\n\t\"./tl-ph.js\": \"3LKG\",\n\t\"./tlh\": \"m7yE\",\n\t\"./tlh.js\": \"m7yE\",\n\t\"./tr\": \"k+5o\",\n\t\"./tr.js\": \"k+5o\",\n\t\"./tzl\": \"iNtv\",\n\t\"./tzl.js\": \"iNtv\",\n\t\"./tzm\": \"FRPF\",\n\t\"./tzm-latn\": \"krPU\",\n\t\"./tzm-latn.js\": \"krPU\",\n\t\"./tzm.js\": \"FRPF\",\n\t\"./uk\": \"ntHu\",\n\t\"./uk.js\": \"ntHu\",\n\t\"./ur\": \"uSe8\",\n\t\"./ur.js\": \"uSe8\",\n\t\"./uz\": \"XU1s\",\n\t\"./uz-latn\": \"/bsm\",\n\t\"./uz-latn.js\": \"/bsm\",\n\t\"./uz.js\": \"XU1s\",\n\t\"./vi\": \"0X8Q\",\n\t\"./vi.js\": \"0X8Q\",\n\t\"./x-pseudo\": \"e/KL\",\n\t\"./x-pseudo.js\": \"e/KL\",\n\t\"./yo\": \"YXlc\",\n\t\"./yo.js\": \"YXlc\",\n\t\"./zh-cn\": \"Vz2w\",\n\t\"./zh-cn.js\": \"Vz2w\",\n\t\"./zh-hk\": \"ZUyn\",\n\t\"./zh-hk.js\": \"ZUyn\",\n\t\"./zh-tw\": \"BbgG\",\n\t\"./zh-tw.js\": \"BbgG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"uslO\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = uslO\n// module chunks = 1"],"sourceRoot":""}