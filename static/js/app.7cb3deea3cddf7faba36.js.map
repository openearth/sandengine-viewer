{"version":3,"sources":["webpack:///static/js/app.7cb3deea3cddf7faba36.js","webpack:///./src/components/LayerControl.vue","webpack:///./src/components/MorphologyCanvas.vue","webpack:///./src/components/TimeSlider.vue","webpack:///./src/components/map-draw.js","webpack:///./src/components/jetski.js","webpack:///./src/components/lidar.js","webpack:///./src/components/adcp.js","webpack:///./src/components/aeolian.js","webpack:///./src/components/drifters.js","webpack:///./src/components/meteo.js","webpack:///./src/components/morphology.js","webpack:///./src/main.js","webpack:///./src/event-bus.js","webpack:///./src/components/layer-control.js","webpack:///./src/components/LayerControl.vue?570a","webpack:///./src/components/morphology-canvas.js","webpack:///./src/components/MorphologyCanvas.vue?952d","webpack:///./src/components/time-slider.js","webpack:///./src/components/TimeSlider.vue?283f","webpack:///./src/app.js","webpack:///./src/App.vue?b428","webpack:///./src/App.vue","webpack:///./node_modules/moment/locale ^\\.\\/.*$"],"names":["webpackJsonp","4u12","module","exports","5W1q","5h6Y","7zck","GkQf","HNnx","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","MorphologyCanvas_injectStyle","TimeSlider_injectStyle","DrawControls","map","draws","beginDate","endDate","dataset","download_raster_profile","regions","scale","begin_date","end_date","_","each","region","data","polyline","console","log","Headers","fetch","SERVER_URL","method","body","stringify_default","mode","headers","Content-Type","then","res","json","profile_data","bokehplot","div_id","div","document","getElementById","plt","Bokeh","Plotting","begin","end","source","GeoJSONDataSource","geojson","undefined","index","plot","model","color","map_draw_colors","_legend","attributes","items","length","figure","name","id","title","tools","width","height","background_fill_color","x_axis_label","y_axis_label","line","field","legend","format","map_draw_DAY_FORMAT","line_width","line_color","doc","Document","add_root","embed","add_document_standalone","updateJetski","layers","arguments","moment_default","diff","get_images_urls","step","interval","unit","json_data","image_data","updateLayers","urls","jetski","find","item","active","icon","type","range","z-order","css","info","layer","visibility","old","removeLayer","tileSize","url","mapid","token","addLayer","$emit","layout","mapId","tiles","mapUrl","push","bus","getTileUrl","join","AddLidar","lidar_get_images_urls","AddLayers","grouplayer","baseUrl","lidar_getTileUrl","layer_json","AddADCP","tstart","tend","filters","icon-image","adcpID","paint","base","stops","reason","ShowADCPData","point","properties","ADCPID","ylabel","resp","adcp_bokehplot","timeseries","catch","warn","x","y","i","colors","AddAeolian","ColumnDataSource","location","timeExtent","setFilter","ShowAeolianData","locationID","circle-radius","filterAeolianBy","unix","innerHTML","deploymentName","location_ID","timeEnd","a","parseFloat","timeStart","aeolian_bokehplot","keys","heights","filterFunction","deploymenttStart","deploymenttEnd","locationIDdata","xwithoutzero","ywithoutzero","x_axis_type","value","array","toString","filter","line-color","line-width","filterDrifterBy","ShowMeteoData","ids","AddMeteo","coordinates","lon","meteo_bokehplot","t","jsondata","lat","draw","ctx","bh","bw","c","clearRect","shadowColor","shadowBlur","direc","beginPath","closePath","moveTo","stroke","aspeed","bands","selectedBands","fillStyle","speed","shadowOffsetX","translate","rotate","PI","D","requestAnimationFrame","lineTo","band","meteodata","rect","fill","w","h","Math","Date","time","slice","event","ylabels","filterMorphologyBy","circle-color","property","default","circle-stroke-width","App_injectStyle","Object","defineProperty","vue_esm","vuetify","vuetify_default","n","stringify","object_keys","keys_default","mapbox_gl_draw","moment","lodash","lodash_default","Remarkable","layer_control","props","Array","required","btnInfo","mounted","watch","handler","this","toggleLayers","deep","methods","addInfoCard","layerName","now","layerID","md","style","heigth","text","render","_this","isNil","vis","sublayer","setLayoutProperty","_vm","_h","$createElement","_c","_self","staticClass","_l","key","attrs","dense","pt-0","callback","$$v","$set","expression","_v","_s","staticStyle","display","min-width","small","nativeOn","click","$event","_e","domProps","staticRenderFns","esExports","LayerControl","normalizeComponent","__vue_styles__","Component","components_LayerControl","slicedToArray","slicedToArray_default","morphology_canvas","meta","nextTick","selector","el","$el","querySelector","children","_children","video","dest","ctxSrc","getContext","ctxDest","animate","canvas","extent","publishLayers","deferredMountedTo","drawImage","nPixels","frame","getImageData","putImageData","_this2","MorphologyCanvas_render","src","mp4","autoplay","loop","crossorigin","MorphologyCanvas_staticRenderFns","MorphologyCanvas_esExports","MorphologyCanvas","MorphologyCanvas_normalizeComponent","MorphologyCanvas___vue_styles__","MorphologyCanvas_Component","jquery","jquery_default","time_slider","showPlay","Boolean","configDialog","startDateMenu","endDateMenu","startDate","loopDuration","maxFps","last","state","slider","input","ionRangeSlider","drag_interval","min","max","grid","hide_min_max","onFinish","val","currentExtent","onUpdate","prettify","dateFormat","dragging","update","from","to","pause","play","performance","elapsed","frac","clamp","result","dateByFraction","fraction","start","clone","add","computed","currentTime","allowedDates","TimeSlider_render","floating","role","mandatory","flat","on","stopPropagation","max-width","ref","lazy","close-on-content-click","transition","offset-y","full-width","return-value","update:returnValue","slot","label","prepend-icon","readonly","allowed-dates","no-title","scrollable","scopedSlots","_u","fn","save","cancel","TimeSlider_staticRenderFns","TimeSlider_esExports","TimeSlider","TimeSlider_normalizeComponent","TimeSlider___vue_styles__","TimeSlider_Component","components_TimeSlider","vue2mapbox_gl","vue2mapbox_gl_default","use","displayControlsDefault","controls","line_string","trash","app_draw","Vue","app","drawer","fixed","showSettings","timeslider","activeLayers","msg","$on","indexOf","card","$refs","set","plots","target","array1","renderers","x_range","cursor","getCanvas","queryRenderedFeatures","features","click_lat","lngLat","getLayer","AddMorphology","meteo","AddDrifters","lon_max","lat_min","lat_max","e","params","getAll","geometry","click_lon","lng","lon_min","p","components","removePlot","splice","layer-control","time-slider","App_render","light","clipped","show-play","large","href","alt","size","fluid","fill-height","row","wrap","justify-space-between","sm12","mb-2","access-token","map-style","center","zoom","pitch","bearing","min-zoom","App_staticRenderFns","App_esExports","App","App_normalizeComponent","App___vue_styles__","App_Component","template","productionTip","src_App","config","k7bT","uTBe","uslO","webpackContext","req","webpackContextResolve","Error","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","resolve"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,KAMlBC,OACA,SAAUF,EAAQC,KAMlBE,OACA,SAAUH,EAAQC,KAMlBG,OACA,SAAUJ,EAAQC,KAMlBI,KACA,SAAUL,EAAQC,KAMlBK,KACA,SAAUN,EAAQC,KAMlBM,KACA,SAAUP,EAAQQ,EAAqBC,GAE7C,YC/CA,SAAAC,GAAAC,GACAF,EAAA,QCDA,QAAAG,GAAAD,GACAF,EAAA,QCDA,QAAAI,GAAAF,GACAF,EAAA,QCyBA,QAASK,GAAaC,EAAKC,EAAOC,EAAWC,EAASC,GACtCC,EAAwBJ,EAAOG,EAAS,GAAIF,EAAWC,GAIvE,QAASE,GAAwBC,EAASF,EAASG,EAAOC,EAAYC,GACpEC,EAAEC,KAAKL,EAAS,SAACM,GACf,GAEIC,IACFC,SAAYF,EACZR,QAAWA,EACXI,WAAcA,EACdC,SAAYA,EACZF,MAASA,EAEXQ,SAAQC,IAAIH,EACI,IAAII,QAiBpB,OAhBcC,OAAMC,sDAChBC,OAAQ,OACRC,KAAMC,IAAeT,GACrBU,KAAM,OACNC,SACEC,eAAgB,sBAInBC,KAAK,SAACC,GACL,MAAOA,GAAIC,SAEZF,KAAK,SAACG,GAEL,MADAC,GAAUD,EAAchB,EAAMS,IAAeV,IACtCiB,MAMf,QAASC,GAAUD,EAAchB,EAAMkB,GACrChB,QAAQC,IAAIe,EACZ,IAAIC,GAAMC,SAASC,eAAe,QAAUH,GAIxCI,EAAMC,MAAMC,SAEZC,EAAQzB,EAAKL,WACb+B,EAAM1B,EAAKJ,SACX+B,EAAS,GAAIJ,OAAMK,mBACrBC,QAASpB,IAAeO,IAG1B,QAA2Bc,IAAvBP,MAAMQ,MAAMb,GACd,GAAIc,GAAOT,MAAMQ,MAAMb,GAAQe,MAE3BC,EAAQC,GAAOZ,MAAMQ,MAAMb,GAAQe,MAAMG,QAAQC,WAAWC,MAAMC,YAEtE,IAAIP,GAAO,GAAIV,GAAIkB,QACjBC,KAAMvB,EACNwB,GAAIxB,EACJyB,MAAO3C,EAAKT,QACZqD,MAhBQ,+CAiBRC,MAAO,IACPC,OAAQ,IACRC,sBAAuB,UACvBC,aAAc,uCACdC,aAAc,uBAEZf,EAAQC,GAAO,EAcrB,IAXAH,EAAKkB,MACHC,MAAO,aAEPA,MAAO,YAEPxB,OAAQA,EACRyB,OAAQ3B,EAAM4B,OAAOC,IAAc,OAAS5B,EAAI2B,OAAOC,IACvDC,WAAY,EACZC,WAAYtB,QAGaJ,IAAvBP,MAAMQ,MAAMb,GAAsB,CACpC,GAAIuC,GAAM,GAAIlC,OAAMmC,QACpBD,GAAIE,SAAS3B,GACbT,MAAMqC,MAAMC,wBAAwBJ,EAAKtC,ICzG7C,QAAS2C,GAAa3E,EAAK4E,GAAwD,GAAhDpE,GAAgDqE,UAAAzB,OAAA,OAAAT,KAAAkC,UAAA,GAAAA,UAAA,GAArC,aAAcpE,EAAuBoE,UAAAzB,OAAA,OAAAT,KAAAkC,UAAA,GAAAA,UAAA,GAAd,aAC/DvC,EAAQwC,IAAOtE,GACf+B,EAAMuC,IAAOrE,GACbsE,EAAOxC,EAAIwC,KAAKzC,EAAO,MAS3B0C,IAPE5E,QAAW,oBACXI,WAAc8B,EACd7B,SAAY8B,EACZ0C,KAAQF,EACRG,SAAYH,EACZI,KAAQ,OAEiBnF,EAAK4E,GAGlC,QAASI,GAAgBI,EAAWpF,EAAK4E,GAoBvC,MAjBiB1D,OAAMC,kDACnBC,OAAQ,OACRC,KAAMC,IAAe8D,GACrB7D,KAAM,OACNC,SACEC,eAAgB,sBAInBC,KAAK,SAACC,GACL,MAAOA,GAAIC,SAEZF,KAAK,SAAC2D,GAGL,MAFEC,GAAaD,EAAYrF,EAAK4E,GAEzBS,IAKb,QAASC,GAAaC,EAAMvF,EAAK4E,GAC/B,GAAIY,GAASZ,EAAOa,KAAK,SAAAC,GAAA,MAAsB,WAAdA,EAAKpC,MACtC,QAAeX,KAAX6C,EAAsB,CACxB,GAAIA,IACFlC,KAAQ,SACRqC,QAAU,EACVC,KAAQ,YACR/E,QACAgF,KAAQ,QACRtC,GAAM,SACNuC,MAAS,QACTC,UAAW,EACXC,IAAO,urCA8BTC,KAAIC,sKAGFL,QAAML,OAEJW,eAAY,SAAAC,GADNpG,EAJEqG,YAAAD,EAAA7C,MAQRsC,SAEAS,mBAAUC,GAHJ,GAAAC,GAAAD,EAAAC,MAPVC,EAAAF,EAAAE,MAaIC,EAASR,EAAbM,EAAAC,GACAjB,GAlBFjC,GAAAiD,EAoBIG,KAAM,SACXd,KAAA,SLqqBKe,QKnqBNT,WAAoBU,QAEdN,QACJA,KAAO,SACPO,OAAAC,GACDT,SAAA,KLuqBGtG,GAAI0G,SAASR,GACbV,EAAO3E,KAAKmG,KAAKd,KAEnBe,EAAIN,MAAM,gBAAiB/B,GMlxBzB,QAAAsC,GAAWL,EAAAJ,GACX,GACAF,IADA,yCACYM,EAHE,mBAAAM,KAAA,IAKd,OADAZ,IAAA,UAJcE,EAahB,QAAAW,GAAApH,EAAA4E,GAWIyC,GATAjG,QAAQ,mBACRC,WAAM,aACNE,SAHmD,aAInDC,QACE0D,SAAA,GADOC,KAAA,OAMTnF,EAAA4E,GAIA,QAAAyC,GAAAjC,EAAApF,EAAA4E,GNkyBJ,MM/xBD1D,OAAAC,kDNmxBGC,OAAQ,OMjxBZC,KAASiG,IAAqB1C,GAC5BrD,KAAIgG,OACF/F,SACAC,eAFe,sBAIfC,KAAA,SAJeC,GAKf,MAAAA,GAAQC,SACRF,KAAA,SANe2D,GAQf,MADAiC,GAAMjC,EAPSrF,EAAA4E,GAQRS,INuxBX,QAASiC,GAAU/B,EAAMvF,EAAK4E,GAC5B,GAAI2C,IACFjE,KAAQ,2BACRqC,QAAU,EACVC,KAAQ,WACR/E,QACAgF,KAAQ,QACRC,MAAS,QACTvC,GAAM,QACNyC,IAAO,2pCMnvBVC,KAAA,8JAICvF,GAAAC,KAAI4F,EAAOiB,SAASX,GACpBN,MAAOA,EAAAC,MACPC,EAAAF,EAAAE,MACDM,EAAAU,EAAAjB,EAAAC,GNixBOP,GACF3C,GAAIiD,EACJlD,KAAM,QOt3BZuC,KAAA,SAGAF,QAAA,EACAiB,QPs3BQT,WAAY,WOn3BduB,QACE7B,KADW,SAEfF,OAFeoB,GAGfZ,SAAY,KAEZN,SAEA7F,GAAA0G,SAAAR,GACA1D,EAAQ3B,KAAAmG,KAAAd,KAENrF,OAAM0G,GAFAN,EARON,MAAA,gBAAA/B,GAcb,QAAA6C,GAAiBZ,EAAAJ,GACf,GACAF,IADQ,yCAENM,EACC,MAFM,aAAAM,KAAA,IAKX,OAPiBZ,IADZ,UAAAE,EPm4BX,QAASkB,GAAQ3H,EAAK4E,GOj3BpB,GAAA8C,IACAnE,GAAIqE,OACJjC,QAAIkC,EPm3BF1B,WAAY,UOj3Bd7C,KAAIwE,OAKJjC,KAAA,SACDD,KAAA,QP+2BGmC,aAAc,mBO72BlBvF,QACEqD,KAAA,UACImC,uCAEJ9G,KAAMqF,2LAEF0B,OAEDvG,iBACCwG,KAAA,IACAC,QAAU,UAAV,OAGApH,eAAaqH,aP82BjBpI,GAAI0G,SAASgB,GO12Bf9C,EAASoC,KAAAU,GP42BPT,EAAIN,MAAM,gBAAiB/B,GAa7B,QAASyD,GAAaC,EAAOvG,GOz2BzB,GAAAiG,GAAIO,EAAaA,WAASC,MAE1BtH,OADIsC,uEACAiF,EAAS,cAAA/G,KAAb,SAAAgH,GAHF,MAKKA,GAAA9G,SACHF,KAAI6G,YACJI,EAAYX,WAASA,EAAAY,EAAAN,EAArBvG,EAAA,IACA4G,EAAa,aAAAX,EAAbY,EAAAN,EAAAvG,EAAA,MACD8G,MAAA,SAAAT,GP22BCrH,QAAQ+H,KAAKV,KOt2Bb1E,WAHwBnC,EAAAyG,EAAAY,EAAAN,EAAAvG,GAMxB8B,GAAc,MAAdA,EAEAD,MADAE,uCACAF,CAGF,IAAA5B,GAAAC,SAAAC,eAAAH,EACAC,GAAI+G,UAAIH,EP62BR,IAAIzG,GAAMC,MAAMC,QOv2Bd,IAAIG,YAAJjB,EACEV,OAAM,iBACEmI,EADFhB,EAAA,2BADRS,EAAA,6BAKA,IAAI1E,IAAYA,cAIZvB,EAAQA,EADV,8BAEEyB,EAAQsE,sBCnHhB,QD8GI1F,GAAA,GAAAV,GAAAkB,QASDG,QPw2BCC,MOx3BOwF,+CAkBTpG,MAAKI,IACLU,OAAU,IACVW,YAAazB,WACbT,aAAYsC,OACbZ,aAAA2E,EPw2BG7E,sBAAuB,YQ3+B3BmF,EAAAH,EAAA,KAIAM,GAAA,8BAESC,MAAWnJ,EAAaoD,OAAA6F,IAC/B,IAAIvB,KAAaa,EAAAU,IACXzG,EADW,GAAAJ,OAAAgH,kBAEfzD,MAAQoD,EAFOA,EAGf5C,MAGQtD,GAAAkB,MANOC,MAAA,MAAAA,MAAA,MAOf4B,OAAMpD,EACNA,OAAQ+F,EAAAU,GACNpD,WAAMqD,EADAD,GAENpI,WAAM,IAINgC,EAAAI,QAAAoG,SAAA,UACA,IAAA/E,GAAA,GAAAlC,OAAAmC,QACED,GAAAE,SAAA3B,GACAT,MAAAqC,MAAAC,wBAASJ,EAAAtC,GA2BhB,QAAAmH,GAAAnJ,EAAA4E,GR69BC,GAAI8C,IQ39BNnE,GAAA,UACEoC,QAAA,EACAQ,WAAamD,UACbhG,KAAIuE,oBACJhC,KAAIiC,SAKJ9H,OAAIuJ,UACL3D,KAAA,QRy9BGpD,QQv9BJqD,KAAS2D,UACP3I,KAAA,gCAEAoF,KAAIwD,2NACJxB,OR09BIyB,iBQv9BExB,KAAA,KAEFC,QAAYvG,GAAZ,aAGA6H,gBAAaA,SAAb,2NAEAb,SAGA9G,GAAA4E,SAAAgB,GACD9C,EACAiE,KAAMnB,GACL3G,QAAQ+H,gBAARlE,GRw9BN,QAAS+E,GAAgBL,EAAYtJ,GAEnC,GAAI4H,GAAS0B,EAAW,GAAGM,OQp9B3B/B,EAAAyB,EAAA,GAAAM,OACIhB,UAAJ,KAAwB,SAAAhB,IAAA,YAAAC,GACtB9G,aAAY,UAAA+G,GRw9BhB,QAAS0B,GAAgBlB,EAAOvG,GQn9B9BC,GAAI6H,GAAgBvB,EAAAC,WAAAuB,eRs9BhBL,EAAanB,EAAMC,WAAWwB,YQp9BlCC,EAAAlF,EAAAmF,EAAAL,KAAAM,WAAA5B,EAAAC,WAAAyB,UACI7H,EAAYE,EAAhB4H,EAAAL,KAAAM,WAAA5B,EAAAC,WAAA4B,WRu9BAjJ,OAAM,uFAAyF4I,EAAiB,SAASpI,KAAK,SAAUgH,GQp9BxI,MAAAA,GAAA9G,SACAF,KAAIb,SAAO+H,GACXa,EAAWA,ERs9BTK,EAAiBA,EQp9BnBlB,IACAoB,EAAQnJ,EAAAqD,OAAR,KACA6E,EAAUoB,EAAAjG,OAAA,KAAAkG,EAAAX,EAAAK,EAAAlB,EAAAoB,EAAAG,EAAA7B,EAAAvG,KAAV8G,MAAA,SAAAT,GRw9BErH,QAAQ+H,KAAKV,KAIjB,QAASgC,GAAkBX,EAAYK,EAAgBlB,EAAYoB,EAASG,EAAW7B,EAAOvG,GQp9B1F0B,GAFwB,MAExBA,EAEAE,MADAD,SAAO1C,IAHiB,0BAIhB,CAGR8C,gBAAc5B,eAAAH,EACd6B,eAGF,IAAAzB,GAAAC,MAAAC,SR29BIxB,EAAO+H,EAAWkB,GQt9BtBO,EAASpB,IAAWqB,GAKlBvB,EAAAlI,EAAAwJ,EAAA,GALuCtB,KAM9BwB,aAN8BxB,GAOrC,MAASnG,KAATmG,GR4+BJ,KAAK,GQj/BHyB,GAAaf,EAALQ,EAA6BL,KAAAM,WAA7BnB,EAAR,SAAA7E,OAAA,KAOAuG,EAAmB1B,EAASwB,kBAA5BxB,IAAA3F,OAAA,SAAAc,OAAA,KR09BErB,EAAO,GAAIV,GAAIkB,QQv9BjBG,MAAIhB,eAAmB4G,EAAiB,cAAAK,EAAA,sBAAAe,EAAA,oBAAAC,EACtC5J,MAjBA6J,+CAkBE3B,MAAG4B,IACH3B,OAAG4B,IAFCC,YAAA,WADgChH,aAAxC,OR89BAC,aAAc,0BQv9BdF,sBAAsBI,YAIpBM,EAAgBC,KAChBC,EAAS3B,IAAb6H,GACAtI,GAAYsC,oBAAwBJ,WR09B3B2E,EAAI,EAAGA,EAAIqB,EAAQlH,OAAQ6F,ISpnCtC,IAAAsB,GAAA,SAAAO,EAAAlI,EAAAmI,GACA,MAAA/B,GAAApG,GAAA,GAGM8E,YAAagD,EAAAJ,EAAArB,IAAA,OAAA+B,WAAA,KACfrF,EAAQ9E,EADO4I,GAAAa,EAAArB,IAAA,gBAEf3F,EAFeyF,EAAAkC,OAAAV,GAGf3E,EAHeoD,EAAAiC,OAAAV,GAKfpE,EAAY,GAAA/D,OALGgH,kBAMfvD,MACArD,IACEqD,MAIKhD,GAAAkB,MAAAC,MAAA,MAAAA,MAAA,MAAAxB,SAAAyB,OAAAN,EAAAU,WAAA6E,EAAAD,GAAA7E,WAAA,IAGHvB,EAAAI,QAAAoG,SADY,UAEZ,IAAA/E,GAAA,GAAAlC,OACEmC,QAHUD,GAAAE,SAAA3B,GAFTT,MAAAqC,MAAAC,wBAAAJ,EAAAtC,GAkBP,QAAI4F,GAAS0B,EAAW1E,GACxB,GAAIiD,IACJlC,QAAImC,EAKJ9H,KAAIuJ,WACP3D,KAAA,UTknCGrC,GAAI,WACJ4C,WAAY,UACZN,KAAM,OACNrD,QACEqD,KAAM,UACNhF,KAAM,4FUpqCZoF,KAAA,oQACAgC,OACAiD,cAAA,eACAC,cVuqCQjD,KAAQ,EUrqChBC,QAAA,kBAMEjH,YAAMwG,GAEF9C,EAAAoC,KAAO0B,GACRzB,EACAvF,MAAK,gBAAUkD,GAGf,QAPHwG,GAAA9B,EAAAtJ,GV2qCA,GAAI4H,GAAS0B,EAAW,GAAGM,OUjqC7B/B,EAASwD,EAAcC,GAAvB1B,OACE1I,GAAO,qBAAA0G,IAAA,YAAAC,GAEH7H,GAAAuJ,UAAY3H,WAAZkG,GA2BFvE,QAAIgI,GAJWvL,EAAA4E,GAKfiB,+BALenE,KAAA,SAAAgH,GAMf9C,MAAM8C,GAAA9G,SACNoE,KAAK,SAPUpE,GAQfkE,EARelE,EAAAgD,EAAA5E,GASfwC,EAAQZ,KAIN4J,WACGC,GALGvK,MATO,8FAAAQ,KAAA,SAAAgH,GAoBb,MAAAA,GAAQ9G,SACVqG,cAAOrG,GArBT8J,EAAA,gBAAAzJ,SAAAC,eAAAoJ,EAAA,IAAA1J,GAuBA5B,EAAa0H,kBAAbzF,SAAAC,eAAAoJ,EAAA,IAAA1J,KACAgD,MAAOoC,SAAKU,GACZ3G,QAAU+H,KAAAV,KAIV,QAAIuD,GAAJC,EAAAhH,EAAA5E,GVmpCA,GAAI6L,GAAMD,EAASC,IUjpCnBJ,EAASK,EAAOL,IAEd/D,GACApE,KAAIyI,QACJpG,QAAQ,EACRQ,WAAA,OACA5C,GAAIyI,QACJnG,KAAIoG,SACJrG,KAAIsG,eVmpCJlG,IAAK,GUjpCL+F,MAAII,GVmpCJ3J,QUjpCAqD,KAAA,SACAkG,SAAIK,EACJL,OAAIM,kBACJN,cAAAN,EAdIa,KAcJT,EAdIS,OAcJb,EAdIa,KAcJT,EAdIS,OAcJb,EAdIa,KAcJT,EAdIS,OAcJb,EAdIa,KAcJT,EAdIS,QAgBJP,KAAIQ,0PACJR,SAEAA,YAAArE,GVmpCF9C,EAAOoC,KAAKU,GUjpCVqE,QAAIS,gBAAJ5H,GAGAmH,QAAIU,GAAJb,GAGAG,QAAIW,KACJX,GAAIS,KAAJF,MVmpCIK,EAASf,EAASe,OAAOhB,GUjpCzBiB,WACF1K,eAAoB,mBACZ8J,WAAR,MASArL,EAAKkM,GAELd,aAAIe,EAAJ,EANED,IACEE,KAQJhB,cAAA,OACDA,EANDM,WAAA,GVmpCAN,EAAIiB,cAAgB,EU3oCpBjB,EAAIkB,cAAJ,EACAlB,EAAImB,YACJnB,EAAImB,MAAOhB,EAAC,GAAMI,EAAa,EAAbA,KAAPa,IACXpB,EAAIkB,UAAU,QACdtB,SAEAI,EAAIqB,YACJC,cAEFvB,SArBE,GAqBFA,IACDC,EAAAuB,OAAApB,KV6oCGH,EAAIuB,OAAOrB,IAASD,IU3oCxBD,EAAAW,SACEX,EAAI5J,WAEJ,IAAIG,KAAJ,KAzBWqK,GAyBX,mBAAAX,GAAA,qBAAAA,GAAA,mBAAAA,GAAA,qBAAAA,GAAA,cACIzJ,EAAJ7B,EAAAuK,OAAA2B,EAAA,SAAAW,GACIvE,GAAIwE,KAAU3M,EACdH,OAAAiM,GAASI,GAETrM,GAAAC,KAAAkM,EAAA,SAAAU,GADFxB,EAAAQ,YAGER,EAAAe,UAAAS,EAAA,GACDxB,EAAA0B,KAAAF,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,IALHxB,EAAA2B,OAOI3E,EAAIyD,cACRT,EAAAkB,UAAAU,IAAAC,KAGA7B,EAAIvJ,SAAS,IAAIJ,EAAMgH,SAAiByE,KAAAV,GAAA,MACtCtM,UAAM,IAAAyL,EAAAX,KAAA,EAAAkC,KAAAV,GAAA,MACJpE,aADI,UAEJC,GAAGA,CAHP,IAAA8E,MAAAlC,EAAAmC,KAAApC,GVkpCE0B,uBAAsBvB,GUvsCtBC,MAAIuB,CA6DNxB,KAGA,QAAIjJ,GAAeQ,EAAOrB,EAAAwL,GACxBhK,MAAO3C,MADiBwB,SAKxBwI,IAAahK,GAAAmN,MAFN,EACC,IAERnK,oBANwBoF,GAOxBnF,cACAF,IV8oCSqF,GUzoCXpG,SACAnC,GAAAC,KAAI2D,EAAUlC,KAAMmC,MAXX,EACC,KAUV,SAAA0J,GACA3J,EAAIE,QAAS3B,MAAboL,KAED,IAAAzL,GAAA,GAAAJ,OAAAgH,kBV6oCGvI,MACEkI,EAAGA,EACHC,EAAGA,KWj0CHtB,IACFwG,GAAQ,gBADO,wBAEfA,EAFe,mDAGf,IAAArL,GAAA,GAAAV,GAAckB,QACdG,MAAA3C,EACA4C,MD8JOA,+CC7JPC,MAAA,IACAC,OAAA,IACEkH,YAAQ,WACRhH,aAAQ,OAFAC,aAPKoK,EAAArN,GAWf+C,sBAXe,WXo1CNf,GAAKkB,MAAOC,MWp1CN,MAAAA,MAAA,MAAAxB,SAAAyB,OAAApD,EAAAwD,WAAA,UAAAD,WAAA,GAgBf6D,WAAOoB,SAAA,UACL,IAAA/E,GAAA,GAAAlC,OAAgBmC,QACFD,GAAAE,SAAA3B,GACAT,MAAAqC,MAAAC,wBAFEJ,EAAAtC,GAmBpBhC,QAAI0G,GAASgB,EAAb9C,GACAA,OACEtB,KAAU,oBACVqC,QAAU,EACbQ,WAAA,OX8zCGP,KAAQ,QW5zCZrC,GAAS4K,WACPtI,KAAA,SACArD,QACIqF,KAAOyB,UACPxB,qCAMLhC,MAAA,SX0zCGE,IAAO,sGWpzCXC,KAAS,uKACPgC,OACAmG,gBACAlG,KAAA,EACArC,KAAA,cACAwI,SAAA,MACAlG,QAAA,6DACAmG,QAAA,kBAEAC,sBAAA,IAGAvO,GAAA0G,SAAAgB,GACA9C,EAAAoC,KAAAU,GACAT,EAAAN,MAAA,gBAAA/B,GACAqC,EAAAN,MAAA,qBAGA,QAAAwH,GAAA7E,EAAAtJ,GAEA,GAAA4H,GAAA0B,EAAA,GAAAM,OACA/B,EAAAyB,EAAA,GAAAM,OACA9B,GAAA,mBAAAF,IAAA,YAAAC,GACA7H,GAAI6C,UAAO,WAAeiF,GXukD5B,QAAS0G,GAAiB5O,GY/pD1BF,EAAA,QZgDA+O,OAAOC,eAAejP,EAAqB,cAAgBqL,OAAO,GAGlE,IAAI6D,GAAUjP,EAAoB,QAG9BkP,EAAUlP,EAAoB,QAC9BmP,EAA+BnP,EAAoBoP,EAAEF,GAGrDG,EAAYrP,EAAoB,QAChC4B,EAAiC5B,EAAoBoP,EAAEC,GAGvDC,EAActP,EAAoB,QAClCuP,EAA4BvP,EAAoBoP,EAAEE,Ga9DzC/H,EAAM,GAAI0H,GAAA,EbwEnBO,GAJiBxP,EAAoB,QAIpBA,EAAoB,SAQrCyP,GAJsBzP,EAAoB,QAIjCA,EAAoB,SAC7BoF,EAA8BpF,EAAoBoP,EAAEK,GAGpDC,EAAS1P,EAAoB,QAC7B2P,EAA8B3P,EAAoBoP,EAAEM,GcjFpDE,EAAa5P,EAAQ,QdyFQ6P,GctF/BjM,KAAM,gBACNkM,OACE5K,QACEiB,KAAM4J,MACNC,UAAU,GAEZ1P,KACE6F,KAAM4I,SAGV5N,KAXa,WAYX,OACE8O,QAAS,OAGbC,QAhBa,aAiBbC,OAGEjL,QACEkL,QAAS,SAASlL,GAChBmL,KAAKC,gBAEPC,MAAM,IAGVC,SACEC,YADO,SACKC,GAGV,GAAIC,GAAMvL,IAAO,GAAIgJ,OAAQlE,OACzB0G,EAAUF,EAAY,IAAMC,EAE5BE,EAAK,GAAIjB,EAEbpO,OAAM+F,EAAIN,MAAM,WAAY2J,IACzB5O,KAAK,SAACgH,GACL,GAAI1G,GAAMC,SAASC,eAAe,QAAUoO,EAC5CtO,GAAIwO,MAAM9M,MAAQ,QAClB1B,EAAIwO,MAAMC,OAAS,QACnB1P,QAAQC,IAAIgB,GACZd,MAAM,oEAAsEkP,EAAY,OACpF7O,KAAM,SAEPG,KAAK,SAAAb,GAAA,MAAQA,GAAK6P,SAClBhP,KAAK,SAAAb,GACJmB,EAAI6H,UAAY0G,EAAGI,OAAO9P,QAKpCmP,aAzBO,WAyBQ,GAAAY,GAAAb,IACTV,GAAApF,EAAE4G,MAAMd,KAAK/P,MAIjBqP,EAAApF,EAAEtJ,KAAKoP,KAAKnL,OAAQ,SAACsB,GACnB,GAAI4K,GAAM,MACN5K,GAAMP,SACRmL,EAAM,WAGW,UAAf5K,EAAML,KACRwJ,EAAApF,EAAEtJ,KAAKuF,EAAMrF,KAAM,SAACkQ,GAClBH,EAAK5Q,IAAIgR,kBAAkBD,EAASxN,GAAI,aAAcuN,KAGxDF,EAAK5Q,IAAIgR,kBAAkB9K,EAAM3C,GAAI,aAAcuN,QC3E7DH,EAAA,WAA0B,GAAAM,GAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,iBAA4BL,EAAAM,GAAAN,EAAA,gBAAA/K,GAAqC,MAAAkL,GAAA,UAAoBI,IAAAtL,EAAA3C,GAAAkO,OAAoBC,MAAA,GAAAC,OAAA,MAAsBP,EAAA,eAAAA,EAAA,sBAAAA,EAAA,YAA4DtO,OAAOgI,MAAA5E,EAAA,OAAA0L,SAAA,SAAAC,GAA8CZ,EAAAa,KAAA5L,EAAA,SAAA2L,IAA+BE,WAAA,mBAA4B,GAAAd,EAAAe,GAAA,KAAAZ,EAAA,qBAAAH,EAAAe,GAAAf,EAAAgB,GAAA/L,EAAA5C,SAAA2N,EAAAe,GAAA,KAAAZ,EAAA,sBAA4Gc,aAAaC,QAAA,iBAAyBf,EAAA,UAAAH,EAAAe,GAAAf,EAAAgB,GAAA/L,EAAAN,SAAAqL,EAAAe,GAAA,KAAAZ,EAAA,SAAoEc,aAAaE,YAAA,QAAmBX,OAAQY,MAAA,IAAWC,UAAWC,MAAA,SAAAC,GAAyBvB,EAAAd,YAAAjK,EAAA3C,QAA4B6N,EAAA,UAAAH,EAAAe,GAAA,6BAAAf,EAAAe,GAAA,KAAAZ,EAAA,OAAyEE,YAAA,gBAA0BpL,EAAA,IAAAkL,EAAA,OAAwBE,YAAA,MAAAd,MAAAtK,EAAA,MAAoC+K,EAAAwB,KAAAxB,EAAAe,GAAA,KAAAZ,EAAA,OAAiCE,YAAA,YAAsBL,EAAAe,GAAAf,EAAAgB,GAAA/L,EAAAJ,OAAA,KAAAsL,EAAA,QAA6CE,YAAA,cAAsBL,EAAAe,GAAA,KAAAZ,EAAA,OAA0BE,YAAA,cAAAoB,UAAoC7I,UAAAoH,EAAAgB,GAAA/L,EAAAD,SAAgCgL,EAAAe,GAAAf,EAAAgB,GAAA/L,EAAAD,MAAA,iBACrlC0M,KACAC,GAAiBjC,SAAAgC,mBACjBE,EAAA,EdAAC,GAAApT,EAAA,QAOAqT,GAAApT,EAKAqT,GAAAF,GACAvD,EACAsD,GATA,EAWAE,GAPA,kBAEA,MAUAE,GAAAD,GAAA,QDkLIE,GAAgBxT,EAAoB,QACpCyT,GAAqCzT,EAAoBoP,EAAEoE,IgBrM/DE,IACE9P,KAAM,oBACNzC,KAFa,WAGX,OACE2G,QAAS,mFACT6L,KAAM,KACNrT,IAAK,OAGT4P,QATa,WASH,GAAAgB,GAAAb,IACR7O,OAAM6O,KAAKvI,QAAU,cAClB9F,KAAK,SAACgH,GACL,MAAOA,GAAK9G,SAEbF,KAAK,SAAAE,GACJgP,EAAKyC,KAAOzR,EACZ+M,EAAA,EAAI2E,SAAS,WAEXjE,EAAApF,EAAEtJ,KACAiQ,EAAKyC,KACL,SAAC3N,EAAMuD,GAEL,GAAMsK,GAAW,eAAiBtK,EAC5BuK,EAAK5C,EAAK6C,IAAIC,cAAcH,GAC5BI,EAAWH,EAAGG,SAJTC,EAAAT,KAKmBQ,EALnB,GAKJE,EALID,EAAA,GAKGpR,EALHoR,EAAA,GAKWE,EALXF,EAAA,EAMXlO,GAAKhC,MAAQ,IACbgC,EAAK/B,OAAS,IACd+B,EAAKmO,MAAQA,EACbnO,EAAKlD,OAASA,EACdkD,EAAKoO,KAAOA,EACZpO,EAAKqO,OAASvR,EAAOwR,WAAW,MAChCtO,EAAKuO,QAAUH,EAAKE,WAAW,MAG/BtO,EAAKnC,GAAK,qBAAuB0F,CAEjC,IAAI/C,IACF5C,KAAM,UAAY2F,EAClBtD,QAAQ,EACRQ,WAAY,OACZ5C,GAAImC,EAAKnC,GACTsC,KAAM,SACND,KAAM,eACNpD,QACEqD,KAAM,SACNqO,SAAS,EACTC,OAAQzO,EAAKnC,GACbiI,cACG9F,EAAK0O,OAAO,GAAI1O,EAAK0O,OAAO,KAC5B1O,EAAK0O,OAAO,GAAI1O,EAAK0O,OAAO,KAC5B1O,EAAK0O,OAAO,GAAI1O,EAAK0O,OAAO,KAC5B1O,EAAK0O,OAAO,GAAI1O,EAAK0O,OAAO,MAGjCnM,SAEFvC,GAAKQ,MAAQA,EACbnF,QAAQC,IAAI,QAASkF,GACrB0K,EAAKyD,kBAKTzD,EAAKsD,eAMbhE,SACEoE,kBADO,SACWtU,GAChB+P,KAAK/P,IAAMA,EACX+P,KAAKsE,iBAEPH,QALO,WAML7G,sBAAsB0C,KAAKmE,SAC3B7E,EAAApF,EAAEtJ,KAAKoP,KAAKsD,KAAM,SAAC3N,GAEjBA,EAAKqO,OAAOQ,UAAU7O,EAAKmO,MAAO,EAAG,EAAGnO,EAAKhC,MAAqB,EAAdgC,EAAK/B,OAIzD,KAAK,GAFC6Q,GAAW9O,EAAKhC,MAAQgC,EAAK/B,OAC/B8Q,EAAQ/O,EAAKqO,OAAOW,aAAa,EAAG,EAAGhP,EAAKhC,MAAqB,EAAdgC,EAAK/B,QACnDsF,EAAI,EAAGA,EAAIuL,EAASvL,IAAK,CAChC,GAGIgB,IAHIwK,EAAM5T,KAAS,EAAJoI,EAAQ,GACnBwL,EAAM5T,KAAS,EAAJoI,EAAQ,GACnBwL,EAAM5T,KAAS,EAAJoI,EAAQ,GACnBwL,EAAM5T,KAAU,EAAJoI,EAAmB,EAAVuL,GAAe,IAAM,EAAI,IACtDC,GAAM5T,KAAS,EAAJoI,EAAQ,GAAKgB,EAE1BvE,EAAKuO,QAAQU,aAAaF,EAAO,EAAG,MAGxCJ,cAvBO,WAuBS,GAAAO,GAAA7E,IACE,OAAZA,KAAK/P,KAITqP,EAAApF,EAAEtJ,KAAKoP,KAAKsD,KAAM,SAAC3N,GACjBkP,EAAK5U,IAAI0G,SAAShB,EAAKQ,OACvBe,EAAIN,MAAM,YAAajB,EAAKQ,YC1GpC2O,GAAA,WAA0B,GAAA5D,GAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,UAAqBL,EAAAM,GAAAN,EAAA,cAAAvL,EAAA9C,GAAwC,MAAAwO,GAAA,OAAiBK,OAAOlO,GAAA,cAAAX,KAA4BwO,EAAA,SAAcE,YAAA,SAAAG,OAA4B/N,MAAA,IAAAC,OAAA,KAAAmR,IAAA7D,EAAAzJ,QAAA,IAAA9B,EAAAqP,IAAAC,SAAA,GAAAC,KAAA,GAAAC,YAAA,eAAgHjE,EAAAe,GAAA,KAAAZ,EAAA,UAA2BE,YAAA,gBAAAG,OAAmC/N,MAAA,IAAAC,OAAA,QAA2BsN,EAAAe,GAAA,KAAAZ,EAAA,UAA2BE,YAAA,OAAAG,OAA0B/N,MAAA,IAAAC,OAAA,IAAAJ,GAAA,qBAAAX,WACngBuS,MACAC,IAAiBzE,OAAAkE,GAAAlC,gBAAAwC,IACjBE,GAAA,GfAAC,GAAA5V,EAAA,QAOA6V,GAAA1V,EAKA2V,GAAAF,GACAlC,GACAiC,IATA,EAWAE,GAPA,kBAEA,MF2UIE,IEjUJD,GAAA,QFiUa9V,EAAoB,SAC7BgW,GAA8BhW,EAAoBoP,EAAE2G,IkBjVxDE,IlBoVsBjW,EAAoB,QAIvBA,EAAoB,SkBvVrC4D,KAAM,cACNkM,OACEoG,UACE/P,KAAMgQ,QACNvH,SAAS,GAGX8F,QACEvO,KAAM4J,MACNnB,QAFM,WAGJ,GAAI+B,GAAMvL,KAEV,QADWA,IAAO,WAAY,YAChBuL,MAIpBxP,KAjBa,WAkBX,OACEiV,cAAc,EACdC,eAAe,EACfC,aAAa,EAEbC,UAAWlG,KAAKqE,OAAO,GAAGlQ,OAzBb,WA0Bb/D,QAAS4P,KAAKqE,OAAO,GAAGlQ,OA1BX,WA4BbgS,aAAc,GACdC,OAAQ,GAERC,KAAM,KACNnB,MAAM,EACNoB,MAAO,SACPC,OAAQ,OAGZ1G,QAnCa,WAmCH,GAAAgB,GAAAb,IACRpB,GAAA,EAAI2E,SAAS,WACX,GAAIiD,GAAQ3F,EAAK6C,IAAIC,cAAc,eACnCgC,MAAEa,GAAOC,gBACP3Q,KAAM,SACN4Q,eAAe,EACfC,IAAK,EACLC,IAAK,EAEL1R,KAAM,KACN2R,MAAM,EACNC,cAAc,EACdC,SAAU,SAACC,GACTnG,EAAKjK,MAAM,qBAAsBiK,EAAKoG,gBAExCC,SAAU,SAACF,GACTnG,EAAKjK,MAAM,qBAAsBiK,EAAKoG,gBAExCE,SAAU,SAAAH,GAAA,MAAOnG,GAAKuG,WAAWJ,MAEnCnG,EAAK0F,OAASZ,KAAEa,GAAO1V,KAAK,kBAC5B+P,EAAK3L,UAGT4K,OACEuE,OADK,SACE2C,GACDhH,KAAKuG,OAAOc,UAIhBrH,KAAKuG,OAAOe,QACVC,KAAM,EACNC,GAAI,MAKVrH,SACEsH,MADO,WAELzH,KAAKsG,MAAQ,UAEfoB,KAJO,WAKL1H,KAAKqG,KAAOsB,YAAYrH,MACxBN,KAAKsG,MAAQ,WAEfpR,KARO,SAQFoL,GAIH,GAFAhD,sBAAsB0C,KAAK9K,OAEtB8K,KAAKqG,KAER,YADArG,KAAKqG,KAAO/F,EAId,IAAmB,YAAfN,KAAKsG,MAAT,CAIA,GAAMsB,IAAWtH,EAAMN,KAAKqG,MAAM,GAElC,MAAIuB,EAAW,EAAE5H,KAAKoG,QAAtB,CAKA,GAAMyB,GAAOD,EAAU5H,KAAKmG,aAEtBa,GACJO,KAAMjI,EAAApF,EAAE4N,MAAM9H,KAAKuG,OAAOwB,OAAOR,KAAOM,EAAM,EAAG,GACjDL,GAAIlI,EAAApF,EAAE4N,MAAM9H,KAAKuG,OAAOwB,OAAOP,GAAKK,EAAM,EAAG,GAK/C,IAAc,GAAVb,EAAIQ,GAAS,CACf,IAAIxH,KAAKkF,KAKP,MAJA8B,GAAIQ,GAAKR,EAAIQ,GAAKR,EAAIO,KACtBP,EAAIO,KAAO,EAOfvH,KAAKuG,OAAOe,OAAON,GAEnBhH,KAAKqG,KAAO/F,KAEd0H,eAnDO,SAmDSC,GAEd,GAAMC,GAAQnT,IAAOiL,KAAKkG,WACpB1T,EAAMuC,IAAOiL,KAAK5P,SAElB4E,EAAOxC,EAAIwC,KAAKkT,EAEtB,OADaA,GAAMC,QAAQC,IAAIpT,EAAOiT,EAAU,OAGlDb,WA5DO,SA4DKa,GACV,MAAOjI,MAAKgI,eAAeC,GAAU9T,OAvIxB,YAyIfoQ,kBA/DO,SA+DWtU,MAIpBoY,UACEC,YADQ,WAEN,MAAOtI,MAAKgI,eAAehI,KAAKuG,OAAOwB,OAAOP,KAEhDP,cAJQ,WAKN,OACEjH,KAAKgI,eAAehI,KAAKuG,OAAOwB,OAAOR,MACvCvH,KAAKgI,eAAehI,KAAKuG,OAAOwB,OAAOP,MAG3Ce,aAVQ,WAYN,OACE5B,IAAK3G,KAAKqE,OAAO,GAAGlQ,OA1JT,WA2JXyS,IAAK5G,KAAKqE,OAAO,GAAGlQ,OA3JT,gBCPnBqU,GAAA,WAA0B,GAAAtH,GAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,aAAuBE,YAAA,cAAAG,OAAiC1O,MAAA,QAAAyV,SAAA,GAAA9G,MAAA,GAAA+G,KAAA,YAA0DrH,EAAA,OAAYE,YAAA,wBAAkCF,EAAA,SAAcE,YAAA,SAAAG,OAA4B5L,KAAA,OAAAvC,KAAA,SAAAwH,MAAA,QAA0CmG,EAAAe,GAAA,KAAAf,EAAA,SAAAG,EAAA,gBAAkDK,OAAOiH,UAAA,IAAe5V,OAAQgI,MAAAmG,EAAA,MAAAW,SAAA,SAAAC,GAA2CZ,EAAAoF,MAAAxE,GAAcE,WAAA,WAAqBX,EAAA,SAAcK,OAAO3G,MAAA,UAAA6N,KAAA,IAA4BC,IAAKrG,MAAA,SAAAC,GAAyBA,EAAAqG,kBAAyB5H,EAAAwG,KAAAjF,OAAmBpB,EAAA,UAAAH,EAAAe,GAAA,iBAAAf,EAAAe,GAAA,KAAAZ,EAAA,SAA+DK,OAAO3G,MAAA,SAAA6N,KAAA,IAA2BC,IAAKrG,MAAA,SAAAC,GAAyBA,EAAAqG,kBAAyB5H,EAAAuG,MAAAhF,OAAoBpB,EAAA,UAAAH,EAAAe,GAAA,sBAAAf,EAAAwB,KAAAxB,EAAAe,GAAA,KAAAf,EAAA,SAAAG,EAAA,gBAAmGtO,OAAOgI,MAAAmG,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAgE,KAAApD,GAAaE,WAAA,UAAoBX,EAAA,SAAcK,OAAO3G,OAAA,EAAA6N,KAAA,MAAwBvH,EAAA,UAAAH,EAAAe,GAAA,uBAAAf,EAAAwB,KAAAxB,EAAAe,GAAA,KAAAZ,EAAA,SAA8EK,OAAO7L,KAAA,GAAA+S,KAAA,IAAoBC,IAAKrG,MAAA,SAAAC,GAAyBA,EAAAqG,kBAAyB5H,EAAA6E,cAAA,MAA0B1E,EAAA,UAAAH,EAAAe,GAAA,iBAAAf,EAAAe,GAAA,KAAAZ,EAAA,YAAkEK,OAAOqH,YAAA,SAAoBhW,OAAQgI,MAAAmG,EAAA,aAAAW,SAAA,SAAAC,GAAkDZ,EAAA6E,aAAAjE,GAAqBE,WAAA,kBAA4BX,EAAA,UAAAA,EAAA,eAAAA,EAAA,UAA8C2H,IAAA,gBAAAtH,OAA2BuH,KAAA,GAAAC,0BAAA,EAAAC,WAAA,mBAAAC,WAAA,GAAAC,aAAA,GAAAC,eAAApI,EAAAgF,WAAoI2C,IAAKU,qBAAA,SAAA9G,GAAsCvB,EAAAgF,UAAAzD,IAAsB1P,OAAQgI,MAAAmG,EAAA,cAAAW,SAAA,SAAAC,GAAmDZ,EAAA8E,cAAAlE,GAAsBE,WAAA,mBAA6BX,EAAA,gBAAqBK,OAAO8H,KAAA,YAAAC,MAAA,iBAAAC,eAAA,QAAAC,SAAA,IAAiFH,KAAA,YAAAzW,OAAyBgI,MAAAmG,EAAA,UAAAW,SAAA,SAAAC,GAA+CZ,EAAAgF,UAAApE,GAAkBE,WAAA,eAAyBd,EAAAe,GAAA,KAAAZ,EAAA,iBAAkCK,OAAOkI,gBAAA1I,EAAAqH,aAAAsB,WAAA,GAAAC,WAAA,IAA+DC,YAAA7I,EAAA8I,KAAsBvI,IAAA,UAAAwI,GAAA,SAAAjB,GAChlE,GAAAkB,GAAAlB,EAAAkB,KACAC,EAAAnB,EAAAmB,MACA,QAAA9I,EAAA,kBAAAA,EAAA,YAAAH,EAAAe,GAAA,KAAAZ,EAAA,SAAoEK,OAAOkH,KAAA,GAAA5V,MAAA,WAA4B6V,IAAKrG,MAAA2H,KAAgBjJ,EAAAe,GAAA,YAAAf,EAAAe,GAAA,KAAAZ,EAAA,SAA6CK,OAAOkH,KAAA,GAAA5V,MAAA,WAA4B6V,IAAKrG,MAAA0H,KAAchJ,EAAAe,GAAA,iBAAuBlP,OAAUgI,MAAAmG,EAAA,UAAAW,SAAA,SAAAC,GAA+CZ,EAAAgF,UAAApE,GAAkBE,WAAA,gBAAyB,GAAAd,EAAAe,GAAA,KAAAZ,EAAA,UAA+B2H,IAAA,cAAAtH,OAAyBuH,KAAA,GAAAC,0BAAA,EAAAC,WAAA,mBAAAC,WAAA,GAAAC,aAAA,GAAAC,eAAApI,EAAA9Q,SAAkIyY,IAAKU,qBAAA,SAAA9G,GAAsCvB,EAAA9Q,QAAAqS,IAAoB1P,OAAQgI,MAAAmG,EAAA,YAAAW,SAAA,SAAAC,GAAiDZ,EAAA+E,YAAAnE,GAAoBE,WAAA,iBAA2BX,EAAA,gBAAqBK,OAAO8H,KAAA,YAAAC,MAAA,iBAAAC,eAAA,QAAAC,SAAA,IAAiFH,KAAA,YAAAzW,OAAyBgI,MAAAmG,EAAA,QAAAW,SAAA,SAAAC,GAA6CZ,EAAA9Q,QAAA0R,GAAgBE,WAAA,aAAuBd,EAAAe,GAAA,KAAAZ,EAAA,iBAAkCK,OAAOkI,gBAAA1I,EAAAqH,aAAAsB,WAAA,GAAAC,WAAA,IAA+DC,YAAA7I,EAAA8I,KAAsBvI,IAAA,UAAAwI,GAAA,SAAAjB,GACnhC,GAAAkB,GAAAlB,EAAAkB,KACAC,EAAAnB,EAAAmB,MACA,QAAA9I,EAAA,kBAAAA,EAAA,YAAAH,EAAAe,GAAA,KAAAZ,EAAA,SAAoEK,OAAOkH,KAAA,GAAA5V,MAAA,WAA4B6V,IAAKrG,MAAA2H,KAAgBjJ,EAAAe,GAAA,YAAAf,EAAAe,GAAA,KAAAZ,EAAA,SAA6CK,OAAOkH,KAAA,GAAA5V,MAAA,WAA4B6V,IAAKrG,MAAA0H,KAAchJ,EAAAe,GAAA,iBAAuBlP,OAAUgI,MAAAmG,EAAA,QAAAW,SAAA,SAAAC,GAA6CZ,EAAA9Q,QAAA0R,GAAgBE,WAAA,cAAuB,OAAAd,EAAAe,GAAA,KAAAZ,EAAA,kBAAAA,EAAA,SAAuDK,OAAOkH,KAAA,GAAA5V,MAAA,WAA4B6V,IAAKrG,MAAA,SAAAC,GAAyBA,EAAAqG,kBAAyB5H,EAAA6E,cAAA,MAAyB7E,EAAAe,GAAA,4BAC9fmI,MACAC,IAAiBzJ,OAAA4H,GAAA5F,gBAAAwH,IACjBE,GAAA,GhBNAC,GAAA5a,EAAA,QAOA6a,GAAAza,EAKA0a,GAAAF,GACA3E,GACA0E,IATA,EAWAE,GAPA,KAEA,MAUAE,GAAAD,GAAA,QH2hBIE,GAAgBhb,EAAoB,QACpCib,GAAqCjb,EAAoBoP,EAAE4L,II3iBzDvW,GAAa,SAEnBwK,GAAA,EAAIiM,IAAID,GAAA1Q,EACR,IAQIjH,KARO,GAAIkM,IACb2L,wBAAwB,EACxBC,UACEC,aAAa,EACbC,OAAO,MAIG,UAAW,UAAW,UAAW,UAAW,UAAW,UACnE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC7E,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YJ08ChEC,IUz7CEvb,EAAA,QVy7CS,GAAIwP,IoBn5CfjI,wBAAQ,EACNiU,UACDH,aAFD,EAGAC,OAAA,MAIEG,IACD7X,KAFD,MpBu5CFzC,KAAM,WoBn5CJ,OACEb,IAAA,KADFob,QAAA,EAGAC,OAAQ,EACNC,cAAA,EADFnY,QpBu5CIyC,KAAM,eoBn5CVpC,MAAW+X,YAET3W,UACAgH,SAAI4P,OACJC,IAAK,GACHnS,YAAS1E,IAAkB,uBAAAE,OACzB0W,SACDvb,WAGH2P,QAAI4L,WACFpQ,GAAAwF,GAAAb,IAEF9I,GAAAyU,IAAIF,gBAAaG,SAAQ/W,GACvB+E,EAAqBL,QAAY,SAAWtJ,KAE9CiH,EAAAyU,IAAIF,YAAaG,SAAQzV,GACvBnF,SAAAiG,KAAYd,KAEbe,EAAAyU,IAAA,oBAAAE,GACDhL,EAAI4K,WAAaG,KAGjB5b,EAAA2b,IAAA,cAAkBG,SAAU7b,GpBq5C5B2O,EAAyB,EAAEmN,IAAIlL,EAAO,QAASmL,KoBl5C/C9U,EAAAyU,IAAIrR,aAAO,SAAYjI,GACvBuM,EAAkBrF,MAALsH,EAAA,MAA4B3C,EAAzC+N,UAGEjM,KAAA8L,MAAII,WAAS7Z,IAAMQ,qBAAqBM,SAAWgZ,GACnDtL,EAAIqL,WAAWhO,CAA4C,QAAvDuN,MAAuDvS,EAAA,EAAAA,EAAA2H,EAAAhM,OAAAxB,OAAA6F,IACzD7G,EAAMQ,OAAMyH,GAAA1E,QACZvD,EAAYiI,KAAAuG,EAAS9N,OAAMqZ,GAA3B5Y,GpB25CAiY,GAAaG,QAAQ,aAAe,GoBt5C1CvQ,EAAmBwF,EAAAtH,WAAWsH,EAAC3C,MAAUjO,SpBy5CnCwb,EAAaG,QAAQ,YAAc,GoBt5CvChS,EAAAiH,EAAAtH,WAAAsH,EAAAiL,MAAA7b,SpBy5CIwb,EAAaG,QAAQ,aAAe,IoBt5CxC5a,QAASC,IAAA,SACTmN,EAAmB0N,EAAM7b,WAAS4Q,EAAKhM,MAAvC5E,UAEAwb,EAAYG,QAAW3b,WAAS,GAChC2E,EAAAiM,EAAAiL,MAAA7b,QAAA4Q,EAAAhM,OAAAgM,EAAAtH,WAAA,GAAAsH,EAAAtH,WAAA,IAEAvJ,EAAQ6Q,EAAAiL,MAAe7b,IAAKA,IAAA4Q,EAAKhM,MAAjCgM,EAAAtH,WAAA,GAAAsH,EAAAtH,WAAA,uBAME,QAHFe,GAASuO,IAAgBxW,MAAAQ,OACvBgF,EAAqCwU,IAArCxL,EAAe5Q,WAAIqc,GAAnBzS,OACA/B,EAAwByU,IAApBC,EAAWjT,WAASgT,UACpBrT,EAAOsT,MAAPnZ,OAAuB6F,IAAA,CACzB7G,MAAepC,MAAIqc,MAAY7L,MAAM4L,WAASF,UAC/Clc,IAAA,SAAA+I,GALH,MAAAA,GAAAlD,OAOA8V,QAAW3b,gBAAW,IAEpBoC,MAAIxB,MAASN,MAAQic,MAARJ,QAAiB7b,MAAQic,EACtCna,MAAIL,MAASsI,EAAApB,IAAAnG,MAAAqZ,QAAevb,IAA5BiH,MAKDkI,KARD8L,MAAA7b,IAAA0b,IAAA,mBAAAzN,GpBg6CAhH,EAAIN,MAAM,aAAcsH,GoBl5CtB2C,EAAI4L,cAAcC,WAAlBxB,IAEA1P,EAAIqF,EAAAiL,MAASa,IAAS1c,IAAA4Q,EAASzK,QAC7BwW,EAAIC,EAAQf,MAAKjX,IAAOa,IAAKmL,EAAAhM,QAAAuE,EAAAyH,EAAQlL,MAAA1F,IAAYA,IAApB4Q,EAAAhM,QAAAiY,EAA7BjM,EAAAiL,MAAA7b,QAAA4Q,EAAAhM,QAEAwC,EAAI0V,QAAUF,IAAMpa,IAANoO,EAAapF,QAC3B7D,EAAIoV,QAAUH,IAAMpa,MAAOgJ,QAC3B7G,EAAIqY,EAAUJ,MAAMpa,QAAOgJ,UAGzBoF,EAAA5Q,IAAIsL,eAAJ,SAAA2R,GACArM,EAAAiL,MAAIqB,QAAUb,YAAA7L,MAAiB4L,OAAA,OAE7B,KADKc,EAAQld,IAAAsc,sBAAOW,EAAA3U,OACTtB,KACXsE,QAAAtL,IAASA,IAAAqc,YAAT7L,MAAA4L,OAAA,aAGF/Q,EAAAwQ,MAAA7b,QAAcsL,GAAd,yBACD,GAAAhL,GAAA2a,GAAAkC,SACFvc,EAAAN,EAAAic,SAAAjc,EAAAic,SAAAnZ,OAAA,GAAAga,SpBu5CGrb,EAAST,IAAoBV,EoBn5CjCgQ,GAAA3Q,MAAA+G,KAAApG,GACAgQ,EAAI2L,WAAWxa,GACfrB,EAAEC,MAAK4b,cAAU3L,EAACtI,OAChBvI,EAAUmG,EAAM3C,MAAMvD,QAAtB4Q,EAAkC3Q,MAAA2Q,EAAAtH,WAAA,GAAAsH,EAAAtH,WAAA,0BAGhCrC,EAAAjH,IAAI2G,WAAM,SAAesW,GACzB,GAAAI,GAAAJ,EAAAR,OAAAa,IAJFd,EAKWlU,SAAY/E,GAErB,gBAAAqN,EAAKmL,aAAWha,SAAhBoE,WAAA,CACAc,GAAA2V,GAAUhM,EAAAhM,OAAVa,KAAyB,SAAzBC,GACA,MAAgB4C,UAAhB5C,EAAAnC,KAEAga,EAAAX,EAAApa,OAAAgJ,YAAA,MACAsR,EAAII,EAAU5U,OAAMC,YAAN,GAA0B,GACtC5H,EAAKuc,EAAQ1a,OAACgb,YAAM,MACpBR,EAAKjB,EAALvZ,OAAAgJ,YAAA,KACAF,OAASwR,GAATN,GAAAQ,GAAAK,GAAAE,GAAAf,GAAAO,EAAA,CACA9V,GAAAqE,MAHF4R,GAAA,kCAKAxc,GAAAC,KAAAuc,EAAa5U,SAAbkV,GACD5M,EAAAmL,MAAA/U,KAAAwW,GApBHlS,EAAAtE,KAAA,QAAAwW,GA3BFvW,EAAAN,MAAA,cAAAiK,EAAAmL,SA9GS1Q,EAAAC,IAsKT,GAAKyQ,GAALnL,EAAA5Q,IAAAsc,sBAAAW,EAAA3U,MACA5H,GAAIiG,KAAJ4V,EAAU,SAAejU,GAC1B,eAAAA,EAAApC,MAAA3C,GAAA,CAxKU,GAAAxB,GAAAuG,EAAAC,WAAAhF,EA0Kbka,GAAY1B,MAAA/U,KAAAjF,GACVkF,EAAAN,MAAiB,cAAAiK,EAAAmL,WADP,eAAAzT,EAAApC,MAAA3C,GAAA,CpBw5CF,GAAIxB,GAAS,YAAcuG,EAAMC,WAAWuB,eAAiB,IAAMxB,EAAMC,WAAWwB,WACpF6G,GAAMmL,MAAM/U,KAAKjF,GqB3nD7BkF,EAAAN,MAAA,cAA0BiK,EAAamL,OACvCvS,EAAAlB,EAAA,QAAAvG,OACA,IAAiB,QAAAuG,EAAApC,MAAA3C,GAAA,CACjB,GAAA+H,MrB6nDgB4R,GAAU5U,EAAMC,WAAWC,OAAS,YAAaF,EAAMC,WAAWC,OAAS,YsBhoD3F9H,GAAAC,KAAAuc,EAAA,SAAAM,GACA5M,EAAAmL,MAAA/U,KAAgTwW,GAChTlS,EAAAtE,KAAA,QAAAwW,GACAvW,EAAAN,MAAA,cAAAiK,EAAAmL,SAEA1T,EAAAC,EAAAgD,WAOA4E,SACAwN,WAAA,SAAAT,GACA,GAAAra,GAAAmN,KAAAgM,MAAAJ,QAAAsB,EACAlN,MAAAgM,MAAA4B,OAAA/a,EAAA,GACAqE,EAAAN,MAAA,cAAAoJ,KAAAgM,SAGA0B,YACAG,gBAAA3K,GACA4K,cAAApD,KtBqoDIqD,GAAa,WAAa,GAAI7M,GAAIlB,KAASmB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAAG,OAAOE,GAAG,SAASA,EAAG,uBAAuBK,OAAO4J,MAAQ,GAAGF,IAAM,IAAIrY,OAAOgI,MAAOmG,EAAU,OAAEW,SAAS,SAAUC,GAAMZ,EAAImK,OAAOvJ,GAAKE,WAAW,YAAYX,EAAG,aAAaK,OAAOkH,KAAO,MAAMvH,EAAG,UAAUA,EAAG,eAAeA,EAAG,qBAAqBE,YAAY,UAAUL,EAAIe,GAAG,2CAA2C,IAAI,IAAI,GAAGf,EAAIe,GAAG,KAAKZ,EAAG,iBAAiBK,OAAO7M,OAASqM,EAAIrM,OAAO5E,IAAMiR,EAAIjR,QAAQ,GAAGiR,EAAIe,GAAG,KAAKZ,EAAG,aAAaK,OAAOsM,MAAQ,GAAG5C,IAAM,GAAG6C,QAAU,GAAG3C,MAAQ,MAAMjK,EAAG,mBAAmBE,YAAY,cAAcF,EAAG,uBAAuBwH,IAAIrG,MAAQ,SAASC,GAAQA,EAAOqG,kBAAkB5H,EAAImK,QAAUnK,EAAImK,WAAWnK,EAAIe,GAAG,qCAAqC,GAAGf,EAAIe,GAAG,KAAKZ,EAAG,eAAe2H,IAAI,aAAatH,OAAOwM,aAAY,KAAShN,EAAIe,GAAG,KAAKZ,EAAG,YAAYH,EAAIe,GAAG,KAAKZ,EAAG,YAAYK,OAAO/N,MAAQ,UAAU0N,EAAG,KAAKE,YAAY,4BAA4BG,OAAO7L,KAAO,GAAGsY,MAAQ,GAAGC,KAAO,gCAAgCnC,OAAS,YAAY5K,EAAG,OAAOK,OAAOqD,IAAM,iCAAiCsJ,IAAM,cAAcnN,EAAIe,GAAG,KAAKZ,EAAG,YAAYK,OAAO4M,KAAO,UAAUjN,EAAG,KAAKE,YAAY,4BAA4BG,OAAO7L,KAAO,GAAGsY,MAAQ,GAAGC,KAAO,uBAAuBnC,OAAS,YAAY5K,EAAG,OAAOK,OAAOqD,IAAM,yBAAyBsJ,IAAM,cAAcnN,EAAIe,GAAG,KAAKZ,EAAG,YAAYK,OAAO4M,KAAO,UAAUjN,EAAG,KAAKE,YAAY,4BAA4BG,OAAO7L,KAAO,GAAGsY,MAAQ,GAAGC,KAAO,gDAAgDnC,OAAS,YAAY5K,EAAG,OAAOK,OAAOqD,IAAM,6BAA6BsJ,IAAM,cAAcnN,EAAIe,GAAG,KAAKZ,EAAG,KAAKK,OAAO0M,KAAO,wEAAwEnC,OAAS,UAAU/K,EAAIe,GAAG,cAAc,GAAGf,EAAIe,GAAG,KAAKZ,EAAG,aAAaA,EAAG,eAAeK,OAAO6M,MAAQ,GAAGC,cAAc,MAAMnN,EAAG,YAAYK,OAAO6M,MAAQ,GAAGE,IAAM,GAAGC,KAAO,GAAGC,wBAAwB,MAAMtN,EAAG,UAAUK,OAAOkN,KAAO,GAAGC,OAAO,MAAMxN,EAAG,UAAUK,OAAOlO,GAAK,SAAS6N,EAAG,eAAeA,EAAG,YAAY2H,IAAI,MAAMtH,OAAOoN,eAAe,mEAAmEC,YAAY,+CAA+CC,QAAU,MAAO,OAAQC,KAAO,KAAKC,MAAQ,EAAKC,SAAW,EAAEC,WAAW,EAAE5b,GAAK,SAAS6N,EAAG,UAAUK,OAAOlO,GAAK,kBAAkBG,MAAQ,MAAMC,OAAS,YAAY,IAAI,IAAI,GAAGsN,EAAIe,GAAG,KAAKf,EAAIM,GAAIN,EAAS,MAAE,SAASpO,GAAM,MAAOuO,GAAG,UAAUI,IAAI3O,EAAKyO,YAAY,YAAYG,OAAOlO,GAAK,QAASV,KAAQuO,EAAG,kBAAkBA,EAAG,SAASK,OAAOkH,KAAO,GAAG/S,KAAO,IAAIgT,IAAIrG,MAAQ,SAASC,GAAQvB,EAAIyM,WAAW7a,EAAM2P,OAAYpB,EAAG,UAAUH,EAAIe,GAAG,YAAY,IAAI,GAAGf,EAAIe,GAAG,KAAKZ,EAAG,eAAeA,EAAG,OAAOE,YAAY,yBAAyBG,OAAOlO,GAAK,QAASV,QAAW,MAAM,IAAI,IAAI,IAAI,IAC1yFuc,MACAC,IAAkB1O,OAAQmN,GAAYnL,gBAAiByM,IAC1BE,GAAM,GY3pDvCC,GAAA7f,EAAA,QAOA8f,GAAAhR,EZqqDIiR,GAAgBF,GY/pDpBpE,GACAmE,IZupDsC,EYrpDpCI,GAPF,KAEWC,MZ0qDsBC,GAAWH,GAAqB,OAG/C/f,GAAoB,OAYtCiP,GAAyB,EAAEiM,IAAID,GAAsB1Q,GACrD0E,EAAyB,EAAEiM,IAAI/L,EAAgB5E,GuBrsD/C0E,EAAA,EAAAkR,OAAAF,eAAA,EAGA,GAAAhR,GAAA,GACA6E,GAAA,OACAkM,SAAA,SACAjC,YAAA6B,IAAAM,OAKAE,KACA,SAAA7gB,EAAAC,KAMA6gB,KACA,SAAA9gB,EAAAC,KAMA8gB,KACA,SAAA/gB,EAAAC,EAAAQ,GvB27DA,QAASugB,GAAeC,GACvB,MAAOxgB,GAAoBygB,EAAsBD,IAElD,QAASC,GAAsBD,GAC9B,GAAI3c,GAAKvD,EAAIkgB,EACb,MAAK3c,EAAK,GACT,KAAM,IAAI6c,OAAM,uBAAyBF,EAAM,KAChD,OAAO3c,GuBh8DR,GAAAvD,IACAqgB,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OACAC,eAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,QAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,QAAA,OACAC,WAAA,OACAC,QAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,WAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,YAAA,OvB0sDCC,eAAgB,OAChBC,UAAW,OACXC,OAAQ,OACRC,UAAW,OACXC,aAAc,OACdC,gBAAiB,OACjBC,OAAQ,OACRC,UAAW,OACXC,UAAW,OACXC,aAAc,OACdC,UAAW,OACXC,aAAc,OACdC,UAAW,OACXC,aAAc,OAWfjP,GAAe5V,KAAO,WACrB,MAAOoE,QAAOpE,KAAKrK,IAEpBigB,EAAekP,QAAUhP,EACzBlhB,EAAOC,QAAU+gB,EACjBA,EAAe1c,GAAK,UAIjB","file":"static/js/app.7cb3deea3cddf7faba36.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"4u12\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"5W1q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"5h6Y\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"7zck\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"GkQf\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"HNnx\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/dist/vuetify.js\nvar vuetify = __webpack_require__(\"3EgV\");\nvar vuetify_default = /*#__PURE__*/__webpack_require__.n(vuetify);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"mvHQ\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/keys.js\nvar object_keys = __webpack_require__(\"fZjL\");\nvar keys_default = /*#__PURE__*/__webpack_require__.n(object_keys);\n\n// CONCATENATED MODULE: ./src/event-bus.js\n\nvar bus = new vue_esm[\"a\" /* default */]();\n// EXTERNAL MODULE: ./node_modules/material-design-icons/iconfont/material-icons.css\nvar material_icons = __webpack_require__(\"uTBe\");\nvar material_icons_default = /*#__PURE__*/__webpack_require__.n(material_icons);\n\n// EXTERNAL MODULE: ./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js\nvar mapbox_gl_draw = __webpack_require__(\"uZ0T\");\nvar mapbox_gl_draw_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl_draw);\n\n// EXTERNAL MODULE: ./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css\nvar dist_mapbox_gl_draw = __webpack_require__(\"5h6Y\");\nvar dist_mapbox_gl_draw_default = /*#__PURE__*/__webpack_require__.n(dist_mapbox_gl_draw);\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"PJh5\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"M4fF\");\nvar lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/components/layer-control.js\n\n\n\nvar Remarkable = __webpack_require__(\"OVoi\");\n\n/* harmony default export */ var layer_control = ({\n  name: 'layer-control',\n  props: {\n    layers: {\n      type: Array,\n      required: true\n    },\n    map: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      btnInfo: null\n    };\n  },\n  mounted: function mounted() {},\n\n  watch: {\n    // Watch \"layers\". This is a switch, which can toggle a layer on or off\n    // When toggled, this watcher will activate the toggleLayers function.\n    layers: {\n      handler: function handler(layers) {\n        this.toggleLayers();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    addInfoCard: function addInfoCard(layerName) {\n\n      // make unique ID\n      var now = moment_default()(new Date()).unix();\n      var layerID = layerName + \"_\" + now;\n\n      var md = new Remarkable();\n      // launch a vcard with wiki info\n      fetch(bus.$emit('add-card', layerID)).then(function (resp) {\n        var div = document.getElementById(\"plot_\" + layerID);\n        div.style.width = \"500px\";\n        div.style.heigth = \"300px\";\n        console.log(div);\n        fetch('http://raw.githubusercontent.com/wiki/openearth/sandmotor-viewer/' + layerName + '.md', {\n          mode: 'cors'\n        }).then(function (data) {\n          return data.text();\n        }).then(function (data) {\n          div.innerHTML = md.render(data);\n        });\n      });\n    },\n    toggleLayers: function toggleLayers() {\n      var _this = this;\n\n      if (lodash_default.a.isNil(this.map)) {\n        return;\n      }\n      // Function to toggle the visibility of the layers.\n      lodash_default.a.each(this.layers, function (layer) {\n        var vis = \"none\";\n        if (layer.active) {\n          vis = \"visible\";\n        }\n\n        if (layer.type === 'group') {\n          lodash_default.a.each(layer.data, function (sublayer) {\n            _this.map.setLayoutProperty(sublayer.id, \"visibility\", vis);\n          });\n        } else {\n          _this.map.setLayoutProperty(layer.id, \"visibility\", vis);\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc2eac4e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LayerControl.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-control\"},_vm._l((_vm.layers),function(layer){return _c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(layer.name))]),_vm._v(\" \"),_c('v-list-tile-action',{staticStyle:{\"display\":\"-webkit-box\"}},[_c('v-icon',[_vm._v(_vm._s(layer.icon))]),_vm._v(\" \"),_c('v-btn',{staticStyle:{\"min-width\":\"30px\"},attrs:{\"small\":\"\"},nativeOn:{\"click\":function($event){_vm.addInfoCard(layer.id)}}},[_c('v-icon',[_vm._v(\"fa-question\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var LayerControl = (esExports);\n// CONCATENATED MODULE: ./src/components/LayerControl.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"4u12\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc2eac4e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  layer_control,\n  LayerControl,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_LayerControl = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(\"d7EF\");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/components/morphology-canvas.js\n\n\n\n\n\n/* harmony default export */ var morphology_canvas = ({\n  name: 'morphology-canvas',\n  data: function data() {\n    return {\n      baseUrl: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/morphology/jetski',\n      meta: null,\n      map: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    fetch(this.baseUrl + '/meta.json').then(function (resp) {\n      return resp.json();\n    }).then(function (json) {\n      _this.meta = json;\n      vue_esm[\"a\" /* default */].nextTick(function () {\n        // after we render everything lookup all elements\n        lodash_default.a.each(_this.meta, function (item, i) {\n\n          var selector = '#morphology-' + i;\n          var el = _this.$el.querySelector(selector);\n          var children = el.children;\n\n          var _children = slicedToArray_default()(children, 3),\n              video = _children[0],\n              source = _children[1],\n              dest = _children[2];\n\n          item.width = 500;\n          item.height = 625;\n          item.video = video;\n          item.source = source;\n          item.dest = dest;\n          item.ctxSrc = source.getContext('2d');\n          item.ctxDest = dest.getContext('2d');\n\n          item.id = 'morphology-canvas-' + i;\n\n          var layer = {\n            name: \"Jetski-\" + i,\n            active: false,\n            visibility: \"none\",\n            id: item.id,\n            type: 'raster',\n            icon: 'filter_drama',\n            source: {\n              type: 'canvas',\n              animate: true,\n              canvas: item.id,\n              coordinates: [[item.extent[0], item.extent[1]], [item.extent[2], item.extent[1]], [item.extent[2], item.extent[3]], [item.extent[0], item.extent[3]]]\n            },\n            paint: {}\n          };\n          item.layer = layer;\n          console.log('layer', layer);\n          _this.publishLayers();\n        });\n        _this.animate();\n      });\n    });\n  },\n\n  methods: {\n    deferredMountedTo: function deferredMountedTo(map) {\n      this.map = map;\n      this.publishLayers();\n    },\n    animate: function animate() {\n      requestAnimationFrame(this.animate);\n      lodash_default.a.each(this.meta, function (item) {\n        // render to canvas\n        item.ctxSrc.drawImage(item.video, 0, 0, item.width, item.height * 2);\n        // get frame into memory\n        var nPixels = item.width * item.height;\n        var frame = item.ctxSrc.getImageData(0, 0, item.width, item.height * 2);\n        for (var i = 0; i < nPixels; i++) {\n          var r = frame.data[i * 4 + 0];\n          var g = frame.data[i * 4 + 1];\n          var b = frame.data[i * 4 + 2];\n          var a = frame.data[i * 4 + nPixels * 4] > 100 ? 0 : 255;\n          frame.data[i * 4 + 3] = a;\n        };\n        item.ctxDest.putImageData(frame, 0, 0);\n      });\n    },\n    publishLayers: function publishLayers() {\n      var _this2 = this;\n\n      if (this.map == null) {\n        // map is not set yet\n        return;\n      }\n      lodash_default.a.each(this.meta, function (item) {\n        _this2.map.addLayer(item.layer);\n        bus.$emit('add-layer', item.layer);\n      });\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d430a7e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MorphologyCanvas.vue\nvar MorphologyCanvas_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"},_vm._l((_vm.meta),function(item,index){return _c('div',{attrs:{\"id\":'morphology-' + index}},[_c('video',{staticClass:\"hidden\",attrs:{\"width\":500,\"height\":1250,\"src\":_vm.baseUrl + '/' + item.mp4,\"autoplay\":\"\",\"loop\":\"\",\"crossorigin\":\"anonymous\"}}),_vm._v(\" \"),_c('canvas',{staticClass:\"source hidden\",attrs:{\"width\":500,\"height\":1250}}),_vm._v(\" \"),_c('canvas',{staticClass:\"dest\",attrs:{\"width\":500,\"height\":625,\"id\":'morphology-canvas-' + index}})])}))}\nvar MorphologyCanvas_staticRenderFns = []\nvar MorphologyCanvas_esExports = { render: MorphologyCanvas_render, staticRenderFns: MorphologyCanvas_staticRenderFns }\n/* harmony default export */ var MorphologyCanvas = (MorphologyCanvas_esExports);\n// CONCATENATED MODULE: ./src/components/MorphologyCanvas.vue\nfunction MorphologyCanvas_injectStyle (ssrContext) {\n  __webpack_require__(\"GkQf\")\n}\nvar MorphologyCanvas_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar MorphologyCanvas___vue_template_functional__ = false\n/* styles */\nvar MorphologyCanvas___vue_styles__ = MorphologyCanvas_injectStyle\n/* scopeId */\nvar MorphologyCanvas___vue_scopeId__ = \"data-v-5d430a7e\"\n/* moduleIdentifier (server only) */\nvar MorphologyCanvas___vue_module_identifier__ = null\nvar MorphologyCanvas_Component = MorphologyCanvas_normalizeComponent(\n  morphology_canvas,\n  MorphologyCanvas,\n  MorphologyCanvas___vue_template_functional__,\n  MorphologyCanvas___vue_styles__,\n  MorphologyCanvas___vue_scopeId__,\n  MorphologyCanvas___vue_module_identifier__\n)\n\n/* harmony default export */ var components_MorphologyCanvas = (MorphologyCanvas_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(\"7t+N\");\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/ion-rangeslider/js/ion.rangeSlider.js\nvar ion_rangeSlider = __webpack_require__(\"w+/p\");\nvar ion_rangeSlider_default = /*#__PURE__*/__webpack_require__.n(ion_rangeSlider);\n\n// EXTERNAL MODULE: ./node_modules/font-awesome/css/font-awesome.css\nvar font_awesome = __webpack_require__(\"5W1q\");\nvar font_awesome_default = /*#__PURE__*/__webpack_require__.n(font_awesome);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/components/time-slider.js\n\n\n\n\n\n\n\nvar DAY_FORMAT = 'Y-MM-DD';\n\n/* harmony default export */ var time_slider = ({\n  name: \"time-slider\",\n  props: {\n    showPlay: {\n      type: Boolean,\n      default: true\n    },\n    // the maximum extent for this slider\n    extent: {\n      type: Array,\n      default: function _default() {\n        var now = moment_default()();\n        var then = moment_default()(\"20110301\", \"YYYYMMDD\");\n        return [then, now];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      configDialog: false,\n      startDateMenu: false,\n      endDateMenu: false,\n      // by default use the full extent\n      startDate: this.extent[0].format(DAY_FORMAT),\n      endDate: this.extent[1].format(DAY_FORMAT),\n      // duration of a loop\n      loopDuration: 20,\n      maxFps: 10,\n      // last timestep (for syncing rate)\n      last: null,\n      loop: true,\n      state: 'paused',\n      slider: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    vue_esm[\"a\" /* default */].nextTick(function () {\n      var input = _this.$el.querySelector(\"input.slider\");\n      jquery_default()(input).ionRangeSlider({\n        type: \"double\",\n        drag_interval: true,\n        min: 0,\n        max: 1,\n        // not sure how to avoid steps, now use 1000 steps\n        step: 0.001,\n        grid: false,\n        hide_min_max: true,\n        onFinish: function onFinish(val) {\n          _this.$emit('time-extent-update', _this.currentExtent);\n        },\n        onUpdate: function onUpdate(val) {\n          _this.$emit('time-extent-update', _this.currentExtent);\n        },\n        prettify: function prettify(val) {\n          return _this.dateFormat(val);\n        }\n      });\n      _this.slider = jquery_default()(input).data(\"ionRangeSlider\");\n      _this.step();\n    });\n  },\n\n  watch: {\n    extent: function extent(val) {\n      if (this.slider.dragging) {\n        return;\n      }\n      // always slide from 0 to 1\n      this.slider.update({\n        from: 0,\n        to: 1\n      });\n    }\n  },\n  methods: {\n    pause: function pause() {\n      this.state = 'paused';\n    },\n    play: function play() {\n      this.last = performance.now();\n      this.state = 'playing';\n    },\n    step: function step(now) {\n      // request the next step (yes you can call this function now, does not matter)\n      requestAnimationFrame(this.step);\n      // first update, when this.last is still null, set value and return\n      if (!this.last) {\n        this.last = now;\n        return;\n      }\n      // now we can just return if we are not playing (will result in a regular poll for playing)\n      if (this.state !== 'playing') {\n        return;\n      }\n      // elapsed time in seconds\n      var elapsed = (now - this.last) / 1000;\n      // seconds per frame did not elapse, we're done\n      if (elapsed < 1 / this.maxFps) {\n        // this keeps the number of events low (otherwise you get 60 events per second)\n        return;\n      }\n      // elapsed fraction\n      var frac = elapsed / this.loopDuration;\n      // update with fraction\n      var val = {\n        from: lodash_default.a.clamp(this.slider.result.from + frac, 0, 1),\n        to: lodash_default.a.clamp(this.slider.result.to + frac, 0, 1)\n        // TODO: google earth uses a smarter loop,\n        // it keeps track of the diff somehow\n        // we reached the end, loop\n      };if (val.to == 1) {\n        if (this.loop) {\n          val.to = val.to - val.from;\n          val.from = 0;\n        } else {\n          // stop updating\n          return;\n        }\n      }\n      // apply it to the slider (fires update event)\n      this.slider.update(val);\n      // remember current time\n      this.last = now;\n    },\n    dateByFraction: function dateByFraction(fraction) {\n      // miliseconds diff\n      var start = moment_default()(this.startDate);\n      var end = moment_default()(this.endDate);\n      // positive number of miliseconds\n      var diff = end.diff(start);\n      var time = start.clone().add(diff * fraction, 'ms');\n      return time;\n    },\n    dateFormat: function dateFormat(fraction) {\n      return this.dateByFraction(fraction).format(DAY_FORMAT);\n    },\n    deferredMountedTo: function deferredMountedTo(map) {\n      // Used when nested in a Leaflet or Mapbox\n    }\n  },\n  computed: {\n    currentTime: function currentTime() {\n      return this.dateByFraction(this.slider.result.to);\n    },\n    currentExtent: function currentExtent() {\n      return [this.dateByFraction(this.slider.result.from), this.dateByFraction(this.slider.result.to)];\n    },\n    allowedDates: function allowedDates() {\n      // return allowed dates, based on extent\n      return {\n        min: this.extent[0].format(DAY_FORMAT),\n        max: this.extent[1].format(DAY_FORMAT)\n      };\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-674f5e0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TimeSlider.vue\nvar TimeSlider_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"time-slider\",attrs:{\"color\":\"white\",\"floating\":\"\",\"dense\":\"\",\"role\":\"slider\"}},[_c('div',{staticClass:\"time-slider-wrapper\"},[_c('input',{staticClass:\"slider\",attrs:{\"type\":\"text\",\"name\":\"slider\",\"value\":\"\"}})]),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}},[_c('v-btn',{attrs:{\"value\":\"playing\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.play($event)}}},[_c('v-icon',[_vm._v(\"fa-play\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"value\":\"paused\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.pause($event)}}},[_c('v-icon',[_vm._v(\"fa-pause\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{model:{value:(_vm.loop),callback:function ($$v) {_vm.loop=$$v},expression:\"loop\"}},[_c('v-btn',{attrs:{\"value\":true,\"flat\":\"\"}},[_c('v-icon',[_vm._v(\"fa-repeat\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog = true}}},[_c('v-icon',[_vm._v(\"fa-gear\")])],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.configDialog),callback:function ($$v) {_vm.configDialog=$$v},expression:\"configDialog\"}},[_c('v-card',[_c('v-card-text',[_c('v-menu',{ref:\"startDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.startDate},on:{\"update:returnValue\":function($event){_vm.startDate=$event}},model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_vm._v(\" \"),_c('v-menu',{ref:\"endDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.endDate},on:{\"update:returnValue\":function($event){_vm.endDate=$event}},model:{value:(_vm.endDateMenu),callback:function ($$v) {_vm.endDateMenu=$$v},expression:\"endDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog=false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar TimeSlider_staticRenderFns = []\nvar TimeSlider_esExports = { render: TimeSlider_render, staticRenderFns: TimeSlider_staticRenderFns }\n/* harmony default export */ var TimeSlider = (TimeSlider_esExports);\n// CONCATENATED MODULE: ./src/components/TimeSlider.vue\nfunction TimeSlider_injectStyle (ssrContext) {\n  __webpack_require__(\"k7bT\")\n}\nvar TimeSlider_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar TimeSlider___vue_template_functional__ = false\n/* styles */\nvar TimeSlider___vue_styles__ = TimeSlider_injectStyle\n/* scopeId */\nvar TimeSlider___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TimeSlider___vue_module_identifier__ = null\nvar TimeSlider_Component = TimeSlider_normalizeComponent(\n  time_slider,\n  TimeSlider,\n  TimeSlider___vue_template_functional__,\n  TimeSlider___vue_styles__,\n  TimeSlider___vue_scopeId__,\n  TimeSlider___vue_module_identifier__\n)\n\n/* harmony default export */ var components_TimeSlider = (TimeSlider_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue2mapbox-gl/dist/vue2mapbox-gl.js\nvar vue2mapbox_gl = __webpack_require__(\"5BM0\");\nvar vue2mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(vue2mapbox_gl);\n\n// CONCATENATED MODULE: ./src/components/map-draw.js\n\n\n\n\n\n\n\n\nvar map_draw_DAY_FORMAT = 'Y-MM-DD';\n\nvue_esm[\"a\" /* default */].use(vue2mapbox_gl_default.a);\nvar draw = new mapbox_gl_draw({\n  displayControlsDefault: false,\n  controls: {\n    line_string: true,\n    trash: true\n  }\n});\n\nvar map_draw_colors = ['#ffffff', '#e6e6ff', '#ccccff', '#b3b3ff', '#9999ff', '#8080ff', '#6666ff', '#4d4dff', '#3333ff', '#1a1aff', '#0000ff', '#0000e6', '#0000cc', '#0000b3', '#000099', '#000080', '#000066', '#00004d', '#000033', '#00001a', '#000000'];\nvar draws = [];\n\nfunction DrawControls(map, draws, beginDate, endDate, dataset) {\n  var profile = download_raster_profile(draws, dataset, 20, beginDate, endDate);\n}\n\nfunction download_raster_profile(regions, dataset, scale, begin_date, end_date) {\n  _.each(regions, function (region) {\n    var SERVER_URL = 'http://hydro-engine.appspot.com';\n    // var SERVER_URL = 'http://localhost:8080'\n    var data = {\n      'polyline': region,\n      \"dataset\": dataset,\n      \"begin_date\": begin_date,\n      \"end_date\": end_date,\n      'scale': scale\n    };\n    console.log(data);\n    var myHeaders = new Headers();\n    var profile = fetch(SERVER_URL + '/get_raster_profile', {\n      method: \"POST\",\n      body: stringify_default()(data),\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (profile_data) {\n      bokehplot(profile_data, data, stringify_default()(region));\n      return profile_data;\n    });\n    return profile;\n  });\n};\n\nfunction bokehplot(profile_data, data, div_id) {\n  console.log(div_id);\n  var div = document.getElementById(\"plot_\" + div_id);\n\n  // div.innerHTML = \"\"; // clear div\n  // console.log('profile_data', JSON.stringify(profile_data), profile_data.type)\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  var begin = data.begin_date;\n  var end = data.end_date;\n  var source = new Bokeh.GeoJSONDataSource({\n    geojson: stringify_default()(profile_data)\n  });\n\n  if (Bokeh.index[div_id] != undefined) {\n    var plot = Bokeh.index[div_id].model;\n\n    var color = map_draw_colors[Bokeh.index[div_id].model._legend.attributes.items.length];\n  } else {\n    var plot = new plt.figure({\n      name: div_id,\n      id: div_id,\n      title: data.dataset,\n      tools: tools,\n      width: 800,\n      height: 350,\n      background_fill_color: \"#F2F2F7\",\n      x_axis_label: 'Distance w.r.t. first coordinate [m]',\n      y_axis_label: 'Elevation [m, NAP]'\n    });\n    var color = map_draw_colors[0];\n  }\n\n  plot.line({\n    field: \"distance\"\n  }, {\n    field: \"b1_mean\"\n  }, {\n    source: source,\n    legend: begin.format(map_draw_DAY_FORMAT) + ' to ' + end.format(map_draw_DAY_FORMAT),\n    line_width: 2,\n    line_color: color\n  });\n\n  if (Bokeh.index[div_id] == undefined) {\n    var doc = new Bokeh.Document();\n    doc.add_root(plot);\n    Bokeh.embed.add_document_standalone(doc, div);\n  }\n}\n\n\n// CONCATENATED MODULE: ./src/components/jetski.js\n\n\n\n\n\nfunction updateJetski(map, layers) {\n  var begin_date = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"2010-01-01\";\n  var end_date = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"2018-01-01\";\n\n  var begin = moment_default()(begin_date);\n  var end = moment_default()(end_date);\n  var diff = end.diff(begin, 'day');\n  var json_data = {\n    \"dataset\": \"bathymetry_jetski\",\n    \"begin_date\": begin,\n    \"end_date\": end,\n    \"step\": diff,\n    \"interval\": diff,\n    \"unit\": \"day\"\n  };\n  get_images_urls(json_data, map, layers);\n}\n\nfunction get_images_urls(json_data, map, layers) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com';\n  // var SERVER_URL = 'http://localhost:8080'\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\n    method: \"POST\",\n    body: stringify_default()(json_data),\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (image_data) {\n    updateLayers(image_data, map, layers);\n\n    return image_data;\n  });\n  return image_urls;\n}\n\nfunction updateLayers(urls, map, layers) {\n  var jetski = layers.find(function (item) {\n    return item.name === \"Jetski\";\n  });\n  if (jetski === undefined) {\n    var jetski = {\n      \"name\": \"Jetski\",\n      \"active\": false,\n      \"icon\": \"landscape\",\n      \"data\": [],\n      \"type\": \"group\",\n      \"id\": \"Jetski\",\n      \"range\": \"-12 7\",\n      \"z-order\": 0,\n      \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\r\n          #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\r\n          #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\r\n          #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\r\n          #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\r\n          #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\r\n          #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\r\n          #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\r\n          #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\r\n          #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\r\n          #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\r\n          #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\r\n          #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\r\n          #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\r\n          #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\n      \"info\": \"Zandmotor bathymetric and topographic survey, gridded on 20m grid. <a href='https://data.4tu.nl/repository/uuid:c40da555-3eff-4c3c-89d6-136994a07120'>Data link</a>\"\n\n    };\n    layers.push(jetski);\n  } else {\n    _.each(jetski.data, function (old) {\n      map.removeLayer(old.id);\n    });\n    jetski.data = [];\n  }\n  _.each(urls, function (url) {\n    var mapid = url.mapid;\n    var token = url.token;\n    var mapUrl = getTileUrl(mapid, token);\n    var layer = {\n      id: mapid,\n      name: \"jetski\",\n      type: \"raster\",\n      layout: {\n        visibility: \"none\"\n      },\n      source: {\n        type: \"raster\",\n        tiles: [mapUrl],\n        tileSize: 256\n      }\n    };\n    map.addLayer(layer);\n    jetski.data.push(layer);\n  });\n  bus.$emit('select-layers', layers);\n}\n\nfunction getTileUrl(mapId, token) {\n  var baseUrl = \"https://earthengine.googleapis.com/map\";\n  var url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\n  url += \"?token=\" + token;\n  return url;\n}\n\n\n// CONCATENATED MODULE: ./src/components/lidar.js\n\n\n\nfunction AddLidar(map, layers) {\n  var json_data = {\n    \"dataset\": \"bathymetry_lidar\",\n    \"begin_date\": \"2010-08-01\",\n    \"end_date\": \"2012-09-01\",\n    \"step\": 30,\n    \"interval\": 30,\n    \"unit\": \"day\"\n  };\n  lidar_get_images_urls(json_data, map, layers);\n}\n\nfunction lidar_get_images_urls(json_data, map, layers) {\n  var SERVER_URL = 'http://hydro-engine.appspot.com';\n  // var SERVER_URL = 'http://localhost:8080'\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\n    method: \"POST\",\n    body: stringify_default()(json_data),\n    mode: 'cors',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (image_data) {\n    AddLayers(image_data, map, layers);\n    return image_data;\n  });\n  return image_urls;\n}\n\nfunction AddLayers(urls, map, layers) {\n  var grouplayer = {\n    \"name\": \"LiDAR elevation [m, NAP]\",\n    \"active\": false,\n    \"icon\": \"fa-plane\",\n    \"data\": [],\n    \"type\": \"group\",\n    \"range\": \"-12 7\",\n    \"id\": \"Lidar\",\n    \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\r\n        #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\r\n        #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\r\n        #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\r\n        #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\r\n        #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\r\n        #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\r\n        #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\r\n        #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\r\n        #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\r\n        #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\r\n        #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\r\n        #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\r\n        #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\r\n        #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\n    \"info\": \"Elevation measurements of the dutch coast done with LIDAR. <a href='https://data.4tu.nl/repository/uuid:8a8a91bc-e520-4d19-a127-5fd2232cc58e'>Data link</a>\"\n\n  };\n\n  _.each(urls, function (url) {\n    var mapid = url.mapid;\n    var token = url.token;\n    var mapUrl = lidar_getTileUrl(mapid, token);\n    var layer = {\n      id: mapid,\n      name: \"lidar\",\n      type: \"raster\",\n      active: true,\n      layout: {\n        visibility: \"visible\"\n      },\n      source: {\n        type: \"raster\",\n        tiles: [mapUrl],\n        tileSize: 256\n      },\n      paint: {}\n    };\n    map.addLayer(layer);\n    grouplayer.data.push(layer);\n  });\n  layers.push(grouplayer);\n  bus.$emit('select-layers', layers);\n}\n\nfunction lidar_getTileUrl(mapId, token) {\n  var baseUrl = \"https://earthengine.googleapis.com/map\";\n  var url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\n  url += \"?token=\" + token;\n  return url;\n}\n\n\n// CONCATENATED MODULE: ./src/components/adcp.js\n\n\n\n\nfunction AddADCP(map, layers) {\n  var layer_json = {\n    id: 'ADCP',\n    active: true,\n    visibility: \"visible\",\n    name: 'ADCP',\n    type: 'circle',\n    icon: 'grain',\n    'icon-image': '/static/adcp.png',\n    source: {\n      type: 'geojson',\n      data: '/static/adcp_locations.geojson'\n    },\n    \"info\": \"Measurment from an Acoustic Doppler Current Profilers (ADCP) located at the Sand Motor. <a href='https://data.4tu.nl/repository/uuid:3bc3591b-9d9e-4600-8705-5b7eba6aa3ed'>Data link</a>\",\n    paint: {\n      'circle-radius': {\n        'base': 1.2,\n        'stops': [[12, 2], [22, 180]]\n      },\n      'circle-color': 'FireBrick'\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterADCPBy(timeExtent, map) {\n\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n\n  var filters = [\"all\", ['>=', 'tStart', tstart], ['<=', 'tEnd', tend]];\n  //map.setFilter('ADCP', filters);\n}\n\nfunction ShowADCPData(point, div_id) {\n  // find out which adcp was clicked\n  var adcpID = point.properties.ADCPID;\n  var url = \"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/adcp/\";\n  fetch(url + adcpID + \"_data.json\").then(function (resp) {\n    return resp.json();\n  }).then(function (timeseries) {\n    adcp_bokehplot('velocity', adcpID, timeseries, point, div_id[0]);\n    adcp_bokehplot('waterdepth', adcpID, timeseries, point, div_id[1]);\n  }).catch(function (reason) {\n    console.warn(reason);\n  });\n}\n\nfunction adcp_bokehplot(mode, adcpID, timeseries, point, div_id) {\n\n  // Check if timeseries is set\n  if (timeseries == null) {\n    console.log('No timeseries defined');\n    return -1;\n  }\n\n  var div = document.getElementById(div_id);\n  div.innerHTML = \"\"; // clear div\n\n  // General Bokeh settings\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n\n  if (mode == 'velocity') {\n    var properties = ['Umean', 'Vmean'];\n    var title = adcpID + \" depth averaged velocity\";\n    var ylabel = 'Current velocity [m/s]';\n  } else {\n    var properties = ['waterdepth'];\n    var title = adcpID + \" water depth (Scheveningen)\";\n    var ylabel = 'Water level [m, NAP]';\n  }\n\n  var plot = new plt.figure({\n    title: title,\n    tools: tools,\n    width: 1000,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: ylabel,\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  // make line lineplots\n  var x = timeseries['time'];\n\n  var colors = ['MidnightBlue', 'ForestGreen'];\n\n  for (var i = 0; i < properties.length; i++) {\n    var y = timeseries[properties[i]];\n    var source = new Bokeh.ColumnDataSource({\n      data: { x: x,\n        y: y }\n    });\n\n    var line = plot.line({ field: 'x' }, { field: 'y' }, {\n      source: source,\n      legend: properties[i],\n      line_color: colors[i],\n      line_width: 2\n    });\n  }\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/aeolian.js\n\n\n\n\n\nfunction AddAeolian(map, layers) {\n  var layer_json = {\n    id: 'Aeolian',\n    active: true,\n    visibility: \"visible\",\n    name: 'Aeolian transport',\n    type: 'circle',\n    cursor: 'pointer',\n    icon: 'grain',\n    source: {\n      type: 'geojson',\n      data: '/static/aeolian_data.geojson'\n    },\n    \"info\": \"Processed data on aeolian sediment transport from the 6-week MegaPeX field campaign at the Sand Motor mega nourishment. <a href='https://data.4tu.nl/repository/uuid:3bc3591b-9d9e-4600-8705-5b7eba6aa3ed'>Data link</a>\",\n    paint: {\n      // make circles larger as the user zooms from z12 to z22\n      'circle-radius': {\n        'base': 1.75,\n        'stops': [[12, 2], [22, 80]]\n      },\n      'circle-color': ['match', ['get', 'deploymentName'], 'dn1', '#fbb03b', 'dn2', '#223b53', 'dn3', '#e55e5e', 'dn4', '#3bb2d0', 'dn5', '#956a37', 'dn6', '#8a5f2c', 'dn7', '#815726', 'dn8', '#724c20', 'dn9', '#66451f', 'dn10', '#2f1b02', 'dn11', '#201503', 'dn67', '#453c09',\n      /* other */\n      '#ccc']\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterAeolianBy(timeExtent, map) {\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n  var filters = [\"all\", ['>=', 'tStart', tstart], ['<=', 'tEnd', tend]];\n  map.setFilter('Aeolian', filters);\n}\n\nfunction ShowAeolianData(point, div_id) {\n  // todo check if multiple are selected; for now just select first\n  var deploymentName = point.properties.deploymentName;\n  var locationID = point.properties.location_ID;\n  var timeEnd = moment_default.a.unix(parseFloat(point.properties.timeEnd));\n  var timeStart = moment_default.a.unix(parseFloat(point.properties.timeStart));\n\n  fetch(\"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/aeolian/aeolian_data_\" + deploymentName + \".json\").then(function (resp) {\n    return resp.json();\n  }).then(function (timeseries) {\n    locationID = locationID;\n    deploymentName = deploymentName;\n    timeseries = timeseries;\n    timeEnd = timeEnd.format('L');\n    timeStart = timeStart.format('L');\n    aeolian_bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id);\n  }).catch(function (reason) {\n    console.warn(reason);\n  });\n}\n\nfunction aeolian_bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id) {\n\n  // Check if timeseries is set\n  if (timeseries == null) {\n    console.log('No timeseries defined');\n    return -1;\n  }\n\n  var div = document.getElementById(div_id);\n  div.innerHTML = \"\"; // clear div\n\n  // General Bokeh settings\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n\n  // Get time slice\n  var data = timeseries[deploymentName];\n  var keys = keys_default()(data);\n\n  // multiply by 1000 to convert to miliseconds\n  var x = data[keys[0]];\n  x = x.map(function (x) {\n    return x * 1000;\n  });\n\n  // get deployment timeStart and timeEnd\n  var deploymenttStart = moment_default.a.unix(parseFloat(x[0] / 1000)).format('L');\n  var deploymenttEnd = moment_default.a.unix(parseFloat(x[x.length - 1] / 1000)).format('L');\n\n  var plot = new plt.figure({\n    title: \"Deployment: \" + deploymentName + \" Location: \" + locationID + \" Start deployment: \" + deploymenttStart + \" End deployment: \" + deploymenttEnd,\n    tools: tools,\n    width: 800,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: 'Number of particles [-]',\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  // output linesegment per height\n  var locationIDdata = data[locationID];\n  var heights = keys_default()(locationIDdata);\n  var colors = [\"#666699\", \"#66ff66\", \"#ff6666\"];\n\n  for (var i = 0; i < heights.length; i++) {\n    //y = y.slice(begin, end);\n\n    // remove 0 values\n    var filterFunction = function filterFunction(value, index, array) {\n      return y[index] > 0;\n    };\n\n    var height = 'height ' + locationIDdata[heights[i]]['height'].toString() + ' m';\n    var y = data[locationID][heights[i]]['particle_counts'];\n    var xwithoutzero = x.filter(filterFunction);\n    var ywithoutzero = y.filter(filterFunction);\n\n    var source = new Bokeh.ColumnDataSource({\n      data: {\n        x: xwithoutzero,\n        y: ywithoutzero\n      }\n    });\n\n    var line = plot.line({ field: 'x' }, { field: 'y' }, { source: source, legend: height, line_color: colors[i], line_width: 2 });\n  }\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/drifters.js\n\n\n\n\nfunction AddDrifters(map, layers) {\n  var layer_json = {\n    active: false,\n    name: 'Drifters',\n    icon: 'explore',\n    id: 'Drifters',\n    visibility: \"visible\",\n    type: 'line',\n    source: {\n      type: 'geojson',\n      data: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/drifters/drifters.geojson'\n    },\n    \"info\": \"Drifter data as measured with GPS-tracked drifters during the megapex 2014 field campaign. Experiments have been done during ebb and flood and in a rip current. <a href='https://data.4tu.nl/repository/uuid:7f190c88-ae2e-43cf-959c-2b7d5c321573'>Data link</a>\",\n    paint: {\n      'line-color': ['get', 'color'],\n      'line-width': {\n        'base': 4.0,\n        'stops': [[12, 2], [22, 180]]\n      }\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n}\n\nfunction filterDrifterBy(timeExtent, map) {\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n  var filters = [\"all\", ['>=', 'tStart', tstart], ['<=', 'tEnd', tend]];\n  map.setFilter('Drifters', filters);\n}\n\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(\"1e2d\");\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// CONCATENATED MODULE: ./src/components/meteo.js\n\n\n// import * as Bokeh from 'bokehjs'\n// require.import('bokehjs') as Bokeh\n\n// require('bokehjs')\n\n\nfunction AddMeteo(map, layers) {\n  fetch('static/wind_data.json').then(function (resp) {\n    return resp.json();\n  }).then(function (json) {\n    addCanvas(json, layers, map);\n    windsock(json);\n  });\n};\n\nfunction ShowMeteoData(ids) {\n  fetch(\"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/meteo/meteo_data_test1.json\").then(function (resp) {\n    return resp.json();\n  }).then(function (json) {\n    meteo_bokehplot(\"WindSpeed_Avg\", document.getElementById(ids[0]), json);\n    meteo_bokehplot(\"RelHumidity_Avg\", document.getElementById(ids[1]), json);\n  }).catch(function (reason) {\n    console.warn(reason);\n  });\n};\n\nfunction addCanvas(jsondata, layers, map) {\n  var lat = jsondata.lat;\n  var lon = jsondata.lon;\n  var del = 0.003;\n  var layer_json = {\n    name: \"Meteo\",\n    active: false,\n    visibility: \"none\",\n    id: 'Meteo',\n    type: 'raster',\n    icon: 'filter_drama',\n    css: \"\",\n    range: \"\",\n    source: {\n      type: 'canvas',\n      animate: true,\n      canvas: 'windsock-canvas',\n      coordinates: [[lon - del, lat + del], [lon + del, lat + del], [lon + del, lat - del], [lon - del, lat - del]]\n    },\n    \"info\": \"Meteo measurements at the Sand Motor. Air temperature, humidity, pressure, solar radiation, precipitation, wind speed and wind direction are measured. <a href='https://data.4tu.nl/repository/uuid:b7aac156-73d4-4b62-bad4-508c95de8331'>Data link</a>\",\n    paint: {}\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n};\n\nfunction windsock(jsondata) {\n  var t = 0;\n\n  function draw() {\n    var direc = jsondata.direc;\n    var aspeed = jsondata.aspeed[t];\n    var ctx = document.getElementById('windsock-canvas').getContext('2d');\n    var w = 200;\n    var h = 200;\n    var bh = 70;\n    var bw = 80;\n    var c = 100;\n\n    ctx.clearRect(0, 0, w, h);\n\n    // shadow blur\n    ctx.shadowColor = '#333';\n    ctx.shadowBlur = 10;\n    ctx.shadowOffsetX = 5;\n    ctx.shadowOffsetY = 5;\n    ctx.beginPath();\n    ctx.arc(c, c, 10, 0, Math.PI * 2);\n    ctx.fillStyle = \"black\";\n    ctx.fill();\n\n    ctx.closePath();\n    ctx.beginPath();\n\n    ctx.moveTo(bw, bh + 10);\n    ctx.lineTo(c, c);\n    ctx.lineTo(bw + 40, bh + 10);\n    ctx.stroke();\n    ctx.closePath();\n\n    var bands = [[0, 80, bh, 40, 10, 'red'], [2, 80, bh - 10, 40, 10, 'white'], [4, 80, bh - 20, 40, 10, 'red'], [6, 80, bh - 30, 40, 10, 'white'], [8, 80, bh - 40, 40, 10, 'red']];\n    var selectedBands = _.filter(bands, function (band) {\n      var speed = band[0];\n      return aspeed > speed;\n    });\n    _.each(selectedBands, function (band) {\n      ctx.beginPath();\n      ctx.fillStyle = band[5];\n      ctx.rect(band[1], band[2], band[3], band[4]);\n      ctx.fill();\n      ctx.closePath();\n    });\n\n    ctx.translate(w / 2, h / 2);\n    ctx.rotate(-(180 - direc[t - 1]) * (2 * Math.PI / 360));\n    ctx.rotate((180 - direc[t]) * (2 * Math.PI / 360));\n    ctx.translate(-w / 2, -h / 2);\n    t += 1;\n\n    var D = new Date(jsondata.time[t]);\n    requestAnimationFrame(draw);\n  }\n  draw();\n};\n\nfunction meteo_bokehplot(data, div, meteodata) {\n  var plt = Bokeh.Plotting;\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  var begin = 0;\n  var end = 100000;\n  var y = meteodata[data].slice(begin, end);\n  y = _.map(y, function (i) {\n    if (i == -999) {\n      return NaN;\n    } else {\n      return i;\n    }\n  });\n  var x = [];\n  _.each(meteodata.time.slice(begin, end), function (event) {\n    x.push(new Date(event));\n  });\n  var source = new Bokeh.ColumnDataSource({\n    data: {\n      x: x,\n      y: y\n    }\n  });\n\n  // define ylabel based on source\n  var ylabels = {};\n  ylabels['RelHumidity_Avg'] = 'Relative Humidity [%]';\n  ylabels['WindSpeed_Avg'] = 'Wind speed 44 m above surface [m/s]';\n  var plot = new plt.figure({\n    title: data,\n    tools: tools,\n    width: 1000,\n    height: 350,\n    x_axis_type: 'datetime',\n    x_axis_label: 'Time',\n    y_axis_label: ylabels[data],\n    background_fill_color: \"#F2F2F7\"\n  });\n\n  var line = plot.line({ field: 'x' }, { field: 'y' }, { source: source, legend: data, line_color: \"#666699\", line_width: 2 });\n\n  plot._legend.location = 'top_left';\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./src/components/morphology.js\n\n\n\nfunction AddMorphology(map, layers) {\n  var layer_json = {\n    \"name\": \"Sediment D50 [µm]\",\n    \"active\": false,\n    \"visibility\": \"None\",\n    \"icon\": \"grain\",\n    \"id\": \"Sediment\",\n    \"type\": \"circle\",\n    \"source\": {\n      \"type\": \"geojson\",\n      \"data\": \"static/sediment_data.geojson\"\n    },\n    \"range\": \"0  400\",\n    \"css\": \"background: linear-gradient(to right, \\\r\n      hsla(0, 100%, 50%, 0.5), \\\r\n      rgba(255, 255, 0, 0.5));\",\n    \"info\": \"Sediment sampling data from measurement campaign at the Sand Motor. <a href='https://data.4tu.nl/repository/uuid:598c390b-2368-4670-bc8c-d0b3ae09dd79'>Data link</a>\",\n    paint: {\n      \"circle-color\": {\n        \"base\": 1,\n        \"type\": \"exponential\",\n        \"property\": \"D50\",\n        \"stops\": [[0, \"hsla(0, 100%, 50%, 0.5)\"], [400, \"rgba(255, 255, 0, 0.5)\"]],\n        \"default\": \"hsl(0, 0%, 0%)\"\n      },\n      \"circle-stroke-width\": 0.5\n    }\n  };\n  map.addLayer(layer_json);\n  layers.push(layer_json);\n  bus.$emit('select-layers', layers);\n  bus.$emit('add-legend', 'test');\n}\n\nfunction filterMorphologyBy(timeExtent, map) {\n  //timeExtent provides 2 moments\n  var tstart = timeExtent[0].unix();\n  var tend = timeExtent[1].unix();\n  var filters = [\"all\", ['>=', 'time', tstart], ['<=', 'time', tend]];\n  map.setFilter('Sediment', filters);\n}\n\nfunction ShowMorphologyData(data) {\n  morphology_bokehplot(data, ddocument.getElementById(\"properties.id\"));\n}\n\nfunction morphology_bokehplot(data, div, meteodata) {\n  var plt = Bokeh.Plotting;\n  // var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\n  // var begin = 500000\n  // var end = 750000\n  // var y = meteodata[data].data.slice(begin, end)\n  // y = _.map(y, function(i) {\n  //   if (i >= 9.969209968386869e+36) {\n  //     return NaN\n  //   } else {\n  //     return i\n  //   }\n  // })\n  // var x = []\n  // _.each(meteodata.time.slice(begin, end), function(event) {\n  //   x.push(new Date(event))\n  // });\n  // var source = new Bokeh.ColumnDataSource({\n  //   data: {\n  //     x: x,\n  //     y: y\n  //   }\n  // });\n  var plot = new plt.figure({\n    // title: meteodata[data].title,\n    tools: tools,\n    width: 400,\n    height: 200,\n    x_axis_type: 'datetime',\n    background_fill_color: \"#F2F2F7\"\n  });\n  // var line = new Bokeh.Line({\n  //   x: {\n  //     field: \"x\"\n  //   },\n  //   y: {\n  //     field: \"y\"\n  //   },\n  //   line_color: \"#666699\",\n  //   line_width: 2\n  // });\n  //\n  // plot.add_glyph(line, source);\n  var doc = new Bokeh.Document();\n  doc.add_root(plot);\n  Bokeh.embed.add_document_standalone(doc, div);\n}\n\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./src/app.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar app_draw = new mapbox_gl_draw({\n  displayControlsDefault: false,\n  controls: {\n    line_string: true,\n    trash: true\n  }\n});\n\n/* harmony default export */ var app = ({\n  name: 'app',\n  data: function data() {\n    return {\n      map: null,\n      drawer: false,\n      fixed: false,\n      showSettings: false,\n      items: [{\n        icon: 'bubble_chart',\n        title: 'Inspire'\n      }],\n      layers: [],\n      jsondata: \"None\",\n      msg: \"\",\n      timeExtent: [moment_default()(\"20110301\", \"YYYYMMDD\"), moment_default()()],\n      plots: [],\n      draws: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    bus.$on('select-layers', function (layers) {\n      vue_esm[\"a\" /* default */].set(_this, 'layers', layers);\n    });\n    bus.$on('add-layer', function (layer) {\n      _this.layers.push(layer);\n    });\n    bus.$on('add-card', function (card) {\n      _this.plots.push(card);\n    });\n\n    bus.$on('click-plots', function (plots) {\n      vue_esm[\"a\" /* default */].set(_this, 'plots', plots);\n    });\n    bus.$on('map-loaded', function (event) {\n      vue_esm[\"a\" /* default */].set(_this, 'map', event.target);\n    });\n\n    this.$refs.timeslider.$on('time-extent-update', function (event) {\n      _this.timeExtent = event;\n      // check which layers are active\n      var activeLayers = [];\n      for (var i = 0; i < _this.layers.length; i++) {\n        if (_this.layers[i].active) {\n          activeLayers.push(_this.layers[i].id);\n        }\n      };\n      // filter some map layers with filter options on time\n      if (activeLayers.indexOf(\"Drifters\") > -1) {\n        filterDrifterBy(_this.timeExtent, _this.$refs.map.map);\n      };\n      if (activeLayers.indexOf(\"Aeolian\") > -1) {\n        filterAeolianBy(_this.timeExtent, _this.$refs.map.map);\n      }\n      if (activeLayers.indexOf(\"Sediment\") > -1) {\n        console.log('check');\n        filterMorphologyBy(_this.timeExtent, _this.$refs.map.map);\n      }\n      if (activeLayers.indexOf(\"Jetski\") > -1) {\n        updateJetski(_this.$refs.map.map, _this.layers, _this.timeExtent[0], _this.timeExtent[1]);\n      }\n      DrawControls(_this.$refs.map.map, _this.draws, _this.timeExtent[0], _this.timeExtent[1], 'bathymetry_jetski');\n\n      // filter all open Bokeh plots on TimeSlider\n      var keys = keys_default()(Bokeh.index);\n      var tstart = _this.timeExtent[0].unix() * 1000;\n      var tend = _this.timeExtent[1].unix() * 1000;\n      for (var i = 0; i < keys.length; i++) {\n        var array1 = Bokeh.index[keys[i]].model.attributes.renderers;\n        if (array1.map(function (x) {\n          return x.type;\n        }).indexOf('DatetimeAxis') > 0) {\n          // check if bokeh plot contains DatetimeAxis\n          Bokeh.index[keys[i]].model.x_range.start = tstart;\n          Bokeh.index[keys[i]].model.x_range.end = tend;\n        }\n      }\n    });\n\n    this.$refs.map.$on('mb-load', function (event) {\n      bus.$emit('map-loaded', event);\n\n      // Add different layers (Meteo, Morphology and Aeolian)\n      _this.$refs.map.map.addControl(app_draw);\n\n      AddMeteo(_this.$refs.map.map, _this.layers);\n      AddMorphology(_this.$refs.map.map, _this.layers);\n      AddAeolian(_this.$refs.map.map, _this.layers);\n      AddDrifters(_this.$refs.map.map, _this.layers);\n      // AddJetski(this.$refs.map.map, this.layers)\n      AddLidar(_this.$refs.map.map, _this.layers);\n      AddADCP(_this.$refs.map.map, _this.layers);\n      updateJetski(_this.$refs.map.map, _this.layers);\n      // TODO: Click event toevoegen\n      _this.map.on('mousemove', function (e) {\n        _this.$refs.map.map.getCanvas().style.cursor = '';\n        var features = _this.map.queryRenderedFeatures(e.point);\n        if (typeof features[0] !== 'undefined') {\n          _this.$refs.map.map.getCanvas().style.cursor = 'pointer';\n        }\n      });\n      _this.$refs.map.map.on('draw.create', function () {\n        var regions = app_draw.getAll();\n        var region = regions.features[regions.features.length - 1].geometry;\n        var div_id = stringify_default()(region);\n        _this.draws.push(region);\n        _this.plots.push(div_id);\n        bus.$emit('click-plots', _this.plots);\n        DrawControls(_this.$refs.map.map, _this.draws, _this.timeExtent[0], _this.timeExtent[1], 'bathymetry_jetski');\n      });\n\n      _this.map.on('click', function (e) {\n        var click_lon = e.lngLat.lng;\n        var click_lat = e.lngLat.lat;\n        // WHen meteo-layer is visible and clicked on\n        if (_this.map.getLayer('Meteo').visibility === 'visible') {\n          var meteo = _this.layers.find(function (item) {\n            return item.id === \"Meteo\";\n          });\n          var lon_min = meteo.source.coordinates[0][0];\n          var lon_max = meteo.source.coordinates[1][0];\n          var lat_min = meteo.source.coordinates[2][1];\n          var lat_max = meteo.source.coordinates[0][1];\n          if (click_lon <= lon_max && click_lat <= lat_max && click_lon >= lon_min && click_lat >= lat_min) {\n            var ids = [];\n            var params = [\"WindSpeed_Avg\", \"RelHumidity_Avg\"];\n            _.each(params, function (p) {\n              _this.plots.push(p);\n              ids.push(\"plot_\" + p);\n              bus.$emit('click-plots', _this.plots);\n            });\n            ShowMeteoData(ids);\n          }\n        }\n\n        // When clicked on a feature of Morphology or aeolian\n        var features = _this.map.queryRenderedFeatures(e.point);\n        _.each(features, function (point) {\n          if (point.layer.id == \"Sediment\") {\n            var div_id = point.properties.id;\n            _this.plots.push(div_id);\n            bus.$emit('click-plots', _this.plots);\n            // ShowMorphologyData(point.properties, \"plot_\" + div_id)\n          } else if (point.layer.id == \"Aeolian\") {\n            var div_id = \"Particle_\" + point.properties.deploymentName + \"_\" + point.properties.location_ID;\n            _this.plots.push(div_id);\n            bus.$emit('click-plots', _this.plots);\n            ShowAeolianData(point, \"plot_\" + div_id);\n          } else if (point.layer.id == \"ADCP\") {\n            var ids = [];\n            var params = [point.properties.ADCPID + '_adcp-f-1', point.properties.ADCPID + '_adcp-f-2'];\n            _.each(params, function (p) {\n              _this.plots.push(p);\n              ids.push(\"plot_\" + p);\n              bus.$emit('click-plots', _this.plots);\n            });\n            ShowADCPData(point, ids);\n          }\n        });\n      });\n    });\n  },\n\n  methods: {\n    removePlot: function removePlot(e) {\n      var index = this.plots.indexOf(e);\n      this.plots.splice(index, 1);\n      bus.$emit('click-plots', this.plots);\n    }\n  },\n  components: {\n    'layer-control': components_LayerControl,\n    'time-slider': components_TimeSlider\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-542ad564\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar App_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',{staticClass:\"title\"},[_vm._v(\"\\r\\n            Layers\\r\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('layer-control',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"light\":\"\",\"app\":\"\",\"clipped\":\"\",\"fixed\":\"\"}},[_c('v-toolbar-title',{staticClass:\"ml-0 pl-3\"},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\"\\r\\n      Zandmotor data\\r\\n    \")],1),_vm._v(\" \"),_c('time-slider',{ref:\"timeslider\",attrs:{\"show-play\":false}}),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-avatar',{attrs:{\"width\":\"64px\"}},[_c('a',{staticClass:\"btn btn--flat btn--router\",attrs:{\"icon\":\"\",\"large\":\"\",\"href\":\"http://www.dezandmotor.nl/en/\",\"target\":\"parent\"}},[_c('img',{attrs:{\"src\":\"src/assets/NatureCoastLogo.png\",\"alt\":\"Logo\"}})])]),_vm._v(\" \"),_c('v-avatar',{attrs:{\"size\":\"64px\"}},[_c('a',{staticClass:\"btn btn--flat btn--router\",attrs:{\"icon\":\"\",\"large\":\"\",\"href\":\"http://www.stw.nl/en\",\"target\":\"parent\"}},[_c('img',{attrs:{\"src\":\"src/assets/STWlogo.png\",\"alt\":\"Logo\"}})])]),_vm._v(\" \"),_c('v-avatar',{attrs:{\"size\":\"64px\"}},[_c('a',{staticClass:\"btn btn--flat btn--router\",attrs:{\"icon\":\"\",\"large\":\"\",\"href\":\"https://github.com/openearth/sandmotor-viewer\",\"target\":\"parent\"}},[_c('img',{attrs:{\"src\":\"src/assets/GitHub-Mark.png\",\"alt\":\"Logo\"}})])]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"mailto:Arjen.Luijendijk@deltares.nlSubject=Contact%20Zandmotor%20data\",\"target\":\"_top\"}},[_vm._v(\"contact\")])],1),_vm._v(\" \"),_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"fluid\":\"\",\"row\":\"\",\"wrap\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"mb-2\":\"\"}},[_c('v-card',{attrs:{\"id\":\"map\"}},[_c('v-card-text',[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA\",\"map-style\":\"mapbox://styles/mapbox/satellite-streets-v10\",\"center\":[4.186, 52.060],\"zoom\":12.5,\"pitch\":5.00,\"bearing\":-0,\"min-zoom\":5,\"id\":\"map\"}},[_c('canvas',{attrs:{\"id\":\"windsock-canvas\",\"width\":\"200\",\"height\":\"200\"}})])],1)],1)],1),_vm._v(\" \"),_vm._l((_vm.plots),function(plot){return _c('v-card',{key:plot,staticClass:\"mb-1 mr-1\",attrs:{\"id\":'card_'+ plot}},[_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.removePlot(plot, $event)}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_vm._v(\" \"),_c('v-card-text',[_c('div',{staticClass:\"plot-container bk-root\",attrs:{\"id\":'plot_'+ plot}})])],1)})],2)],1)],1)],1)}\nvar App_staticRenderFns = []\nvar App_esExports = { render: App_render, staticRenderFns: App_staticRenderFns }\n/* harmony default export */ var App = (App_esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction App_injectStyle (ssrContext) {\n  __webpack_require__(\"HNnx\")\n}\nvar App_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n/* template */\n\n/* template functional */\nvar App___vue_template_functional__ = false\n/* styles */\nvar App___vue_styles__ = App_injectStyle\n/* scopeId */\nvar App___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar App___vue_module_identifier__ = null\nvar App_Component = App_normalizeComponent(\n  app,\n  App,\n  App___vue_template_functional__,\n  App___vue_styles__,\n  App___vue_scopeId__,\n  App___vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (App_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vuetify/dist/vuetify.min.css\nvar vuetify_min = __webpack_require__(\"7zck\");\nvar vuetify_min_default = /*#__PURE__*/__webpack_require__.n(vuetify_min);\n\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue2mapbox_gl_default.a);\nvue_esm[\"a\" /* default */].use(vuetify_default.a);\n\n\n\nvue_esm[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"k7bT\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"uTBe\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"uslO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./af\": \"3CJN\",\n\t\"./af.js\": \"3CJN\",\n\t\"./ar\": \"3MVc\",\n\t\"./ar-dz\": \"tkWw\",\n\t\"./ar-dz.js\": \"tkWw\",\n\t\"./ar-kw\": \"j8cJ\",\n\t\"./ar-kw.js\": \"j8cJ\",\n\t\"./ar-ly\": \"wPpW\",\n\t\"./ar-ly.js\": \"wPpW\",\n\t\"./ar-ma\": \"dURR\",\n\t\"./ar-ma.js\": \"dURR\",\n\t\"./ar-sa\": \"7OnE\",\n\t\"./ar-sa.js\": \"7OnE\",\n\t\"./ar-tn\": \"BEem\",\n\t\"./ar-tn.js\": \"BEem\",\n\t\"./ar.js\": \"3MVc\",\n\t\"./az\": \"eHwN\",\n\t\"./az.js\": \"eHwN\",\n\t\"./be\": \"3hfc\",\n\t\"./be.js\": \"3hfc\",\n\t\"./bg\": \"lOED\",\n\t\"./bg.js\": \"lOED\",\n\t\"./bm\": \"hng5\",\n\t\"./bm.js\": \"hng5\",\n\t\"./bn\": \"aM0x\",\n\t\"./bn.js\": \"aM0x\",\n\t\"./bo\": \"w2Hs\",\n\t\"./bo.js\": \"w2Hs\",\n\t\"./br\": \"OSsP\",\n\t\"./br.js\": \"OSsP\",\n\t\"./bs\": \"aqvp\",\n\t\"./bs.js\": \"aqvp\",\n\t\"./ca\": \"wIgY\",\n\t\"./ca.js\": \"wIgY\",\n\t\"./cs\": \"ssxj\",\n\t\"./cs.js\": \"ssxj\",\n\t\"./cv\": \"N3vo\",\n\t\"./cv.js\": \"N3vo\",\n\t\"./cy\": \"ZFGz\",\n\t\"./cy.js\": \"ZFGz\",\n\t\"./da\": \"YBA/\",\n\t\"./da.js\": \"YBA/\",\n\t\"./de\": \"DOkx\",\n\t\"./de-at\": \"8v14\",\n\t\"./de-at.js\": \"8v14\",\n\t\"./de-ch\": \"Frex\",\n\t\"./de-ch.js\": \"Frex\",\n\t\"./de.js\": \"DOkx\",\n\t\"./dv\": \"rIuo\",\n\t\"./dv.js\": \"rIuo\",\n\t\"./el\": \"CFqe\",\n\t\"./el.js\": \"CFqe\",\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\",\n\t\"./eo\": \"Nd3h\",\n\t\"./eo.js\": \"Nd3h\",\n\t\"./es\": \"LT9G\",\n\t\"./es-do\": \"7MHZ\",\n\t\"./es-do.js\": \"7MHZ\",\n\t\"./es-us\": \"INcR\",\n\t\"./es-us.js\": \"INcR\",\n\t\"./es.js\": \"LT9G\",\n\t\"./et\": \"XlWM\",\n\t\"./et.js\": \"XlWM\",\n\t\"./eu\": \"sqLM\",\n\t\"./eu.js\": \"sqLM\",\n\t\"./fa\": \"2pmY\",\n\t\"./fa.js\": \"2pmY\",\n\t\"./fi\": \"nS2h\",\n\t\"./fi.js\": \"nS2h\",\n\t\"./fo\": \"OVPi\",\n\t\"./fo.js\": \"OVPi\",\n\t\"./fr\": \"tzHd\",\n\t\"./fr-ca\": \"bXQP\",\n\t\"./fr-ca.js\": \"bXQP\",\n\t\"./fr-ch\": \"VK9h\",\n\t\"./fr-ch.js\": \"VK9h\",\n\t\"./fr.js\": \"tzHd\",\n\t\"./fy\": \"g7KF\",\n\t\"./fy.js\": \"g7KF\",\n\t\"./gd\": \"nLOz\",\n\t\"./gd.js\": \"nLOz\",\n\t\"./gl\": \"FuaP\",\n\t\"./gl.js\": \"FuaP\",\n\t\"./gom-latn\": \"+27R\",\n\t\"./gom-latn.js\": \"+27R\",\n\t\"./gu\": \"rtsW\",\n\t\"./gu.js\": \"rtsW\",\n\t\"./he\": \"Nzt2\",\n\t\"./he.js\": \"Nzt2\",\n\t\"./hi\": \"ETHv\",\n\t\"./hi.js\": \"ETHv\",\n\t\"./hr\": \"V4qH\",\n\t\"./hr.js\": \"V4qH\",\n\t\"./hu\": \"xne+\",\n\t\"./hu.js\": \"xne+\",\n\t\"./hy-am\": \"GrS7\",\n\t\"./hy-am.js\": \"GrS7\",\n\t\"./id\": \"yRTJ\",\n\t\"./id.js\": \"yRTJ\",\n\t\"./is\": \"upln\",\n\t\"./is.js\": \"upln\",\n\t\"./it\": \"FKXc\",\n\t\"./it.js\": \"FKXc\",\n\t\"./ja\": \"ORgI\",\n\t\"./ja.js\": \"ORgI\",\n\t\"./jv\": \"JwiF\",\n\t\"./jv.js\": \"JwiF\",\n\t\"./ka\": \"RnJI\",\n\t\"./ka.js\": \"RnJI\",\n\t\"./kk\": \"j+vx\",\n\t\"./kk.js\": \"j+vx\",\n\t\"./km\": \"5j66\",\n\t\"./km.js\": \"5j66\",\n\t\"./kn\": \"gEQe\",\n\t\"./kn.js\": \"gEQe\",\n\t\"./ko\": \"eBB/\",\n\t\"./ko.js\": \"eBB/\",\n\t\"./ky\": \"6cf8\",\n\t\"./ky.js\": \"6cf8\",\n\t\"./lb\": \"z3hR\",\n\t\"./lb.js\": \"z3hR\",\n\t\"./lo\": \"nE8X\",\n\t\"./lo.js\": \"nE8X\",\n\t\"./lt\": \"/6P1\",\n\t\"./lt.js\": \"/6P1\",\n\t\"./lv\": \"jxEH\",\n\t\"./lv.js\": \"jxEH\",\n\t\"./me\": \"svD2\",\n\t\"./me.js\": \"svD2\",\n\t\"./mi\": \"gEU3\",\n\t\"./mi.js\": \"gEU3\",\n\t\"./mk\": \"Ab7C\",\n\t\"./mk.js\": \"Ab7C\",\n\t\"./ml\": \"oo1B\",\n\t\"./ml.js\": \"oo1B\",\n\t\"./mr\": \"5vPg\",\n\t\"./mr.js\": \"5vPg\",\n\t\"./ms\": \"ooba\",\n\t\"./ms-my\": \"G++c\",\n\t\"./ms-my.js\": \"G++c\",\n\t\"./ms.js\": \"ooba\",\n\t\"./mt\": \"oCzW\",\n\t\"./mt.js\": \"oCzW\",\n\t\"./my\": \"F+2e\",\n\t\"./my.js\": \"F+2e\",\n\t\"./nb\": \"FlzV\",\n\t\"./nb.js\": \"FlzV\",\n\t\"./ne\": \"/mhn\",\n\t\"./ne.js\": \"/mhn\",\n\t\"./nl\": \"3K28\",\n\t\"./nl-be\": \"Bp2f\",\n\t\"./nl-be.js\": \"Bp2f\",\n\t\"./nl.js\": \"3K28\",\n\t\"./nn\": \"C7av\",\n\t\"./nn.js\": \"C7av\",\n\t\"./pa-in\": \"pfs9\",\n\t\"./pa-in.js\": \"pfs9\",\n\t\"./pl\": \"7LV+\",\n\t\"./pl.js\": \"7LV+\",\n\t\"./pt\": \"ZoSI\",\n\t\"./pt-br\": \"AoDM\",\n\t\"./pt-br.js\": \"AoDM\",\n\t\"./pt.js\": \"ZoSI\",\n\t\"./ro\": \"wT5f\",\n\t\"./ro.js\": \"wT5f\",\n\t\"./ru\": \"ulq9\",\n\t\"./ru.js\": \"ulq9\",\n\t\"./sd\": \"fW1y\",\n\t\"./sd.js\": \"fW1y\",\n\t\"./se\": \"5Omq\",\n\t\"./se.js\": \"5Omq\",\n\t\"./si\": \"Lgqo\",\n\t\"./si.js\": \"Lgqo\",\n\t\"./sk\": \"OUMt\",\n\t\"./sk.js\": \"OUMt\",\n\t\"./sl\": \"2s1U\",\n\t\"./sl.js\": \"2s1U\",\n\t\"./sq\": \"V0td\",\n\t\"./sq.js\": \"V0td\",\n\t\"./sr\": \"f4W3\",\n\t\"./sr-cyrl\": \"c1x4\",\n\t\"./sr-cyrl.js\": \"c1x4\",\n\t\"./sr.js\": \"f4W3\",\n\t\"./ss\": \"7Q8x\",\n\t\"./ss.js\": \"7Q8x\",\n\t\"./sv\": \"Fpqq\",\n\t\"./sv.js\": \"Fpqq\",\n\t\"./sw\": \"DSXN\",\n\t\"./sw.js\": \"DSXN\",\n\t\"./ta\": \"+7/x\",\n\t\"./ta.js\": \"+7/x\",\n\t\"./te\": \"Nlnz\",\n\t\"./te.js\": \"Nlnz\",\n\t\"./tet\": \"gUgh\",\n\t\"./tet.js\": \"gUgh\",\n\t\"./th\": \"XzD+\",\n\t\"./th.js\": \"XzD+\",\n\t\"./tl-ph\": \"3LKG\",\n\t\"./tl-ph.js\": \"3LKG\",\n\t\"./tlh\": \"m7yE\",\n\t\"./tlh.js\": \"m7yE\",\n\t\"./tr\": \"k+5o\",\n\t\"./tr.js\": \"k+5o\",\n\t\"./tzl\": \"iNtv\",\n\t\"./tzl.js\": \"iNtv\",\n\t\"./tzm\": \"FRPF\",\n\t\"./tzm-latn\": \"krPU\",\n\t\"./tzm-latn.js\": \"krPU\",\n\t\"./tzm.js\": \"FRPF\",\n\t\"./uk\": \"ntHu\",\n\t\"./uk.js\": \"ntHu\",\n\t\"./ur\": \"uSe8\",\n\t\"./ur.js\": \"uSe8\",\n\t\"./uz\": \"XU1s\",\n\t\"./uz-latn\": \"/bsm\",\n\t\"./uz-latn.js\": \"/bsm\",\n\t\"./uz.js\": \"XU1s\",\n\t\"./vi\": \"0X8Q\",\n\t\"./vi.js\": \"0X8Q\",\n\t\"./x-pseudo\": \"e/KL\",\n\t\"./x-pseudo.js\": \"e/KL\",\n\t\"./yo\": \"YXlc\",\n\t\"./yo.js\": \"YXlc\",\n\t\"./zh-cn\": \"Vz2w\",\n\t\"./zh-cn.js\": \"Vz2w\",\n\t\"./zh-hk\": \"ZUyn\",\n\t\"./zh-hk.js\": \"ZUyn\",\n\t\"./zh-tw\": \"BbgG\",\n\t\"./zh-tw.js\": \"BbgG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"uslO\";\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.7cb3deea3cddf7faba36.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc2eac4e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LayerControl.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./layer-control.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc2eac4e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LayerControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc2eac4e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d430a7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MorphologyCanvas.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./morphology-canvas.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d430a7e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MorphologyCanvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d430a7e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MorphologyCanvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-674f5e0e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!./time-slider.css\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./time-slider.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-674f5e0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TimeSlider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TimeSlider.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Vue2MapboxGL from 'vue2mapbox-gl';\r\nimport {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport * as MapboxDraw from '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js';\r\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\r\nimport moment from 'moment';\r\n\r\nconst DAY_FORMAT = 'Y-MM-DD'\r\n\r\nVue.use(Vue2MapboxGL);\r\nvar draw = new MapboxDraw({\r\n  displayControlsDefault: false,\r\n  controls: {\r\n    line_string: true,\r\n    trash: true\r\n  }\r\n});\r\n\r\nvar colors = ['#ffffff', '#e6e6ff', '#ccccff', '#b3b3ff', '#9999ff', '#8080ff',\r\n  '#6666ff', '#4d4dff', '#3333ff', '#1a1aff', '#0000ff', '#0000e6', '#0000cc', '#0000b3',\r\n  '#000099', '#000080', '#000066', '#00004d', '#000033', '#00001a', '#000000'\r\n]\r\nvar draws = []\r\n\r\nfunction DrawControls(map, draws, beginDate, endDate, dataset) {\r\n  var profile = download_raster_profile(draws, dataset, 20, beginDate, endDate)\r\n}\r\n\r\n\r\nfunction download_raster_profile(regions, dataset, scale, begin_date, end_date) {\r\n  _.each(regions, (region) => {\r\n    var SERVER_URL = 'http://hydro-engine.appspot.com'\r\n    // var SERVER_URL = 'http://localhost:8080'\r\n    var data = {\r\n      'polyline': region,\r\n      \"dataset\": dataset,\r\n      \"begin_date\": begin_date,\r\n      \"end_date\": end_date,\r\n      'scale': scale\r\n    }\r\n    console.log(data)\r\n    var myHeaders = new Headers();\r\n    var profile = fetch(SERVER_URL + '/get_raster_profile', {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((profile_data) => {\r\n        bokehplot(profile_data, data, JSON.stringify(region))\r\n        return profile_data\r\n      })\r\n    return profile\r\n  })\r\n};\r\n\r\nfunction bokehplot(profile_data, data, div_id) {\r\n  console.log(div_id)\r\n  var div = document.getElementById(\"plot_\" + div_id);\r\n\r\n  // div.innerHTML = \"\"; // clear div\r\n  // console.log('profile_data', JSON.stringify(profile_data), profile_data.type)\r\n  var plt = Bokeh.Plotting;\r\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\r\n  var begin = data.begin_date\r\n  var end = data.end_date\r\n  var source = new Bokeh.GeoJSONDataSource({\r\n    geojson: JSON.stringify(profile_data)\r\n  })\r\n\r\n  if (Bokeh.index[div_id] != undefined) {\r\n    var plot = Bokeh.index[div_id].model\r\n\r\n    var color = colors[Bokeh.index[div_id].model._legend.attributes.items.length]\r\n  } else {\r\n    var plot = new plt.figure({\r\n      name: div_id,\r\n      id: div_id,\r\n      title: data.dataset,\r\n      tools: tools,\r\n      width: 800,\r\n      height: 350,\r\n      background_fill_color: \"#F2F2F7\",\r\n      x_axis_label: 'Distance w.r.t. first coordinate [m]',\r\n      y_axis_label: 'Elevation [m, NAP]',\r\n    });\r\n    var color = colors[0]\r\n  }\r\n\r\n  plot.line({\r\n    field: \"distance\"\r\n  }, {\r\n    field: \"b1_mean\"\r\n  }, {\r\n    source: source,\r\n    legend: begin.format(DAY_FORMAT) + ' to ' + end.format(DAY_FORMAT),\r\n    line_width: 2,\r\n    line_color: color\r\n  });\r\n\r\n  if (Bokeh.index[div_id] == undefined) {\r\n    var doc = new Bokeh.Document();\r\n    doc.add_root(plot);\r\n    Bokeh.embed.add_document_standalone(doc, div);\r\n  }\r\n}\r\n\r\nexport {\r\n  DrawControls,\r\n  addBathymetryPlot\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map-draw.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\nimport moment from 'moment';\r\n\r\nfunction updateJetski(map, layers, begin_date=\"2010-01-01\", end_date=\"2018-01-01\") {\r\n  var begin = moment(begin_date)\r\n  var end = moment(end_date)\r\n  var diff = end.diff(begin, 'day')\r\n  var json_data = {\r\n    \"dataset\": \"bathymetry_jetski\",\r\n    \"begin_date\": begin,\r\n    \"end_date\": end,\r\n    \"step\": diff,\r\n    \"interval\": diff,\r\n    \"unit\": \"day\"\r\n  }\r\n  get_images_urls(json_data, map, layers)\r\n}\r\n\r\nfunction get_images_urls(json_data, map, layers) {\r\n  var SERVER_URL = 'http://hydro-engine.appspot.com'\r\n  // var SERVER_URL = 'http://localhost:8080'\r\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(json_data),\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .then((image_data) =>  {\r\n        updateLayers(image_data, map, layers)\r\n\r\n      return image_data\r\n    })\r\n  return image_urls\r\n}\r\n\r\nfunction updateLayers(urls, map, layers) {\r\n  var jetski = layers.find(item => item.name === \"Jetski\")\r\n  if (jetski === undefined) {\r\n    var jetski = {\r\n      \"name\": \"Jetski\",\r\n      \"active\": false,\r\n      \"icon\": \"landscape\",\r\n      \"data\": [],\r\n      \"type\": \"group\",\r\n      \"id\": \"Jetski\",\r\n      \"range\": \"-12 7\",\r\n      \"z-order\": 0,\r\n      \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\r\n          #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\r\n          #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\r\n          #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\r\n          #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\r\n          #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\r\n          #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\r\n          #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\r\n          #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\r\n          #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\r\n          #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\r\n          #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\r\n          #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\r\n          #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\r\n          #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\r\n          \"info\": \"Zandmotor bathymetric and topographic survey, gridded on 20m grid. <a href='https://data.4tu.nl/repository/uuid:c40da555-3eff-4c3c-89d6-136994a07120'>Data link</a>\"\r\n\r\n    }\r\n    layers.push(jetski);\r\n  }\r\n  else {\r\n    _.each(jetski.data, (old) =>{\r\n      map.removeLayer(old.id)\r\n    })\r\n    jetski.data = []\r\n  }\r\n  _.each(urls, (url) => {\r\n    var mapid = url.mapid\r\n    var token = url.token\r\n    let mapUrl = getTileUrl(mapid, token);\r\n    let layer = {\r\n      id: mapid,\r\n      name: \"jetski\",\r\n      type: \"raster\",\r\n      layout: {\r\n        visibility: \"none\"\r\n      },\r\n      source: {\r\n        type: \"raster\",\r\n        tiles: [mapUrl],\r\n        tileSize: 256\r\n      }\r\n    };\r\n    map.addLayer(layer)\r\n    jetski.data.push(layer)\r\n  });\r\n  bus.$emit('select-layers', layers);\r\n}\r\n\r\nfunction getTileUrl(mapId, token) {\r\n  let baseUrl = \"https://earthengine.googleapis.com/map\";\r\n  let url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\r\n  url += \"?token=\" + token;\r\n  return url;\r\n}\r\n\r\nexport {\r\n  updateJetski\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jetski.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\nfunction AddLidar(map, layers) {\r\n  var json_data = {\r\n    \"dataset\": \"bathymetry_lidar\",\r\n    \"begin_date\": \"2010-08-01\",\r\n    \"end_date\": \"2012-09-01\",\r\n    \"step\": 30,\r\n    \"interval\": 30,\r\n    \"unit\": \"day\"\r\n  }\r\n  get_images_urls(json_data, map, layers)\r\n}\r\n\r\nfunction get_images_urls(json_data, map, layers) {\r\n  var SERVER_URL = 'http://hydro-engine.appspot.com'\r\n  // var SERVER_URL = 'http://localhost:8080'\r\n  var image_urls = fetch(SERVER_URL + '/get_image_urls', {\r\n      method: \"POST\",\r\n      body: JSON.stringify(json_data),\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .then((image_data) => {\r\n      AddLayers(image_data, map, layers)\r\n      return image_data\r\n    })\r\n  return image_urls\r\n}\r\n\r\nfunction AddLayers(urls, map, layers){\r\n  var grouplayer = {\r\n    \"name\": \"LiDAR elevation [m, NAP]\",\r\n    \"active\": false,\r\n    \"icon\":\"fa-plane\",\r\n    \"data\": [],\r\n    \"type\": \"group\",\r\n    \"range\": \"-12 7\",\r\n    \"id\": \"Lidar\",\r\n    \"css\": \"background: linear-gradient(to right, #000033,#000037,#00003a,#00003e, \\\r\n        #000042,#000045,#000049,#00004d,#000050,#000054,#000057,#00005b,#00005f,\\\r\n        #000062,#000066,#010268,#03036a,#04056c,#05076e,#070971,#080a73,#0a0c75,\\\r\n        #0b0e77,#0c1079,#0e117b,#0f137d,#10157f,#121781,#131884,#141a86,#161c88,\\\r\n        #171e8a,#191f8c,#1a218e,#1b2390,#1d2492,#1e2695,#1f2897,#212a99,#222b9b,\\\r\n        #242d9d,#252f9f,#2a35a2,#2e3ca6,#3342a9,#3848ac,#3c4faf,#4155b3,#465cb6,\\\r\n        #4a62b9,#4f68bc,#546fc0,#5875c3,#5d7bc6,#6282ca,#6688cd,#6b8fd0,#7095d3,\\\r\n        #749bd7,#79a2da,#7ea8dd,#82aee0,#87b5e4,#8cbbe7,#90c2ea,#95c8ed,#9acef1,\\\r\n        #9ed5f4,#a3dbf7,#a8e1fa,#9edef7,#94daf4,#8ad6f0,#80d2ed,#84cacb,#87c2a9,\\\r\n        #8bba87,#8eb166,#92a944,#95a122,#999900,#a4a50b,#afb116,#babd21,#c5c92c,\\\r\n        #d0d537,#dce142,#e7ec4d,#f2f857,#f3f658,#f3f359,#f4f15a,#f5ee5b,#f6eb5c,\\\r\n        #f6e95d,#f7e65d,#f8e35e,#f9e15f,#fade60,#fadc61,#fbd962,#fcd663,#fdd463,\\\r\n        #fdd164,#fecf65,#ffcc66,#fdc861,#fcc55d,#fbc158,#f9be53,#f7ba4f,#f6b64a,\\\r\n        #f5b346,#f3af41,#f1ac3c,#f0a838,#efa433,#eda12e,#eb9d2a,#ea9a25,#e99620,\\\r\n        #e7931c,#e58f17,#e48b13,#e3880e,#e18409,#df8105,#de7d00);\",\r\n        \"info\": \"Elevation measurements of the dutch coast done with LIDAR. <a href='https://data.4tu.nl/repository/uuid:8a8a91bc-e520-4d19-a127-5fd2232cc58e'>Data link</a>\"\r\n\r\n  }\r\n\r\n  _.each(urls, (url) => {\r\n    var mapid = url.mapid\r\n    var token = url.token\r\n    let mapUrl = getTileUrl(mapid, token);\r\n    let layer = {\r\n      id: mapid,\r\n      name: \"lidar\",\r\n      type: \"raster\",\r\n      active: true,\r\n      layout: {\r\n        visibility: \"visible\"\r\n      },\r\n      source: {\r\n        type: \"raster\",\r\n        tiles: [mapUrl],\r\n        tileSize: 256\r\n      },\r\n      paint: {\r\n\r\n      }\r\n    };\r\n    map.addLayer(layer)\r\n    grouplayer.data.push(layer)\r\n  });\r\n  layers.push(grouplayer);\r\n  bus.$emit('select-layers', layers);\r\n}\r\n\r\nfunction getTileUrl(mapId, token) {\r\n  let baseUrl = \"https://earthengine.googleapis.com/map\";\r\n  let url = [baseUrl, mapId, \"{z}\", \"{x}\", \"{y}\"].join(\"/\");\r\n  url += \"?token=\" + token;\r\n  return url;\r\n}\r\n\r\nexport {\r\n  AddLidar\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/lidar.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\n\r\nfunction AddADCP(map, layers) {\r\n  var layer_json = {\r\n    id: 'ADCP',\r\n    active: true,\r\n    visibility: \"visible\",\r\n    name: 'ADCP',\r\n    type: 'circle',\r\n    icon: 'grain',\r\n    'icon-image': '/static/adcp.png',\r\n    source: {\r\n      type: 'geojson',\r\n      data: '/static/adcp_locations.geojson'\r\n    },\r\n    \"info\": \"Measurment from an Acoustic Doppler Current Profilers (ADCP) located at the Sand Motor. <a href='https://data.4tu.nl/repository/uuid:3bc3591b-9d9e-4600-8705-5b7eba6aa3ed'>Data link</a>\",\r\n    paint: {\r\n      'circle-radius': {\r\n        'base': 1.2,\r\n        'stops': [\r\n          [12, 2],\r\n          [22, 180]\r\n        ]\r\n      },\r\n      'circle-color': 'FireBrick'\r\n    }\r\n  }\r\n  map.addLayer(layer_json);\r\n  layers.push(layer_json)\r\n  bus.$emit('select-layers', layers);\r\n}\r\n\r\nfunction filterADCPBy(timeExtent, map) {\r\n\r\n  //timeExtent provides 2 moments\r\n  var tstart = timeExtent[0].unix();\r\n  var tend = timeExtent[1].unix();\r\n\r\n  var filters = [\r\n    \"all\",\r\n    ['>=', 'tStart', tstart],\r\n    ['<=', 'tEnd', tend],\r\n  ];\r\n  //map.setFilter('ADCP', filters);\r\n}\r\n\r\nfunction ShowADCPData(point, div_id) {\r\n  // find out which adcp was clicked\r\n  var adcpID = point.properties.ADCPID;\r\n  var url = \"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/adcp/\"\r\n  fetch(url + adcpID + \"_data.json\")\r\n    .then((resp) => {\r\n      return resp.json();\r\n    })\r\n    .then((timeseries) => {\r\n      bokehplot('velocity', adcpID, timeseries, point, div_id[0]);\r\n      bokehplot('waterdepth', adcpID, timeseries, point, div_id[1]);\r\n    })\r\n    .catch((reason) => {\r\n      console.warn(reason)\r\n    })\r\n}\r\n\r\nfunction bokehplot(mode,adcpID,timeseries, point, div_id) {\r\n\r\n  // Check if timeseries is set\r\n  if (timeseries == null) {\r\n    console.log('No timeseries defined');\r\n    return -1\r\n  }\r\n\r\n  var div = document.getElementById(div_id);\r\n  div.innerHTML = \"\"; // clear div\r\n\r\n  // General Bokeh settings\r\n  var plt = Bokeh.Plotting;\r\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\r\n\r\n  if (mode == 'velocity'){\r\n    var properties = ['Umean','Vmean']\r\n    var title = adcpID + \" depth averaged velocity\"\r\n    var ylabel = 'Current velocity [m/s]'\r\n  }\r\n  else {\r\n    var properties = ['waterdepth']\r\n    var title = adcpID + \" water depth (Scheveningen)\"\r\n    var ylabel = 'Water level [m, NAP]'\r\n  }\r\n\r\n  var plot = new plt.figure({\r\n    title:title,\r\n    tools: tools,\r\n    width: 1000,\r\n    height: 350,\r\n    x_axis_type: 'datetime',\r\n    x_axis_label: 'Time',\r\n    y_axis_label: ylabel,\r\n    background_fill_color: \"#F2F2F7\"\r\n  });\r\n\r\n  // make line lineplots\r\n  var x = timeseries['time'];\r\n\r\n  var colors = ['MidnightBlue', 'ForestGreen']\r\n\r\n  for (var i = 0; i < properties.length; i++) {\r\n    var y = timeseries[properties[i]];\r\n    var source = new Bokeh.ColumnDataSource({\r\n      data: { x: x,\r\n              y: y }\r\n      });\r\n\r\n    var line = plot.line(\r\n      { field: 'x' },\r\n      { field: 'y' },\r\n      {\r\n        source: source,\r\n        legend: properties[i],\r\n        line_color: colors[i],\r\n        line_width: 2\r\n      })\r\n  }\r\n\r\n  plot._legend.location = 'top_left';\r\n  var doc = new Bokeh.Document();\r\n  doc.add_root(plot);\r\n  Bokeh.embed.add_document_standalone(doc, div);\r\n}\r\n\r\nexport {\r\n  AddADCP, ShowADCPData, filterADCPBy\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/adcp.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\n\r\nfunction AddAeolian(map, layers) {\r\n  var layer_json = {\r\n    id: 'Aeolian',\r\n    active: true,\r\n    visibility: \"visible\",\r\n    name: 'Aeolian transport',\r\n    type: 'circle',\r\n    cursor: 'pointer',\r\n    icon: 'grain',\r\n    source: {\r\n      type: 'geojson',\r\n      data: '/static/aeolian_data.geojson'\r\n    },\r\n      \"info\": \"Processed data on aeolian sediment transport from the 6-week MegaPeX field campaign at the Sand Motor mega nourishment. <a href='https://data.4tu.nl/repository/uuid:3bc3591b-9d9e-4600-8705-5b7eba6aa3ed'>Data link</a>\",\r\n    paint: {\r\n      // make circles larger as the user zooms from z12 to z22\r\n      'circle-radius': {\r\n        'base': 1.75,\r\n        'stops': [\r\n          [12, 2],\r\n          [22, 80]\r\n        ]\r\n      },\r\n      'circle-color': [\r\n        'match', ['get', 'deploymentName'],\r\n        'dn1', '#fbb03b',\r\n        'dn2', '#223b53',\r\n        'dn3', '#e55e5e',\r\n        'dn4', '#3bb2d0',\r\n        'dn5', '#956a37',\r\n        'dn6', '#8a5f2c',\r\n        'dn7', '#815726',\r\n        'dn8', '#724c20',\r\n        'dn9', '#66451f',\r\n        'dn10', '#2f1b02',\r\n        'dn11', '#201503',\r\n        'dn67', '#453c09',\r\n        /* other */\r\n        '#ccc'\r\n      ]\r\n    }\r\n  }\r\n  map.addLayer(layer_json);\r\n  layers.push(layer_json)\r\n  bus.$emit('select-layers', layers);\r\n}\r\n\r\nfunction filterAeolianBy(timeExtent, map) {\r\n  //timeExtent provides 2 moments\r\n  var tstart = timeExtent[0].unix();\r\n  var tend = timeExtent[1].unix();\r\n  var filters = [\r\n    \"all\",\r\n    ['>=', 'tStart', tstart],\r\n    ['<=', 'tEnd', tend],\r\n  ];\r\n  map.setFilter('Aeolian', filters);\r\n}\r\n\r\nfunction ShowAeolianData(point, div_id) {\r\n  // todo check if multiple are selected; for now just select first\r\n  var deploymentName = point.properties.deploymentName;\r\n  var locationID = point.properties.location_ID;\r\n  var timeEnd = moment.unix(parseFloat(point.properties.timeEnd));\r\n  var timeStart = moment.unix(parseFloat(point.properties.timeStart));\r\n\r\n  fetch(\"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/aeolian/aeolian_data_\" + deploymentName + \".json\")\r\n    .then((resp) => {\r\n      return resp.json();\r\n    })\r\n    .then((timeseries) => {\r\n      locationID = locationID;\r\n      deploymentName = deploymentName;\r\n      timeseries = timeseries;\r\n      timeEnd = timeEnd.format('L')\r\n      timeStart = timeStart.format('L')\r\n      bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id);\r\n    })\r\n    .catch((reason) => {\r\n      console.warn(reason)\r\n    })\r\n}\r\n\r\nfunction bokehplot(locationID, deploymentName, timeseries, timeEnd, timeStart, point, div_id){\r\n\r\n  // Check if timeseries is set\r\n  if (timeseries == null) {\r\n    console.log('No timeseries defined');\r\n    return -1\r\n  }\r\n\r\n  var div = document.getElementById(div_id);\r\n  div.innerHTML = \"\"; // clear div\r\n\r\n  // General Bokeh settings\r\n  var plt = Bokeh.Plotting;\r\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\r\n\r\n  // Get time slice\r\n  var data = timeseries[deploymentName];\r\n  var keys = Object.keys(data);\r\n\r\n  // multiply by 1000 to convert to miliseconds\r\n  var x = data[keys[0]];\r\n  x = x.map(x => x*1000)\r\n\r\n  // get deployment timeStart and timeEnd\r\n  var deploymenttStart = moment.unix(parseFloat(x[0]/1000)).format('L')\r\n  var deploymenttEnd = moment.unix(parseFloat(x[x.length-1]/1000)).format('L')\r\n\r\n  var plot = new plt.figure({\r\n    title: \"Deployment: \" + deploymentName + \" Location: \" + locationID + \" Start deployment: \" + deploymenttStart + \" End deployment: \" + deploymenttEnd,\r\n    tools: tools,\r\n    width: 800,\r\n    height: 350,\r\n    x_axis_type: 'datetime',\r\n    x_axis_label: 'Time',\r\n    y_axis_label: 'Number of particles [-]',\r\n    background_fill_color: \"#F2F2F7\"\r\n  });\r\n\r\n  // output linesegment per height\r\n  var locationIDdata = data[locationID];\r\n  var heights = Object.keys(locationIDdata);\r\n  var colors = [\"#666699\", \"#66ff66\", \"#ff6666\"];\r\n\r\n  for (var i = 0; i < heights.length; i++) {\r\n    var height = 'height ' + locationIDdata[heights[i]]['height'].toString() + ' m';\r\n    var y = data[locationID][heights[i]]['particle_counts'];\r\n    //y = y.slice(begin, end);\r\n\r\n    // remove 0 values\r\n    function filterFunction(value, index, array) {\r\n      return y[index] > 0;\r\n    }\r\n    var xwithoutzero = x.filter(filterFunction);\r\n    var ywithoutzero = y.filter(filterFunction);\r\n\r\n    var source = new Bokeh.ColumnDataSource({\r\n      data: {\r\n        x: xwithoutzero,\r\n        y: ywithoutzero\r\n      }\r\n    });\r\n\r\n    var line = plot.line({field: 'x'}, {field: 'y'}, {source: source, legend: height , line_color:colors[i], line_width:2})\r\n  }\r\n\r\n  plot._legend.location = 'top_left';\r\n  var doc = new Bokeh.Document();\r\n  doc.add_root(plot);\r\n  Bokeh.embed.add_document_standalone(doc, div);\r\n}\r\n\r\nexport {AddAeolian, ShowAeolianData, filterAeolianBy};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/aeolian.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\n\r\nfunction AddDrifters(map, layers) {\r\n  var layer_json = {\r\n    active: false,\r\n    name: 'Drifters',\r\n    icon: 'explore',\r\n    id: 'Drifters',\r\n    visibility: \"visible\",\r\n    type: 'line',\r\n    source: {\r\n      type: 'geojson',\r\n      data: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/drifters/drifters.geojson',\r\n    },\r\n      \"info\": \"Drifter data as measured with GPS-tracked drifters during the megapex 2014 field campaign. Experiments have been done during ebb and flood and in a rip current. <a href='https://data.4tu.nl/repository/uuid:7f190c88-ae2e-43cf-959c-2b7d5c321573'>Data link</a>\",\r\n    paint: {\r\n      'line-color': ['get', 'color'],\r\n      'line-width': {\r\n        'base': 4.0,\r\n        'stops': [\r\n          [12, 2],\r\n          [22, 180]\r\n        ]\r\n      },\r\n    }\r\n  };\r\n  map.addLayer(layer_json);\r\n  layers.push(layer_json);\r\n  bus.$emit('select-layers', layers);\r\n}\r\n\r\nfunction filterDrifterBy(timeExtent, map) {\r\n    //timeExtent provides 2 moments\r\n    var tstart = timeExtent[0].unix();\r\n    var tend = timeExtent[1].unix();\r\n    var filters = [\r\n      \"all\",\r\n      ['>=', 'tStart', tstart],\r\n      ['<=', 'tEnd', tend],\r\n    ];\r\n    map.setFilter('Drifters', filters);\r\n}\r\n\r\nexport {AddDrifters, filterDrifterBy}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drifters.js","import $ from 'jquery';\r\nimport mapboxgl from 'mapbox-gl';\r\n// import * as Bokeh from 'bokehjs'\r\n// require.import('bokehjs') as Bokeh\r\n\r\n// require('bokehjs')\r\nimport {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\nfunction AddMeteo(map, layers) {\r\n  fetch('static/wind_data.json')\r\n    .then((resp) => {\r\n      return resp.json();\r\n    })\r\n    .then((json) => {\r\n      addCanvas(json, layers, map)\r\n      windsock(json)\r\n    });\r\n};\r\n\r\nfunction ShowMeteoData(ids){\r\n  fetch( \"https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/meteo/meteo_data_test1.json\")\r\n    .then((resp) => {\r\n      return resp.json();\r\n    })\r\n    .then((json) => {\r\n      bokehplot(\r\n        \"WindSpeed_Avg\",\r\n        document.getElementById(ids[0]),\r\n        json\r\n      );\r\n      bokehplot(\r\n        \"RelHumidity_Avg\",\r\n        document.getElementById(ids[1]),\r\n        json\r\n      );\r\n    })\r\n    .catch((reason) => {\r\n      console.warn(reason)\r\n    })\r\n};\r\n\r\nfunction addCanvas(jsondata, layers, map) {\r\n  var lat = jsondata.lat;\r\n  var lon = jsondata.lon;\r\n  var del = 0.003;\r\n  var layer_json = {\r\n    name: \"Meteo\",\r\n    active: false,\r\n    visibility: \"none\",\r\n    id: 'Meteo',\r\n    type: 'raster',\r\n    icon: 'filter_drama',\r\n    css: \"\",\r\n    range: \"\",\r\n    source: {\r\n      type: 'canvas',\r\n      animate: true,\r\n      canvas: 'windsock-canvas',\r\n      coordinates: [\r\n        [lon - del, lat + del],\r\n        [lon + del, lat + del],\r\n        [lon + del, lat - del],\r\n        [lon - del, lat - del]\r\n      ]\r\n    },\r\n      \"info\": \"Meteo measurements at the Sand Motor. Air temperature, humidity, pressure, solar radiation, precipitation, wind speed and wind direction are measured. <a href='https://data.4tu.nl/repository/uuid:b7aac156-73d4-4b62-bad4-508c95de8331'>Data link</a>\",\r\n    paint: {}\r\n  };\r\n  map.addLayer(layer_json);\r\n  layers.push(layer_json)\r\n  bus.$emit('select-layers', layers);\r\n};\r\n\r\nfunction windsock(jsondata) {\r\n  var t = 0;\r\n\r\n  function draw() {\r\n    var direc = jsondata.direc;\r\n    var aspeed = jsondata.aspeed[t];\r\n    var ctx = document.getElementById('windsock-canvas').getContext('2d');\r\n    var w = 200;\r\n    var h = 200;\r\n    var bh = 70;\r\n    var bw = 80;\r\n    var c = 100;\r\n\r\n    ctx.clearRect(0, 0, w, h);\r\n\r\n    // shadow blur\r\n    ctx.shadowColor = '#333';\r\n    ctx.shadowBlur = 10;\r\n    ctx.shadowOffsetX = 5;\r\n    ctx.shadowOffsetY = 5;\r\n    ctx.beginPath();\r\n    ctx.arc(c, c, 10, 0, Math.PI * 2);\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fill();\r\n\r\n    ctx.closePath();\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(bw, bh + 10);\r\n    ctx.lineTo(c, c);\r\n    ctx.lineTo(bw + 40, bh + 10);\r\n    ctx.stroke();\r\n    ctx.closePath();\r\n\r\n    let bands = [\r\n      [0, 80, bh, 40, 10, 'red'],\r\n      [2, 80, bh - 10, 40, 10, 'white'],\r\n      [4, 80, bh - 20, 40, 10, 'red'],\r\n      [6, 80, bh - 30, 40, 10, 'white'],\r\n      [8, 80, bh - 40, 40, 10, 'red']\r\n    ];\r\n    let selectedBands = _.filter(bands, (band) => {\r\n      let speed = band[0];\r\n      return aspeed > speed;\r\n    });\r\n    _.each(selectedBands, (band) => {\r\n      ctx.beginPath();\r\n      ctx.fillStyle = band[5];\r\n      ctx.rect(band[1], band[2], band[3], band[4]);\r\n      ctx.fill();\r\n      ctx.closePath();\r\n    });\r\n\r\n    ctx.translate(w / 2, h / 2);\r\n    ctx.rotate(-(180 - direc[t - 1]) * (2 * Math.PI / 360));\r\n    ctx.rotate((180 - direc[t]) * (2 * Math.PI / 360));\r\n    ctx.translate(-w / 2, -h / 2);\r\n    t += 1;\r\n\r\n    var D = new Date(jsondata.time[t]);\r\n    requestAnimationFrame(draw);\r\n  }\r\n  draw();\r\n};\r\n\r\nfunction bokehplot(data, div, meteodata) {\r\n  var plt = Bokeh.Plotting;\r\n  var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\r\n  var begin = 0\r\n  var end = 100000\r\n  var y = meteodata[data].slice(begin, end)\r\n  y = _.map(y, function(i) {\r\n    if (i == -999) {\r\n      return NaN\r\n    } else {\r\n      return i\r\n    }\r\n  })\r\n  var x = []\r\n  _.each(meteodata.time.slice(begin, end), function(event) {\r\n    x.push(new Date(event))\r\n  });\r\n  var source = new Bokeh.ColumnDataSource({\r\n    data: {\r\n      x: x,\r\n      y: y\r\n    }\r\n  });\r\n\r\n  // define ylabel based on source\r\n  var ylabels = {}\r\n  ylabels['RelHumidity_Avg'] = 'Relative Humidity [%]';\r\n  ylabels['WindSpeed_Avg'] = 'Wind speed 44 m above surface [m/s]';\r\n  var plot = new plt.figure({\r\n    title: data,\r\n    tools: tools,\r\n    width: 1000,\r\n    height: 350,\r\n    x_axis_type: 'datetime',\r\n    x_axis_label: 'Time',\r\n    y_axis_label: ylabels[data],\r\n    background_fill_color: \"#F2F2F7\"\r\n  });\r\n\r\n  var line = plot.line({field: 'x'}, {field: 'y'}, {source: source, legend: data, line_color: \"#666699\", line_width:2})\r\n\r\n  plot._legend.location = 'top_left';\r\n  var doc = new Bokeh.Document();\r\n  doc.add_root(plot);\r\n  Bokeh.embed.add_document_standalone(doc, div);\r\n}\r\n\r\nexport {AddMeteo, ShowMeteoData}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/meteo.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport $ from 'jquery';\r\n\r\n\r\nfunction AddMorphology(map, layers) {\r\n  var layer_json = {\r\n    \"name\": \"Sediment D50 [µm]\",\r\n    \"active\": false,\r\n    \"visibility\": \"None\",\r\n    \"icon\": \"grain\",\r\n    \"id\": \"Sediment\",\r\n    \"type\": \"circle\",\r\n    \"source\": {\r\n      \"type\": \"geojson\",\r\n      \"data\": \"static/sediment_data.geojson\"\r\n    },\r\n    \"range\": \"0  400\",\r\n    \"css\": \"background: linear-gradient(to right, \\\r\n      hsla(0, 100%, 50%, 0.5), \\\r\n      rgba(255, 255, 0, 0.5));\",\r\n    \"info\": \"Sediment sampling data from measurement campaign at the Sand Motor. <a href='https://data.4tu.nl/repository/uuid:598c390b-2368-4670-bc8c-d0b3ae09dd79'>Data link</a>\",\r\n    paint: {\r\n      \"circle-color\": {\r\n                    \"base\": 1,\r\n                    \"type\": \"exponential\",\r\n                    \"property\": \"D50\",\r\n                    \"stops\": [\r\n                        [\r\n                            0,\r\n                            \"hsla(0, 100%, 50%, 0.5)\"\r\n                        ],\r\n                        [\r\n                            400,\r\n                            \"rgba(255, 255, 0, 0.5)\"\r\n                        ]\r\n                    ],\r\n                    \"default\": \"hsl(0, 0%, 0%)\"\r\n                },\r\n      \"circle-stroke-width\": 0.5\r\n    }\r\n  }\r\n  map.addLayer(layer_json);\r\n  layers.push(layer_json)\r\n    bus.$emit('select-layers', layers);\r\n    bus.$emit('add-legend', 'test');\r\n}\r\n\r\nfunction filterMorphologyBy(timeExtent, map) {\r\n  //timeExtent provides 2 moments\r\n  var tstart = timeExtent[0].unix();\r\n  var tend = timeExtent[1].unix();\r\n  var filters = [\r\n    \"all\",\r\n    ['>=', 'time', tstart],\r\n    ['<=', 'time', tend],\r\n  ];\r\n  map.setFilter('Sediment', filters);\r\n}\r\n\r\nfunction ShowMorphologyData(data){\r\n  bokehplot(data, ddocument.getElementById(\"properties.id\"))\r\n}\r\n\r\nfunction bokehplot(data, div, meteodata) {\r\n  var plt = Bokeh.Plotting;\r\n  // var tools = \"pan,crosshair,wheel_zoom,box_zoom,reset,save\";\r\n  // var begin = 500000\r\n  // var end = 750000\r\n  // var y = meteodata[data].data.slice(begin, end)\r\n  // y = _.map(y, function(i) {\r\n  //   if (i >= 9.969209968386869e+36) {\r\n  //     return NaN\r\n  //   } else {\r\n  //     return i\r\n  //   }\r\n  // })\r\n  // var x = []\r\n  // _.each(meteodata.time.slice(begin, end), function(event) {\r\n  //   x.push(new Date(event))\r\n  // });\r\n  // var source = new Bokeh.ColumnDataSource({\r\n  //   data: {\r\n  //     x: x,\r\n  //     y: y\r\n  //   }\r\n  // });\r\n  var plot = new plt.figure({\r\n    // title: meteodata[data].title,\r\n    tools: tools,\r\n    width: 400,\r\n    height: 200,\r\n    x_axis_type: 'datetime',\r\n    background_fill_color: \"#F2F2F7\"\r\n  });\r\n  // var line = new Bokeh.Line({\r\n  //   x: {\r\n  //     field: \"x\"\r\n  //   },\r\n  //   y: {\r\n  //     field: \"y\"\r\n  //   },\r\n  //   line_color: \"#666699\",\r\n  //   line_width: 2\r\n  // });\r\n  //\r\n  // plot.add_glyph(line, source);\r\n  var doc = new Bokeh.Document();\r\n  doc.add_root(plot);\r\n  Bokeh.embed.add_document_standalone(doc, div);\r\n}\r\n\r\nexport {\r\n    AddMorphology, filterMorphologyBy, ShowMorphologyData\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/morphology.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport Vuetify from 'vuetify';\r\n\r\nimport App from './App.vue';\r\nimport Vue2MapboxGL from 'vue2mapbox-gl';\r\n\r\nVue.use(Vue2MapboxGL);\r\nVue.use(Vuetify);\r\n\r\nimport 'vuetify/dist/vuetify.min.css';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\r\nexport const bus = new Vue();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-bus.js","import _ from 'lodash';\r\nimport moment from 'moment';\r\nimport {\r\n  bus\r\n} from '@/event-bus.js';\r\nvar Remarkable = require('remarkable');\r\n\r\nexport default {\r\n  name: 'layer-control',\r\n  props: {\r\n    layers: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    map: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      btnInfo: null\r\n    };\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    // Watch \"layers\". This is a switch, which can toggle a layer on or off\r\n    // When toggled, this watcher will activate the toggleLayers function.\r\n    layers: {\r\n      handler: function(layers) {\r\n        this.toggleLayers();\r\n      },\r\n      deep: true\r\n    },\r\n  },\r\n  methods: {\r\n    addInfoCard(layerName) {\r\n\r\n      // make unique ID\r\n      var now = moment(new Date()).unix()\r\n      var layerID = layerName + \"_\" + now\r\n\r\n      var md = new Remarkable();\r\n      // launch a vcard with wiki info\r\n      fetch(bus.$emit('add-card', layerID))\r\n        .then((resp) => {\r\n          var div = document.getElementById(\"plot_\" + layerID)\r\n          div.style.width = \"500px\"\r\n          div.style.heigth = \"300px\"\r\n          console.log(div)\r\n          fetch('http://raw.githubusercontent.com/wiki/openearth/sandmotor-viewer/' + layerName + '.md', {\r\n              mode: 'cors'\r\n            })\r\n            .then(data => data.text())\r\n            .then(data => {\r\n              div.innerHTML = md.render(data)\r\n            })\r\n        })\r\n    },\r\n\r\n    toggleLayers() {\r\n      if (_.isNil(this.map)) {\r\n        return;\r\n      }\r\n      // Function to toggle the visibility of the layers.\r\n      _.each(this.layers, (layer) => {\r\n        var vis = \"none\"\r\n        if (layer.active) {\r\n          vis = \"visible\"\r\n        }\r\n\r\n        if (layer.type === 'group') {\r\n          _.each(layer.data, (sublayer) => {\r\n            this.map.setLayoutProperty(sublayer.id, \"visibility\", vis);\r\n          })\r\n        } else {\r\n          this.map.setLayoutProperty(layer.id, \"visibility\", vis);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layer-control.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-control\"},_vm._l((_vm.layers),function(layer){return _c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(layer.name))]),_vm._v(\" \"),_c('v-list-tile-action',{staticStyle:{\"display\":\"-webkit-box\"}},[_c('v-icon',[_vm._v(_vm._s(layer.icon))]),_vm._v(\" \"),_c('v-btn',{staticStyle:{\"min-width\":\"30px\"},attrs:{\"small\":\"\"},nativeOn:{\"click\":function($event){_vm.addInfoCard(layer.id)}}},[_c('v-icon',[_vm._v(\"fa-question\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc2eac4e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport _ from 'lodash';\r\nimport Vue from 'vue';\r\n\r\nexport default {\r\n  name: 'morphology-canvas',\r\n  data () {\r\n    return {\r\n      baseUrl: 'https://s3-eu-west-1.amazonaws.com/deltares-opendata/zandmotor/morphology/jetski',\r\n      meta: null,\r\n      map: null\r\n    };\r\n  },\r\n  mounted() {\r\n    fetch(this.baseUrl + '/meta.json')\r\n      .then((resp) => {\r\n        return resp.json();\r\n      })\r\n      .then(json => {\r\n        this.meta = json;\r\n        Vue.nextTick(() => {\r\n          // after we render everything lookup all elements\r\n          _.each(\r\n            this.meta,\r\n            (item, i) => {\r\n\r\n              const selector = '#morphology-' + i;\r\n              const el = this.$el.querySelector(selector)\r\n              const children = el.children;\r\n              const [video, source, dest] = children;\r\n              item.width = 500;\r\n              item.height = 625;\r\n              item.video = video;\r\n              item.source = source;\r\n              item.dest = dest;\r\n              item.ctxSrc = source.getContext('2d');\r\n              item.ctxDest = dest.getContext('2d');\r\n\r\n\r\n              item.id = 'morphology-canvas-' + i;\r\n\r\n              let layer = {\r\n                name: \"Jetski-\" + i,\r\n                active: false,\r\n                visibility: \"none\",\r\n                id: item.id,\r\n                type: 'raster',\r\n                icon: 'filter_drama',\r\n                source: {\r\n                  type: 'canvas',\r\n                  animate: true,\r\n                  canvas: item.id,\r\n                  coordinates: [\r\n                    [item.extent[0], item.extent[1]],\r\n                    [item.extent[2], item.extent[1]],\r\n                    [item.extent[2], item.extent[3]],\r\n                    [item.extent[0], item.extent[3]]\r\n                  ]\r\n                },\r\n                paint: {}\r\n              };\r\n              item.layer = layer;\r\n              console.log('layer', layer);\r\n              this.publishLayers();\r\n\r\n\r\n            }\r\n          )\r\n          this.animate();\r\n\r\n        });\r\n      })\r\n\r\n  },\r\n  methods: {\r\n    deferredMountedTo(map) {\r\n      this.map = map;\r\n      this.publishLayers();\r\n    },\r\n    animate() {\r\n      requestAnimationFrame(this.animate);\r\n      _.each(this.meta, (item) => {\r\n        // render to canvas\r\n        item.ctxSrc.drawImage(item.video, 0, 0, item.width, item.height * 2);\r\n        // get frame into memory\r\n        const nPixels = (item.width * item.height);\r\n        let frame = item.ctxSrc.getImageData(0, 0, item.width, item.height * 2)\r\n        for (let i = 0; i < nPixels; i++) {\r\n          let r = frame.data[i * 4 + 0];\r\n          let g = frame.data[i * 4 + 1];\r\n          let b = frame.data[i * 4 + 2];\r\n          let a = frame.data[(i * 4) + nPixels * 4] > 100 ? 0 : 255;\r\n          frame.data[i * 4 + 3] = a;\r\n        };\r\n        item.ctxDest.putImageData(frame, 0, 0);\r\n      });\r\n    },\r\n    publishLayers() {\r\n      if (this.map == null) {\r\n        // map is not set yet\r\n        return;\r\n      }\r\n      _.each(this.meta, (item) => {\r\n        this.map.addLayer(item.layer);\r\n        bus.$emit('add-layer', item.layer);\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/morphology-canvas.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"},_vm._l((_vm.meta),function(item,index){return _c('div',{attrs:{\"id\":'morphology-' + index}},[_c('video',{staticClass:\"hidden\",attrs:{\"width\":500,\"height\":1250,\"src\":_vm.baseUrl + '/' + item.mp4,\"autoplay\":\"\",\"loop\":\"\",\"crossorigin\":\"anonymous\"}}),_vm._v(\" \"),_c('canvas',{staticClass:\"source hidden\",attrs:{\"width\":500,\"height\":1250}}),_vm._v(\" \"),_c('canvas',{staticClass:\"dest\",attrs:{\"width\":500,\"height\":625,\"id\":'morphology-canvas-' + index}})])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d430a7e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MorphologyCanvas.vue\n// module id = null\n// module chunks = ","import $ from 'jquery';\r\nimport _ from 'lodash';\r\nimport Vue from 'vue';\r\nimport moment from 'moment';\r\nimport ionRangeslider from 'ion-rangeslider/js/ion.rangeSlider.js';\r\nimport 'font-awesome/css/font-awesome.css';\r\n\r\nconst DAY_FORMAT = 'Y-MM-DD'\r\n\r\nexport default {\r\n  name: \"time-slider\",\r\n  props: {\r\n    showPlay: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // the maximum extent for this slider\r\n    extent: {\r\n      type: Array,\r\n      default () {\r\n        let now = moment()\r\n        let then = moment(\"20110301\", \"YYYYMMDD\")\r\n        return [then, now]\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      configDialog: false,\r\n      startDateMenu: false,\r\n      endDateMenu: false,\r\n      // by default use the full extent\r\n      startDate: this.extent[0].format(DAY_FORMAT),\r\n      endDate: this.extent[1].format(DAY_FORMAT),\r\n      // duration of a loop\r\n      loopDuration: 20,\r\n      maxFps: 10,\r\n      // last timestep (for syncing rate)\r\n      last: null,\r\n      loop: true,\r\n      state: 'paused',\r\n      slider: null\r\n    };\r\n  },\r\n  mounted() {\r\n    Vue.nextTick(() => {\r\n      let input = this.$el.querySelector(\"input.slider\");\r\n      $(input).ionRangeSlider({\r\n        type: \"double\",\r\n        drag_interval: true,\r\n        min: 0,\r\n        max: 1,\r\n        // not sure how to avoid steps, now use 1000 steps\r\n        step: 0.001,\r\n        grid: false,\r\n        hide_min_max: true,\r\n        onFinish: (val) => {\r\n          this.$emit('time-extent-update', this.currentExtent)\r\n        },\r\n        onUpdate: (val) => {\r\n          this.$emit('time-extent-update', this.currentExtent)\r\n        },\r\n        prettify: val => this.dateFormat(val)\r\n      });\r\n      this.slider = $(input).data(\"ionRangeSlider\");\r\n      this.step()\r\n    })\r\n  },\r\n  watch: {\r\n    extent(val) {\r\n      if (this.slider.dragging) {\r\n        return;\r\n      }\r\n      // always slide from 0 to 1\r\n      this.slider.update({\r\n        from: 0,\r\n        to: 1\r\n      });\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    pause() {\r\n      this.state = 'paused';\r\n    },\r\n    play() {\r\n      this.last = performance.now();\r\n      this.state = 'playing';\r\n    },\r\n    step(now) {\r\n      // request the next step (yes you can call this function now, does not matter)\r\n      requestAnimationFrame(this.step)\r\n      // first update, when this.last is still null, set value and return\r\n      if (!this.last) {\r\n        this.last = now;\r\n        return\r\n      }\r\n      // now we can just return if we are not playing (will result in a regular poll for playing)\r\n      if (this.state !== 'playing') {\r\n        return;\r\n      }\r\n      // elapsed time in seconds\r\n      const elapsed = (now - this.last)/1000;\r\n      // seconds per frame did not elapse, we're done\r\n      if (elapsed < (1/this.maxFps)) {\r\n        // this keeps the number of events low (otherwise you get 60 events per second)\r\n        return;\r\n      }\r\n      // elapsed fraction\r\n      const frac = elapsed / this.loopDuration;\r\n      // update with fraction\r\n      const val = {\r\n        from: _.clamp(this.slider.result.from + frac, 0, 1),\r\n        to: _.clamp(this.slider.result.to + frac, 0, 1)\r\n      }\r\n      // TODO: google earth uses a smarter loop,\r\n      // it keeps track of the diff somehow\r\n      // we reached the end, loop\r\n      if (val.to == 1) {\r\n        if (this.loop) {\r\n          val.to = val.to - val.from\r\n          val.from = 0\r\n        } else {\r\n          // stop updating\r\n          return;\r\n        }\r\n      }\r\n      // apply it to the slider (fires update event)\r\n      this.slider.update(val)\r\n      // remember current time\r\n      this.last = now;\r\n    },\r\n    dateByFraction (fraction) {\r\n      // miliseconds diff\r\n      const start = moment(this.startDate)\r\n      const end = moment(this.endDate)\r\n      // positive number of miliseconds\r\n      const diff = end.diff(start)\r\n      const time = start.clone().add(diff * fraction, 'ms')\r\n      return time\r\n    },\r\n    dateFormat (fraction) {\r\n      return this.dateByFraction(fraction).format(DAY_FORMAT)\r\n    },\r\n    deferredMountedTo(map) {\r\n      // Used when nested in a Leaflet or Mapbox\r\n    }\r\n  },\r\n  computed: {\r\n    currentTime() {\r\n      return this.dateByFraction(this.slider.result.to);\r\n    },\r\n    currentExtent() {\r\n      return [\r\n        this.dateByFraction(this.slider.result.from),\r\n        this.dateByFraction(this.slider.result.to)\r\n      ];\r\n    },\r\n    allowedDates() {\r\n      // return allowed dates, based on extent\r\n      return {\r\n        min: this.extent[0].format(DAY_FORMAT),\r\n        max: this.extent[1].format(DAY_FORMAT)\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/time-slider.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"time-slider\",attrs:{\"color\":\"white\",\"floating\":\"\",\"dense\":\"\",\"role\":\"slider\"}},[_c('div',{staticClass:\"time-slider-wrapper\"},[_c('input',{staticClass:\"slider\",attrs:{\"type\":\"text\",\"name\":\"slider\",\"value\":\"\"}})]),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}},[_c('v-btn',{attrs:{\"value\":\"playing\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.play($event)}}},[_c('v-icon',[_vm._v(\"fa-play\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"value\":\"paused\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.pause($event)}}},[_c('v-icon',[_vm._v(\"fa-pause\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showPlay)?_c('v-btn-toggle',{model:{value:(_vm.loop),callback:function ($$v) {_vm.loop=$$v},expression:\"loop\"}},[_c('v-btn',{attrs:{\"value\":true,\"flat\":\"\"}},[_c('v-icon',[_vm._v(\"fa-repeat\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog = true}}},[_c('v-icon',[_vm._v(\"fa-gear\")])],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.configDialog),callback:function ($$v) {_vm.configDialog=$$v},expression:\"configDialog\"}},[_c('v-card',[_c('v-card-text',[_c('v-menu',{ref:\"startDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.startDate},on:{\"update:returnValue\":function($event){_vm.startDate=$event}},model:{value:(_vm.startDateMenu),callback:function ($$v) {_vm.startDateMenu=$$v},expression:\"startDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_vm._v(\" \"),_c('v-menu',{ref:\"endDateMenu\",attrs:{\"lazy\":\"\",\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"return-value\":_vm.endDate},on:{\"update:returnValue\":function($event){_vm.endDate=$event}},model:{value:(_vm.endDateMenu),callback:function ($$v) {_vm.endDateMenu=$$v},expression:\"endDateMenu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Picker in menu\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"allowed-dates\":_vm.allowedDates,\"no-title\":\"\",\"scrollable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar save = ref.save;\nvar cancel = ref.cancel;\nreturn [_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":cancel}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":save}},[_vm._v(\"OK\")])],1)]}}]),model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();_vm.configDialog=false}}},[_vm._v(\"Close\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-674f5e0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TimeSlider.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport {\r\n  bus\r\n} from '@/event-bus.js';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport * as MapboxDraw from '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js';\r\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\r\nimport moment from 'moment';\r\n\r\n\r\nimport LayerControl from './components/LayerControl';\r\nimport MorphologyCanvas from './components/MorphologyCanvas';\r\nimport TimeSlider from './components/TimeSlider';\r\nimport {\r\n  DrawControls,\r\n  addBathymetryPlot\r\n} from './components/map-draw.js';\r\n\r\nimport {\r\n  updateJetski\r\n} from './components/jetski.js'\r\nimport {\r\n  AddLidar\r\n} from './components/lidar.js'\r\nimport {\r\n  AddADCP,\r\n  ShowADCPData,\r\n  filterADCPBy\r\n} from './components/adcp.js'\r\nimport {\r\n  AddAeolian,\r\n  ShowAeolianData,\r\n  filterAeolianBy\r\n} from './components/aeolian.js';\r\nimport {\r\n  AddDrifters,\r\n  filterDrifterBy\r\n} from './components/drifters.js';\r\nimport {\r\n  AddMeteo,\r\n  ShowMeteoData\r\n} from './components/meteo.js'\r\nimport {\r\n  AddMorphology,\r\n  filterMorphologyBy\r\n} from './components/morphology.js'\r\n\r\nvar draw = new MapboxDraw({\r\n  displayControlsDefault: false,\r\n  controls: {\r\n    line_string: true,\r\n    trash: true\r\n  }\r\n});\r\n\r\n\r\nexport default {\r\n  name: 'app',\r\n  data: function() {\r\n    return {\r\n      map: null,\r\n      drawer: false,\r\n      fixed: false,\r\n      showSettings: false,\r\n      items: [{\r\n        icon: 'bubble_chart',\r\n        title: 'Inspire'\r\n      }],\r\n      layers: [],\r\n      jsondata: \"None\",\r\n      msg: \"\",\r\n      timeExtent: [moment(\"20110301\", \"YYYYMMDD\"), moment()],\r\n      plots: [],\r\n      draws: []\r\n    };\r\n  },\r\n  mounted() {\r\n    bus.$on('select-layers', (layers) => {\r\n      Vue.set(this, 'layers', layers);\r\n    });\r\n    bus.$on('add-layer', (layer) => {\r\n      this.layers.push(layer);\r\n    });\r\n    bus.$on('add-card', (card) => {\r\n      this.plots.push(card);\r\n    });\r\n\r\n    bus.$on('click-plots', (plots) => {\r\n      Vue.set(this, 'plots', plots);\r\n    });\r\n    bus.$on('map-loaded', (event) => {\r\n      Vue.set(this, 'map', event.target);\r\n    });\r\n\r\n    this.$refs.timeslider.$on('time-extent-update', (event) => {\r\n      this.timeExtent = event;\r\n      // check which layers are active\r\n      var activeLayers = []\r\n      for (var i = 0; i < this.layers.length; i++) {\r\n        if (this.layers[i].active) {\r\n          activeLayers.push(this.layers[i].id)\r\n        }\r\n      };\r\n      // filter some map layers with filter options on time\r\n      if (activeLayers.indexOf(\"Drifters\") > -1) {\r\n        filterDrifterBy(this.timeExtent, this.$refs.map.map);\r\n      };\r\n      if (activeLayers.indexOf(\"Aeolian\") > -1) {\r\n        filterAeolianBy(this.timeExtent, this.$refs.map.map);\r\n      }\r\n      if (activeLayers.indexOf(\"Sediment\") > -1) {\r\n        console.log('check')\r\n        filterMorphologyBy(this.timeExtent,this.$refs.map.map);\r\n      }\r\n      if (activeLayers.indexOf(\"Jetski\") > -1) {\r\n        updateJetski(this.$refs.map.map, this.layers, this.timeExtent[0], this.timeExtent[1]);\r\n      }\r\n      DrawControls(this.$refs.map.map, this.draws, this.timeExtent[0], this.timeExtent[1], 'bathymetry_jetski')\r\n\r\n      // filter all open Bokeh plots on TimeSlider\r\n      var keys = Object.keys(Bokeh.index)\r\n      var tstart = this.timeExtent[0].unix() * 1000;\r\n      var tend = this.timeExtent[1].unix() * 1000;\r\n      for (var i = 0; i < keys.length; i++) {\r\n        var array1 = Bokeh.index[keys[i]].model.attributes.renderers;\r\n        if (array1.map(x => x.type).indexOf('DatetimeAxis') > 0) { // check if bokeh plot contains DatetimeAxis\r\n          Bokeh.index[keys[i]].model.x_range.start = tstart\r\n          Bokeh.index[keys[i]].model.x_range.end = tend\r\n        }\r\n      }\r\n    })\r\n\r\n    this.$refs.map.$on('mb-load', (event) => {\r\n      bus.$emit('map-loaded', event);\r\n\r\n      // Add different layers (Meteo, Morphology and Aeolian)\r\n      this.$refs.map.map.addControl(draw);\r\n\r\n      AddMeteo(this.$refs.map.map, this.layers);\r\n      AddMorphology(this.$refs.map.map, this.layers);\r\n      AddAeolian(this.$refs.map.map, this.layers);\r\n      AddDrifters(this.$refs.map.map, this.layers);\r\n      // AddJetski(this.$refs.map.map, this.layers)\r\n      AddLidar(this.$refs.map.map, this.layers);\r\n      AddADCP(this.$refs.map.map, this.layers);\r\n      updateJetski(this.$refs.map.map, this.layers);\r\n      // TODO: Click event toevoegen\r\n      this.map.on('mousemove', (e) => {\r\n        this.$refs.map.map.getCanvas().style.cursor = '';\r\n        var features = this.map.queryRenderedFeatures(e.point);\r\n        if (typeof features[0] !== 'undefined') {\r\n          this.$refs.map.map.getCanvas().style.cursor = 'pointer';\r\n        }\r\n      })\r\n      this.$refs.map.map.on('draw.create', () => {\r\n        var regions = draw.getAll()\r\n        var region = regions.features[regions.features.length - 1].geometry\r\n        var div_id = JSON.stringify(region)\r\n        this.draws.push(region)\r\n        this.plots.push(div_id)\r\n        bus.$emit('click-plots', this.plots);\r\n        DrawControls(this.$refs.map.map, this.draws, this.timeExtent[0], this.timeExtent[1], 'bathymetry_jetski')\r\n      })\r\n\r\n\r\n\r\n      this.map.on('click', (e) => {\r\n        var click_lon = e.lngLat.lng\r\n        var click_lat = e.lngLat.lat\r\n        // WHen meteo-layer is visible and clicked on\r\n        if (this.map.getLayer('Meteo').visibility === 'visible') {\r\n          var meteo = this.layers.find(item => item.id === \"Meteo\")\r\n          var lon_min = meteo.source.coordinates[0][0]\r\n          var lon_max = meteo.source.coordinates[1][0]\r\n          var lat_min = meteo.source.coordinates[2][1]\r\n          var lat_max = meteo.source.coordinates[0][1]\r\n          if (click_lon <= lon_max && click_lat <= lat_max &&\r\n            click_lon >= lon_min && click_lat >= lat_min) {\r\n            var ids = []\r\n            var params = [\"WindSpeed_Avg\", \"RelHumidity_Avg\"]\r\n            _.each(params, (p) => {\r\n              this.plots.push(p)\r\n              ids.push(\"plot_\" + p)\r\n              bus.$emit('click-plots', this.plots);\r\n            })\r\n            ShowMeteoData(ids)\r\n          }\r\n        }\r\n\r\n\r\n\r\n        // When clicked on a feature of Morphology or aeolian\r\n        var features = this.map.queryRenderedFeatures(e.point);\r\n        _.each(features, (point) => {\r\n          if (point.layer.id == \"Sediment\") {\r\n            var div_id = point.properties.id\r\n            this.plots.push(div_id)\r\n            bus.$emit('click-plots', this.plots);\r\n            // ShowMorphologyData(point.properties, \"plot_\" + div_id)\r\n          } else if (point.layer.id == \"Aeolian\") {\r\n            var div_id = \"Particle_\" + point.properties.deploymentName + \"_\" + point.properties.location_ID\r\n            this.plots.push(div_id)\r\n            bus.$emit('click-plots', this.plots);\r\n            ShowAeolianData(point, \"plot_\" + div_id)\r\n          } else if (point.layer.id == \"ADCP\") {\r\n            var ids = []\r\n            var params = [point.properties.ADCPID + '_adcp-f-1', point.properties.ADCPID + '_adcp-f-2']\r\n            _.each(params, (p) => {\r\n              this.plots.push(p)\r\n              ids.push(\"plot_\" + p)\r\n              bus.$emit('click-plots', this.plots);\r\n            })\r\n            ShowADCPData(point, ids)\r\n          }\r\n        })\r\n      });\r\n    })\r\n\r\n  },\r\n  methods: {\r\n    removePlot(e) {\r\n      var index = this.plots.indexOf(e);\r\n      this.plots.splice(index, 1);\r\n      bus.$emit('click-plots', this.plots);\r\n    }\r\n  },\r\n  components: {\r\n    'layer-control': LayerControl,\r\n    'time-slider': TimeSlider\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',{staticClass:\"title\"},[_vm._v(\"\\r\\n            Layers\\r\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('layer-control',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"light\":\"\",\"app\":\"\",\"clipped\":\"\",\"fixed\":\"\"}},[_c('v-toolbar-title',{staticClass:\"ml-0 pl-3\"},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\"\\r\\n      Zandmotor data\\r\\n    \")],1),_vm._v(\" \"),_c('time-slider',{ref:\"timeslider\",attrs:{\"show-play\":false}}),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-avatar',{attrs:{\"width\":\"64px\"}},[_c('a',{staticClass:\"btn btn--flat btn--router\",attrs:{\"icon\":\"\",\"large\":\"\",\"href\":\"http://www.dezandmotor.nl/en/\",\"target\":\"parent\"}},[_c('img',{attrs:{\"src\":\"src/assets/NatureCoastLogo.png\",\"alt\":\"Logo\"}})])]),_vm._v(\" \"),_c('v-avatar',{attrs:{\"size\":\"64px\"}},[_c('a',{staticClass:\"btn btn--flat btn--router\",attrs:{\"icon\":\"\",\"large\":\"\",\"href\":\"http://www.stw.nl/en\",\"target\":\"parent\"}},[_c('img',{attrs:{\"src\":\"src/assets/STWlogo.png\",\"alt\":\"Logo\"}})])]),_vm._v(\" \"),_c('v-avatar',{attrs:{\"size\":\"64px\"}},[_c('a',{staticClass:\"btn btn--flat btn--router\",attrs:{\"icon\":\"\",\"large\":\"\",\"href\":\"https://github.com/openearth/sandmotor-viewer\",\"target\":\"parent\"}},[_c('img',{attrs:{\"src\":\"src/assets/GitHub-Mark.png\",\"alt\":\"Logo\"}})])]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"mailto:Arjen.Luijendijk@deltares.nlSubject=Contact%20Zandmotor%20data\",\"target\":\"_top\"}},[_vm._v(\"contact\")])],1),_vm._v(\" \"),_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"fluid\":\"\",\"row\":\"\",\"wrap\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\",\"mb-2\":\"\"}},[_c('v-card',{attrs:{\"id\":\"map\"}},[_c('v-card-text',[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA\",\"map-style\":\"mapbox://styles/mapbox/satellite-streets-v10\",\"center\":[4.186, 52.060],\"zoom\":12.5,\"pitch\":5.00,\"bearing\":-0,\"min-zoom\":5,\"id\":\"map\"}},[_c('canvas',{attrs:{\"id\":\"windsock-canvas\",\"width\":\"200\",\"height\":\"200\"}})])],1)],1)],1),_vm._v(\" \"),_vm._l((_vm.plots),function(plot){return _c('v-card',{key:plot,staticClass:\"mb-1 mr-1\",attrs:{\"id\":'card_'+ plot}},[_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.removePlot(plot, $event)}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_vm._v(\" \"),_c('v-card-text',[_c('div',{staticClass:\"plot-container bk-root\",attrs:{\"id\":'plot_'+ plot}})])],1)})],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-542ad564\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-542ad564\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!./app.js\"/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-542ad564\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var map = {\n\t\"./af\": \"3CJN\",\n\t\"./af.js\": \"3CJN\",\n\t\"./ar\": \"3MVc\",\n\t\"./ar-dz\": \"tkWw\",\n\t\"./ar-dz.js\": \"tkWw\",\n\t\"./ar-kw\": \"j8cJ\",\n\t\"./ar-kw.js\": \"j8cJ\",\n\t\"./ar-ly\": \"wPpW\",\n\t\"./ar-ly.js\": \"wPpW\",\n\t\"./ar-ma\": \"dURR\",\n\t\"./ar-ma.js\": \"dURR\",\n\t\"./ar-sa\": \"7OnE\",\n\t\"./ar-sa.js\": \"7OnE\",\n\t\"./ar-tn\": \"BEem\",\n\t\"./ar-tn.js\": \"BEem\",\n\t\"./ar.js\": \"3MVc\",\n\t\"./az\": \"eHwN\",\n\t\"./az.js\": \"eHwN\",\n\t\"./be\": \"3hfc\",\n\t\"./be.js\": \"3hfc\",\n\t\"./bg\": \"lOED\",\n\t\"./bg.js\": \"lOED\",\n\t\"./bm\": \"hng5\",\n\t\"./bm.js\": \"hng5\",\n\t\"./bn\": \"aM0x\",\n\t\"./bn.js\": \"aM0x\",\n\t\"./bo\": \"w2Hs\",\n\t\"./bo.js\": \"w2Hs\",\n\t\"./br\": \"OSsP\",\n\t\"./br.js\": \"OSsP\",\n\t\"./bs\": \"aqvp\",\n\t\"./bs.js\": \"aqvp\",\n\t\"./ca\": \"wIgY\",\n\t\"./ca.js\": \"wIgY\",\n\t\"./cs\": \"ssxj\",\n\t\"./cs.js\": \"ssxj\",\n\t\"./cv\": \"N3vo\",\n\t\"./cv.js\": \"N3vo\",\n\t\"./cy\": \"ZFGz\",\n\t\"./cy.js\": \"ZFGz\",\n\t\"./da\": \"YBA/\",\n\t\"./da.js\": \"YBA/\",\n\t\"./de\": \"DOkx\",\n\t\"./de-at\": \"8v14\",\n\t\"./de-at.js\": \"8v14\",\n\t\"./de-ch\": \"Frex\",\n\t\"./de-ch.js\": \"Frex\",\n\t\"./de.js\": \"DOkx\",\n\t\"./dv\": \"rIuo\",\n\t\"./dv.js\": \"rIuo\",\n\t\"./el\": \"CFqe\",\n\t\"./el.js\": \"CFqe\",\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\",\n\t\"./eo\": \"Nd3h\",\n\t\"./eo.js\": \"Nd3h\",\n\t\"./es\": \"LT9G\",\n\t\"./es-do\": \"7MHZ\",\n\t\"./es-do.js\": \"7MHZ\",\n\t\"./es-us\": \"INcR\",\n\t\"./es-us.js\": \"INcR\",\n\t\"./es.js\": \"LT9G\",\n\t\"./et\": \"XlWM\",\n\t\"./et.js\": \"XlWM\",\n\t\"./eu\": \"sqLM\",\n\t\"./eu.js\": \"sqLM\",\n\t\"./fa\": \"2pmY\",\n\t\"./fa.js\": \"2pmY\",\n\t\"./fi\": \"nS2h\",\n\t\"./fi.js\": \"nS2h\",\n\t\"./fo\": \"OVPi\",\n\t\"./fo.js\": \"OVPi\",\n\t\"./fr\": \"tzHd\",\n\t\"./fr-ca\": \"bXQP\",\n\t\"./fr-ca.js\": \"bXQP\",\n\t\"./fr-ch\": \"VK9h\",\n\t\"./fr-ch.js\": \"VK9h\",\n\t\"./fr.js\": \"tzHd\",\n\t\"./fy\": \"g7KF\",\n\t\"./fy.js\": \"g7KF\",\n\t\"./gd\": \"nLOz\",\n\t\"./gd.js\": \"nLOz\",\n\t\"./gl\": \"FuaP\",\n\t\"./gl.js\": \"FuaP\",\n\t\"./gom-latn\": \"+27R\",\n\t\"./gom-latn.js\": \"+27R\",\n\t\"./gu\": \"rtsW\",\n\t\"./gu.js\": \"rtsW\",\n\t\"./he\": \"Nzt2\",\n\t\"./he.js\": \"Nzt2\",\n\t\"./hi\": \"ETHv\",\n\t\"./hi.js\": \"ETHv\",\n\t\"./hr\": \"V4qH\",\n\t\"./hr.js\": \"V4qH\",\n\t\"./hu\": \"xne+\",\n\t\"./hu.js\": \"xne+\",\n\t\"./hy-am\": \"GrS7\",\n\t\"./hy-am.js\": \"GrS7\",\n\t\"./id\": \"yRTJ\",\n\t\"./id.js\": \"yRTJ\",\n\t\"./is\": \"upln\",\n\t\"./is.js\": \"upln\",\n\t\"./it\": \"FKXc\",\n\t\"./it.js\": \"FKXc\",\n\t\"./ja\": \"ORgI\",\n\t\"./ja.js\": \"ORgI\",\n\t\"./jv\": \"JwiF\",\n\t\"./jv.js\": \"JwiF\",\n\t\"./ka\": \"RnJI\",\n\t\"./ka.js\": \"RnJI\",\n\t\"./kk\": \"j+vx\",\n\t\"./kk.js\": \"j+vx\",\n\t\"./km\": \"5j66\",\n\t\"./km.js\": \"5j66\",\n\t\"./kn\": \"gEQe\",\n\t\"./kn.js\": \"gEQe\",\n\t\"./ko\": \"eBB/\",\n\t\"./ko.js\": \"eBB/\",\n\t\"./ky\": \"6cf8\",\n\t\"./ky.js\": \"6cf8\",\n\t\"./lb\": \"z3hR\",\n\t\"./lb.js\": \"z3hR\",\n\t\"./lo\": \"nE8X\",\n\t\"./lo.js\": \"nE8X\",\n\t\"./lt\": \"/6P1\",\n\t\"./lt.js\": \"/6P1\",\n\t\"./lv\": \"jxEH\",\n\t\"./lv.js\": \"jxEH\",\n\t\"./me\": \"svD2\",\n\t\"./me.js\": \"svD2\",\n\t\"./mi\": \"gEU3\",\n\t\"./mi.js\": \"gEU3\",\n\t\"./mk\": \"Ab7C\",\n\t\"./mk.js\": \"Ab7C\",\n\t\"./ml\": \"oo1B\",\n\t\"./ml.js\": \"oo1B\",\n\t\"./mr\": \"5vPg\",\n\t\"./mr.js\": \"5vPg\",\n\t\"./ms\": \"ooba\",\n\t\"./ms-my\": \"G++c\",\n\t\"./ms-my.js\": \"G++c\",\n\t\"./ms.js\": \"ooba\",\n\t\"./mt\": \"oCzW\",\n\t\"./mt.js\": \"oCzW\",\n\t\"./my\": \"F+2e\",\n\t\"./my.js\": \"F+2e\",\n\t\"./nb\": \"FlzV\",\n\t\"./nb.js\": \"FlzV\",\n\t\"./ne\": \"/mhn\",\n\t\"./ne.js\": \"/mhn\",\n\t\"./nl\": \"3K28\",\n\t\"./nl-be\": \"Bp2f\",\n\t\"./nl-be.js\": \"Bp2f\",\n\t\"./nl.js\": \"3K28\",\n\t\"./nn\": \"C7av\",\n\t\"./nn.js\": \"C7av\",\n\t\"./pa-in\": \"pfs9\",\n\t\"./pa-in.js\": \"pfs9\",\n\t\"./pl\": \"7LV+\",\n\t\"./pl.js\": \"7LV+\",\n\t\"./pt\": \"ZoSI\",\n\t\"./pt-br\": \"AoDM\",\n\t\"./pt-br.js\": \"AoDM\",\n\t\"./pt.js\": \"ZoSI\",\n\t\"./ro\": \"wT5f\",\n\t\"./ro.js\": \"wT5f\",\n\t\"./ru\": \"ulq9\",\n\t\"./ru.js\": \"ulq9\",\n\t\"./sd\": \"fW1y\",\n\t\"./sd.js\": \"fW1y\",\n\t\"./se\": \"5Omq\",\n\t\"./se.js\": \"5Omq\",\n\t\"./si\": \"Lgqo\",\n\t\"./si.js\": \"Lgqo\",\n\t\"./sk\": \"OUMt\",\n\t\"./sk.js\": \"OUMt\",\n\t\"./sl\": \"2s1U\",\n\t\"./sl.js\": \"2s1U\",\n\t\"./sq\": \"V0td\",\n\t\"./sq.js\": \"V0td\",\n\t\"./sr\": \"f4W3\",\n\t\"./sr-cyrl\": \"c1x4\",\n\t\"./sr-cyrl.js\": \"c1x4\",\n\t\"./sr.js\": \"f4W3\",\n\t\"./ss\": \"7Q8x\",\n\t\"./ss.js\": \"7Q8x\",\n\t\"./sv\": \"Fpqq\",\n\t\"./sv.js\": \"Fpqq\",\n\t\"./sw\": \"DSXN\",\n\t\"./sw.js\": \"DSXN\",\n\t\"./ta\": \"+7/x\",\n\t\"./ta.js\": \"+7/x\",\n\t\"./te\": \"Nlnz\",\n\t\"./te.js\": \"Nlnz\",\n\t\"./tet\": \"gUgh\",\n\t\"./tet.js\": \"gUgh\",\n\t\"./th\": \"XzD+\",\n\t\"./th.js\": \"XzD+\",\n\t\"./tl-ph\": \"3LKG\",\n\t\"./tl-ph.js\": \"3LKG\",\n\t\"./tlh\": \"m7yE\",\n\t\"./tlh.js\": \"m7yE\",\n\t\"./tr\": \"k+5o\",\n\t\"./tr.js\": \"k+5o\",\n\t\"./tzl\": \"iNtv\",\n\t\"./tzl.js\": \"iNtv\",\n\t\"./tzm\": \"FRPF\",\n\t\"./tzm-latn\": \"krPU\",\n\t\"./tzm-latn.js\": \"krPU\",\n\t\"./tzm.js\": \"FRPF\",\n\t\"./uk\": \"ntHu\",\n\t\"./uk.js\": \"ntHu\",\n\t\"./ur\": \"uSe8\",\n\t\"./ur.js\": \"uSe8\",\n\t\"./uz\": \"XU1s\",\n\t\"./uz-latn\": \"/bsm\",\n\t\"./uz-latn.js\": \"/bsm\",\n\t\"./uz.js\": \"XU1s\",\n\t\"./vi\": \"0X8Q\",\n\t\"./vi.js\": \"0X8Q\",\n\t\"./x-pseudo\": \"e/KL\",\n\t\"./x-pseudo.js\": \"e/KL\",\n\t\"./yo\": \"YXlc\",\n\t\"./yo.js\": \"YXlc\",\n\t\"./zh-cn\": \"Vz2w\",\n\t\"./zh-cn.js\": \"Vz2w\",\n\t\"./zh-hk\": \"ZUyn\",\n\t\"./zh-hk.js\": \"ZUyn\",\n\t\"./zh-tw\": \"BbgG\",\n\t\"./zh-tw.js\": \"BbgG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"uslO\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = uslO\n// module chunks = 1"],"sourceRoot":""}